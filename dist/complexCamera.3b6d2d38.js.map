{"mappings":"oeAAA,ICaiVA,EDbjVC,EAAAC,EAAA,S,KCa2EC,EAAmS,WAAY,SAASC,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,OAAAC,EAAsC,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAI,IAAIK,EAAE,IAAIC,MAAM,uBAAuBN,EAAE,KAAK,MAAMK,EAAEE,KAAK,mBAAmBF,CAAC,CAAC,IAAIG,EAAEX,EAAEG,GAAG,CAACS,QAAQ,CAAC,GAAGb,EAAEI,GAAG,GAAGU,KAAKF,EAAEC,SAAQ,SAASd,GAAoB,OAAOI,EAAlBH,EAAEI,GAAG,GAAGL,IAAeA,EAAE,GAAEa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,EAAE,CAAC,OAAOD,EAAEG,GAAGS,OAAO,CAAC,IAAI,IAAIL,OAAAD,EAAsCH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,IAAI,OAAOD,CAAC,CAAC,OAAOJ,CAAC,CAAvc,GAA4c,CAAC,EAAE,CAAC,SAASiB,EAAQC,EAAOJ,IACr1B,SAAUK,EAAQC,GACE,iBAAZN,QAA0C,IAAXI,EAAyBE,EAAQN,GACrD,mBAAXlB,GAAyBA,EAAOyB,IAAMzB,EAAO,CAAC,WAAYwB,GACvCA,GAAzBD,EAASA,GAAUG,MAAqBC,MAAQ,CAAC,EACpD,CAJC,CAICC,MAAM,SAAUV,GAGhB,IAAIW,EAAgB,CAClB,EAAG,sNACH,EAAG,+CACH,EAAG,OACHC,OAAQ,yEACRC,WAAY,kBAIVC,EAAuB,8KAEvBC,EAAW,CACb,EAAGD,EACH,UAAWA,EAAuB,iBAClC,EAAGA,EAAuB,4CAGxBE,EAA4B,kBAG5BC,EAA+B,w6BAC/BC,EAA0B,6iBAE1BC,EAA0B,IAAIC,OAAO,IAAMH,EAA+B,KAC1EI,EAAqB,IAAID,OAAO,IAAMH,EAA+BC,EAA0B,KAEnGD,EAA+BC,EAA0B,KAGzD,IAAII,EAA6B,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,IAAI,GAAG,GAAG,IAAI,GAAG,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,IAAI,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,IAAI,GAAG,GAAG,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,EAAE,EAAE,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,IAAI,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,EAAE,IAAI,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,IAAI,GAAG,IAAI,IAAI,IAAI,IAAI,GAAG,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,EAAE,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,GAAG,IAAI,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,KAAK,EAAE,IAAI,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,EAAE,IAAI,KAAK,IAAI,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,KAAK,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,KAAK,GAAG,GAAG,EAAE,GAAG,EAAE,IAAI,GAAG,KAAK,IAAI,GAAG,GAAG,EAAE,EAAE,KAAK,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,KAAK,MAAM,GAAG,KAAK,GAAG,IAAI,EAAE,KAAK,GAAG,KAAK,KAAK,KAEpuCC,EAAwB,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,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","sources":["src/ts/complexCamera.ts","node_modules/gpu.js/dist/gpu-browser.js"],"sourcesContent":["import * as math from \"mathjs\";\nimport {\n  GPU,\n  IKernelFunctionThis,\n  IConstantsThis,\n  ThreadKernelVariable,\n} from \"gpu.js\";\nimport { complex } from \"mathjs\";\n\nwindow.math = math;\n/** Set up video stream */\n\nvar videoelement = document.getElementById(\"videoelement\") as HTMLVideoElement;\nvar streamContraints = {\n  audio: false,\n  video: { width: 400, height: 400 },\n};\n\nif (videoelement) {\n  navigator.mediaDevices\n    .getUserMedia(streamContraints)\n    .then(gotStream)\n    .catch(function (e) {\n      console.log(e);\n    });\n}\n\n//if stream found\nfunction gotStream(stream) {\n  videoelement.srcObject = stream;\n  videoelement.play();\n  loop();\n}\n\n/** Set up complex function */\n\nfunction clamp(x: number, lower: number, upper: number) {\n  return Math.min(Math.max(lower, x), upper);\n}\n\nconst expr = \"z^2\";\n\nconst cfun = math.compile(expr); // compile the expression into callable JS function\n// const F = (z: math.Complex): math.Complex => cfun.evaluate({ z: z }); //\n\nconst FF = (z: number[]): number[] => {\n  const fz = cfun.evaluate({ z: math.complex(z[0], z[1]) });\n  return [fz.re, fz.im];\n};\n\nwindow.FF = FF;\nfunction F(\n  this: IKernelFunctionThis<IConstantsThis>,\n  videoFrame: ThreadKernelVariable\n): void {\n  const w = this.constants.w as number;\n  const h = this.constants.h as number;\n\n  const re = this.thread.x / w - 0.5;\n  const im = this.thread.y / h - 0.5;\n\n  const fz = cfun.evaluate({ z: complex(re, im) });\n  const x = clamp(Math.floor((fz.re + 0.5) * w), 0, w - 1);\n  const y = clamp(Math.floor((fz.im + 0.5) * h), 0, h - 1);\n\n  const pixel = videoFrame[y][x];\n  this.color(pixel[0], pixel[1], pixel[2], pixel[3]);\n}\n\n// console.log(cfun.evaluate({ z: complex(2, 1) }));\n/** Set up GPU video transformation */\n\nconst gpu = new GPU();\n\n// gpu.addFunction(FF);\n\nconst kernel = gpu\n  .createKernel(function (videoFrame) {\n    function add(z: number[], w: number[]) {\n      return [z[0] + w[0], z[1] + w[1]];\n    }\n\n    function mult(z: number[], w: number[]) {\n      return [z[0] * w[0] - z[1] * w[1], z[0] * w[1] + z[1] * w[0]];\n    }\n\n    function f(z: number[]) {\n      // return add(mult(z, z), z);\n      return mult(z, z);\n    }\n\n    function myClamp(x, l, u) {\n      return Math.min(Math.max(l, x), u);\n    }\n\n    const w = this.constants.w as number;\n    const h = this.constants.h as number;\n\n    const scale = 2;\n    const re = (this.thread.x / w - 0.5) * 2 * scale;\n    const im = (this.thread.y / h - 0.5) * 2 * scale;\n\n    // // let fz = cfun.evaluate({ z: complex(re, im) }) as math.Complex;\n    // // let fz = complex(re, im);\n\n    let z = [re, im];\n    let fz = f(z);\n\n    // const x = Math.floor(fz[0] / 2 / scale + 0.5) * w;\n    // const y = Math.floor(fz[1] / 2 / scale + 0.5) * h;\n\n    const x = myClamp(Math.floor((fz[0] / 2 / scale + 0.5) * w), 0, w - 1);\n    const y = myClamp(Math.floor((fz[1] / 2 / scale + 0.5) * h), 0, h - 1);\n\n    if (x === w - 1 || x === 0 || y === h - 1 || y === 0) {\n      this.color(0, 0, 0, 0);\n    } else {\n      const pixel = videoFrame[x][y];\n      this.color(pixel[0], pixel[1], pixel[2], pixel[3]);\n    }\n\n    // const pixel = videoFrame[x][y];\n    // this.color(pixel[0], pixel[1], pixel[2], pixel[3]);\n  })\n  .setGraphical(true)\n  .setConstants({ w: 400, h: 400 })\n  .setOutput([400, 400]);\n\ndocument.querySelector(\".container\")?.appendChild(kernel.canvas);\nconst loop = () => {\n  kernel(videoelement);\n  requestAnimationFrame(loop);\n};\n","/**\n * gpu.js\n * http://gpu.rocks/\n *\n * GPU Accelerated JavaScript\n *\n * @version 2.16.0\n * @date Wed Nov 16 2022 15:48:37 GMT-0500 (Eastern Standard Time)\n *\n * @license MIT\n * The MIT License\n *\n * Copyright (c) 2022 gpu.js Team\n */(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.GPU = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.acorn = {}));\n}(this, function (exports) { 'use strict';\n\n\n  var reservedWords = {\n    3: \"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\",\n    5: \"class enum extends super const export import\",\n    6: \"enum\",\n    strict: \"implements interface let package private protected public static yield\",\n    strictBind: \"eval arguments\"\n  };\n\n\n  var ecma5AndLessKeywords = \"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\";\n\n  var keywords = {\n    5: ecma5AndLessKeywords,\n    \"5module\": ecma5AndLessKeywords + \" export import\",\n    6: ecma5AndLessKeywords + \" const class extends export import super\"\n  };\n\n  var keywordRelationalOperator = /^in(stanceof)?$/;\n\n\n  var nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u037f\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u052f\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05d0-\\u05ea\\u05ef-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086a\\u08a0-\\u08b4\\u08b6-\\u08bd\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u09fc\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0af9\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c39\\u0c3d\\u0c58-\\u0c5a\\u0c60\\u0c61\\u0c80\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d54-\\u0d56\\u0d5f-\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e86-\\u0e8a\\u0e8c-\\u0ea3\\u0ea5\\u0ea7-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f5\\u13f8-\\u13fd\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f8\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1878\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191e\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19b0-\\u19c9\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1c80-\\u1c88\\u1c90-\\u1cba\\u1cbd-\\u1cbf\\u1ce9-\\u1cec\\u1cee-\\u1cf3\\u1cf5\\u1cf6\\u1cfa\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2118-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309b-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312f\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fef\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua69d\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua7bf\\ua7c2-\\ua7c6\\ua7f7-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua8fd\\ua8fe\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\ua9e0-\\ua9e4\\ua9e6-\\ua9ef\\ua9fa-\\ua9fe\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa7e-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uab30-\\uab5a\\uab5c-\\uab67\\uab70-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\n  var nonASCIIidentifierChars = \"\\u200c\\u200d\\xb7\\u0300-\\u036f\\u0387\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u0669\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u06f0-\\u06f9\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07c0-\\u07c9\\u07eb-\\u07f3\\u07fd\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08d3-\\u08e1\\u08e3-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u09e6-\\u09ef\\u09fe\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0ae6-\\u0aef\\u0afa-\\u0aff\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c00-\\u0c04\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c66-\\u0c6f\\u0c81-\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0ce6-\\u0cef\\u0d00-\\u0d03\\u0d3b\\u0d3c\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0de6-\\u0def\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0e50-\\u0e59\\u0eb1\\u0eb4-\\u0ebc\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1040-\\u1049\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u1369-\\u1371\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b4-\\u17d3\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u1946-\\u194f\\u19d0-\\u19da\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1ab0-\\u1abd\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1bad\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1c40-\\u1c49\\u1c50-\\u1c59\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf4\\u1cf7-\\u1cf9\\u1dc0-\\u1df9\\u1dfb-\\u1dff\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua620-\\ua629\\ua66f\\ua674-\\ua67d\\ua69e\\ua69f\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua880\\ua881\\ua8b4-\\ua8c5\\ua8d0-\\ua8d9\\ua8e0-\\ua8f1\\ua8ff-\\ua909\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\ua9d0-\\ua9d9\\ua9e5\\ua9f0-\\ua9f9\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa50-\\uaa59\\uaa7b-\\uaa7d\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uaaeb-\\uaaef\\uaaf5\\uaaf6\\uabe3-\\uabea\\uabec\\uabed\\uabf0-\\uabf9\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\n\n  var nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\n  var nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n  nonASCIIidentifierStartChars = nonASCIIidentifierChars = null;\n\n\n  var astralIdentifierStartCodes = [0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541];\n\n  var astralIdentifierCodes = [509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];\n\n  function isInAstralSet(code, set) {\n    var pos = 0x10000;\n    for (var i = 0; i < set.length; i += 2) {\n      pos += set[i];\n      if (pos > code) { return false }\n      pos += set[i + 1];\n      if (pos >= code) { return true }\n    }\n  }\n\n\n  function isIdentifierStart(code, astral) {\n    if (code < 65) { return code === 36 }\n    if (code < 91) { return true }\n    if (code < 97) { return code === 95 }\n    if (code < 123) { return true }\n    if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code)) }\n    if (astral === false) { return false }\n    return isInAstralSet(code, astralIdentifierStartCodes)\n  }\n\n\n  function isIdentifierChar(code, astral) {\n    if (code < 48) { return code === 36 }\n    if (code < 58) { return true }\n    if (code < 65) { return false }\n    if (code < 91) { return true }\n    if (code < 97) { return code === 95 }\n    if (code < 123) { return true }\n    if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code)) }\n    if (astral === false) { return false }\n    return isInAstralSet(code, astralIdentifierStartCodes) || isInAstralSet(code, astralIdentifierCodes)\n  }\n\n\n\n\n\n  var TokenType = function TokenType(label, conf) {\n    if ( conf === void 0 ) conf = {};\n\n    this.label = label;\n    this.keyword = conf.keyword;\n    this.beforeExpr = !!conf.beforeExpr;\n    this.startsExpr = !!conf.startsExpr;\n    this.isLoop = !!conf.isLoop;\n    this.isAssign = !!conf.isAssign;\n    this.prefix = !!conf.prefix;\n    this.postfix = !!conf.postfix;\n    this.binop = conf.binop || null;\n    this.updateContext = null;\n  };\n\n  function binop(name, prec) {\n    return new TokenType(name, {beforeExpr: true, binop: prec})\n  }\n  var beforeExpr = {beforeExpr: true}, startsExpr = {startsExpr: true};\n\n\n  var keywords$1 = {};\n\n  function kw(name, options) {\n    if ( options === void 0 ) options = {};\n\n    options.keyword = name;\n    return keywords$1[name] = new TokenType(name, options)\n  }\n\n  var types = {\n    num: new TokenType(\"num\", startsExpr),\n    regexp: new TokenType(\"regexp\", startsExpr),\n    string: new TokenType(\"string\", startsExpr),\n    name: new TokenType(\"name\", startsExpr),\n    eof: new TokenType(\"eof\"),\n\n    bracketL: new TokenType(\"[\", {beforeExpr: true, startsExpr: true}),\n    bracketR: new TokenType(\"]\"),\n    braceL: new TokenType(\"{\", {beforeExpr: true, startsExpr: true}),\n    braceR: new TokenType(\"}\"),\n    parenL: new TokenType(\"(\", {beforeExpr: true, startsExpr: true}),\n    parenR: new TokenType(\")\"),\n    comma: new TokenType(\",\", beforeExpr),\n    semi: new TokenType(\";\", beforeExpr),\n    colon: new TokenType(\":\", beforeExpr),\n    dot: new TokenType(\".\"),\n    question: new TokenType(\"?\", beforeExpr),\n    arrow: new TokenType(\"=>\", beforeExpr),\n    template: new TokenType(\"template\"),\n    invalidTemplate: new TokenType(\"invalidTemplate\"),\n    ellipsis: new TokenType(\"...\", beforeExpr),\n    backQuote: new TokenType(\"`\", startsExpr),\n    dollarBraceL: new TokenType(\"${\", {beforeExpr: true, startsExpr: true}),\n\n\n    eq: new TokenType(\"=\", {beforeExpr: true, isAssign: true}),\n    assign: new TokenType(\"_=\", {beforeExpr: true, isAssign: true}),\n    incDec: new TokenType(\"++/--\", {prefix: true, postfix: true, startsExpr: true}),\n    prefix: new TokenType(\"!/~\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    logicalOR: binop(\"||\", 1),\n    logicalAND: binop(\"&&\", 2),\n    bitwiseOR: binop(\"|\", 3),\n    bitwiseXOR: binop(\"^\", 4),\n    bitwiseAND: binop(\"&\", 5),\n    equality: binop(\"==/!=/===/!==\", 6),\n    relational: binop(\"</>/<=/>=\", 7),\n    bitShift: binop(\"<</>>/>>>\", 8),\n    plusMin: new TokenType(\"+/-\", {beforeExpr: true, binop: 9, prefix: true, startsExpr: true}),\n    modulo: binop(\"%\", 10),\n    star: binop(\"*\", 10),\n    slash: binop(\"/\", 10),\n    starstar: new TokenType(\"**\", {beforeExpr: true}),\n\n    _break: kw(\"break\"),\n    _case: kw(\"case\", beforeExpr),\n    _catch: kw(\"catch\"),\n    _continue: kw(\"continue\"),\n    _debugger: kw(\"debugger\"),\n    _default: kw(\"default\", beforeExpr),\n    _do: kw(\"do\", {isLoop: true, beforeExpr: true}),\n    _else: kw(\"else\", beforeExpr),\n    _finally: kw(\"finally\"),\n    _for: kw(\"for\", {isLoop: true}),\n    _function: kw(\"function\", startsExpr),\n    _if: kw(\"if\"),\n    _return: kw(\"return\", beforeExpr),\n    _switch: kw(\"switch\"),\n    _throw: kw(\"throw\", beforeExpr),\n    _try: kw(\"try\"),\n    _var: kw(\"var\"),\n    _const: kw(\"const\"),\n    _while: kw(\"while\", {isLoop: true}),\n    _with: kw(\"with\"),\n    _new: kw(\"new\", {beforeExpr: true, startsExpr: true}),\n    _this: kw(\"this\", startsExpr),\n    _super: kw(\"super\", startsExpr),\n    _class: kw(\"class\", startsExpr),\n    _extends: kw(\"extends\", beforeExpr),\n    _export: kw(\"export\"),\n    _import: kw(\"import\", startsExpr),\n    _null: kw(\"null\", startsExpr),\n    _true: kw(\"true\", startsExpr),\n    _false: kw(\"false\", startsExpr),\n    _in: kw(\"in\", {beforeExpr: true, binop: 7}),\n    _instanceof: kw(\"instanceof\", {beforeExpr: true, binop: 7}),\n    _typeof: kw(\"typeof\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    _void: kw(\"void\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    _delete: kw(\"delete\", {beforeExpr: true, prefix: true, startsExpr: true})\n  };\n\n\n  var lineBreak = /\\r\\n?|\\n|\\u2028|\\u2029/;\n  var lineBreakG = new RegExp(lineBreak.source, \"g\");\n\n  function isNewLine(code, ecma2019String) {\n    return code === 10 || code === 13 || (!ecma2019String && (code === 0x2028 || code === 0x2029))\n  }\n\n  var nonASCIIwhitespace = /[\\u1680\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n\n  var skipWhiteSpace = /(?:\\s|\\/\\/.*|\\/\\*[^]*?\\*\\/)*/g;\n\n  var ref = Object.prototype;\n  var hasOwnProperty = ref.hasOwnProperty;\n  var toString = ref.toString;\n\n\n  function has(obj, propName) {\n    return hasOwnProperty.call(obj, propName)\n  }\n\n  var isArray = Array.isArray || (function (obj) { return (\n    toString.call(obj) === \"[object Array]\"\n  ); });\n\n  function wordsRegexp(words) {\n    return new RegExp(\"^(?:\" + words.replace(/ /g, \"|\") + \")$\")\n  }\n\n\n  var Position = function Position(line, col) {\n    this.line = line;\n    this.column = col;\n  };\n\n  Position.prototype.offset = function offset (n) {\n    return new Position(this.line, this.column + n)\n  };\n\n  var SourceLocation = function SourceLocation(p, start, end) {\n    this.start = start;\n    this.end = end;\n    if (p.sourceFile !== null) { this.source = p.sourceFile; }\n  };\n\n\n  function getLineInfo(input, offset) {\n    for (var line = 1, cur = 0;;) {\n      lineBreakG.lastIndex = cur;\n      var match = lineBreakG.exec(input);\n      if (match && match.index < offset) {\n        ++line;\n        cur = match.index + match[0].length;\n      } else {\n        return new Position(line, offset - cur)\n      }\n    }\n  }\n\n\n  var defaultOptions = {\n    ecmaVersion: 10,\n    sourceType: \"script\",\n    onInsertedSemicolon: null,\n    onTrailingComma: null,\n    allowReserved: null,\n    allowReturnOutsideFunction: false,\n    allowImportExportEverywhere: false,\n    allowAwaitOutsideFunction: false,\n    allowHashBang: false,\n    locations: false,\n    onToken: null,\n    onComment: null,\n    ranges: false,\n    program: null,\n    sourceFile: null,\n    directSourceFile: null,\n    preserveParens: false\n  };\n\n\n  function getOptions(opts) {\n    var options = {};\n\n    for (var opt in defaultOptions)\n      { options[opt] = opts && has(opts, opt) ? opts[opt] : defaultOptions[opt]; }\n\n    if (options.ecmaVersion >= 2015)\n      { options.ecmaVersion -= 2009; }\n\n    if (options.allowReserved == null)\n      { options.allowReserved = options.ecmaVersion < 5; }\n\n    if (isArray(options.onToken)) {\n      var tokens = options.onToken;\n      options.onToken = function (token) { return tokens.push(token); };\n    }\n    if (isArray(options.onComment))\n      { options.onComment = pushComment(options, options.onComment); }\n\n    return options\n  }\n\n  function pushComment(options, array) {\n    return function(block, text, start, end, startLoc, endLoc) {\n      var comment = {\n        type: block ? \"Block\" : \"Line\",\n        value: text,\n        start: start,\n        end: end\n      };\n      if (options.locations)\n        { comment.loc = new SourceLocation(this, startLoc, endLoc); }\n      if (options.ranges)\n        { comment.range = [start, end]; }\n      array.push(comment);\n    }\n  }\n\n  var\n      SCOPE_TOP = 1,\n      SCOPE_FUNCTION = 2,\n      SCOPE_VAR = SCOPE_TOP | SCOPE_FUNCTION,\n      SCOPE_ASYNC = 4,\n      SCOPE_GENERATOR = 8,\n      SCOPE_ARROW = 16,\n      SCOPE_SIMPLE_CATCH = 32,\n      SCOPE_SUPER = 64,\n      SCOPE_DIRECT_SUPER = 128;\n\n  function functionFlags(async, generator) {\n    return SCOPE_FUNCTION | (async ? SCOPE_ASYNC : 0) | (generator ? SCOPE_GENERATOR : 0)\n  }\n\n  var\n      BIND_NONE = 0, \n      BIND_VAR = 1, \n      BIND_LEXICAL = 2, \n      BIND_FUNCTION = 3, \n      BIND_SIMPLE_CATCH = 4, \n      BIND_OUTSIDE = 5; \n\n  var Parser = function Parser(options, input, startPos) {\n    this.options = options = getOptions(options);\n    this.sourceFile = options.sourceFile;\n    this.keywords = wordsRegexp(keywords[options.ecmaVersion >= 6 ? 6 : options.sourceType === \"module\" ? \"5module\" : 5]);\n    var reserved = \"\";\n    if (options.allowReserved !== true) {\n      for (var v = options.ecmaVersion;; v--)\n        { if (reserved = reservedWords[v]) { break } }\n      if (options.sourceType === \"module\") { reserved += \" await\"; }\n    }\n    this.reservedWords = wordsRegexp(reserved);\n    var reservedStrict = (reserved ? reserved + \" \" : \"\") + reservedWords.strict;\n    this.reservedWordsStrict = wordsRegexp(reservedStrict);\n    this.reservedWordsStrictBind = wordsRegexp(reservedStrict + \" \" + reservedWords.strictBind);\n    this.input = String(input);\n\n    this.containsEsc = false;\n\n\n    if (startPos) {\n      this.pos = startPos;\n      this.lineStart = this.input.lastIndexOf(\"\\n\", startPos - 1) + 1;\n      this.curLine = this.input.slice(0, this.lineStart).split(lineBreak).length;\n    } else {\n      this.pos = this.lineStart = 0;\n      this.curLine = 1;\n    }\n\n    this.type = types.eof;\n    this.value = null;\n    this.start = this.end = this.pos;\n    this.startLoc = this.endLoc = this.curPosition();\n\n    this.lastTokEndLoc = this.lastTokStartLoc = null;\n    this.lastTokStart = this.lastTokEnd = this.pos;\n\n    this.context = this.initialContext();\n    this.exprAllowed = true;\n\n    this.inModule = options.sourceType === \"module\";\n    this.strict = this.inModule || this.strictDirective(this.pos);\n\n    this.potentialArrowAt = -1;\n\n    this.yieldPos = this.awaitPos = this.awaitIdentPos = 0;\n    this.labels = [];\n    this.undefinedExports = {};\n\n    if (this.pos === 0 && options.allowHashBang && this.input.slice(0, 2) === \"#!\")\n      { this.skipLineComment(2); }\n\n    this.scopeStack = [];\n    this.enterScope(SCOPE_TOP);\n\n    this.regexpState = null;\n  };\n\n  var prototypeAccessors = { inFunction: { configurable: true },inGenerator: { configurable: true },inAsync: { configurable: true },allowSuper: { configurable: true },allowDirectSuper: { configurable: true },treatFunctionsAsVar: { configurable: true } };\n\n  Parser.prototype.parse = function parse () {\n    var node = this.options.program || this.startNode();\n    this.nextToken();\n    return this.parseTopLevel(node)\n  };\n\n  prototypeAccessors.inFunction.get = function () { return (this.currentVarScope().flags & SCOPE_FUNCTION) > 0 };\n  prototypeAccessors.inGenerator.get = function () { return (this.currentVarScope().flags & SCOPE_GENERATOR) > 0 };\n  prototypeAccessors.inAsync.get = function () { return (this.currentVarScope().flags & SCOPE_ASYNC) > 0 };\n  prototypeAccessors.allowSuper.get = function () { return (this.currentThisScope().flags & SCOPE_SUPER) > 0 };\n  prototypeAccessors.allowDirectSuper.get = function () { return (this.currentThisScope().flags & SCOPE_DIRECT_SUPER) > 0 };\n  prototypeAccessors.treatFunctionsAsVar.get = function () { return this.treatFunctionsAsVarInScope(this.currentScope()) };\n\n  Parser.prototype.inNonArrowFunction = function inNonArrowFunction () { return (this.currentThisScope().flags & SCOPE_FUNCTION) > 0 };\n\n  Parser.extend = function extend () {\n      var plugins = [], len = arguments.length;\n      while ( len-- ) plugins[ len ] = arguments[ len ];\n\n    var cls = this;\n    for (var i = 0; i < plugins.length; i++) { cls = plugins[i](cls); }\n    return cls\n  };\n\n  Parser.parse = function parse (input, options) {\n    return new this(options, input).parse()\n  };\n\n  Parser.parseExpressionAt = function parseExpressionAt (input, pos, options) {\n    var parser = new this(options, input, pos);\n    parser.nextToken();\n    return parser.parseExpression()\n  };\n\n  Parser.tokenizer = function tokenizer (input, options) {\n    return new this(options, input)\n  };\n\n  Object.defineProperties( Parser.prototype, prototypeAccessors );\n\n  var pp = Parser.prototype;\n\n\n  var literal = /^(?:'((?:\\\\.|[^'])*?)'|\"((?:\\\\.|[^\"])*?)\")/;\n  pp.strictDirective = function(start) {\n    for (;;) {\n      skipWhiteSpace.lastIndex = start;\n      start += skipWhiteSpace.exec(this.input)[0].length;\n      var match = literal.exec(this.input.slice(start));\n      if (!match) { return false }\n      if ((match[1] || match[2]) === \"use strict\") { return true }\n      start += match[0].length;\n\n      skipWhiteSpace.lastIndex = start;\n      start += skipWhiteSpace.exec(this.input)[0].length;\n      if (this.input[start] === \";\")\n        { start++; }\n    }\n  };\n\n\n  pp.eat = function(type) {\n    if (this.type === type) {\n      this.next();\n      return true\n    } else {\n      return false\n    }\n  };\n\n\n  pp.isContextual = function(name) {\n    return this.type === types.name && this.value === name && !this.containsEsc\n  };\n\n\n  pp.eatContextual = function(name) {\n    if (!this.isContextual(name)) { return false }\n    this.next();\n    return true\n  };\n\n\n  pp.expectContextual = function(name) {\n    if (!this.eatContextual(name)) { this.unexpected(); }\n  };\n\n\n  pp.canInsertSemicolon = function() {\n    return this.type === types.eof ||\n      this.type === types.braceR ||\n      lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n  };\n\n  pp.insertSemicolon = function() {\n    if (this.canInsertSemicolon()) {\n      if (this.options.onInsertedSemicolon)\n        { this.options.onInsertedSemicolon(this.lastTokEnd, this.lastTokEndLoc); }\n      return true\n    }\n  };\n\n\n  pp.semicolon = function() {\n    if (!this.eat(types.semi) && !this.insertSemicolon()) { this.unexpected(); }\n  };\n\n  pp.afterTrailingComma = function(tokType, notNext) {\n    if (this.type === tokType) {\n      if (this.options.onTrailingComma)\n        { this.options.onTrailingComma(this.lastTokStart, this.lastTokStartLoc); }\n      if (!notNext)\n        { this.next(); }\n      return true\n    }\n  };\n\n\n  pp.expect = function(type) {\n    this.eat(type) || this.unexpected();\n  };\n\n\n  pp.unexpected = function(pos) {\n    this.raise(pos != null ? pos : this.start, \"Unexpected token\");\n  };\n\n  function DestructuringErrors() {\n    this.shorthandAssign =\n    this.trailingComma =\n    this.parenthesizedAssign =\n    this.parenthesizedBind =\n    this.doubleProto =\n      -1;\n  }\n\n  pp.checkPatternErrors = function(refDestructuringErrors, isAssign) {\n    if (!refDestructuringErrors) { return }\n    if (refDestructuringErrors.trailingComma > -1)\n      { this.raiseRecoverable(refDestructuringErrors.trailingComma, \"Comma is not permitted after the rest element\"); }\n    var parens = isAssign ? refDestructuringErrors.parenthesizedAssign : refDestructuringErrors.parenthesizedBind;\n    if (parens > -1) { this.raiseRecoverable(parens, \"Parenthesized pattern\"); }\n  };\n\n  pp.checkExpressionErrors = function(refDestructuringErrors, andThrow) {\n    if (!refDestructuringErrors) { return false }\n    var shorthandAssign = refDestructuringErrors.shorthandAssign;\n    var doubleProto = refDestructuringErrors.doubleProto;\n    if (!andThrow) { return shorthandAssign >= 0 || doubleProto >= 0 }\n    if (shorthandAssign >= 0)\n      { this.raise(shorthandAssign, \"Shorthand property assignments are valid only in destructuring patterns\"); }\n    if (doubleProto >= 0)\n      { this.raiseRecoverable(doubleProto, \"Redefinition of __proto__ property\"); }\n  };\n\n  pp.checkYieldAwaitInDefaultParams = function() {\n    if (this.yieldPos && (!this.awaitPos || this.yieldPos < this.awaitPos))\n      { this.raise(this.yieldPos, \"Yield expression cannot be a default value\"); }\n    if (this.awaitPos)\n      { this.raise(this.awaitPos, \"Await expression cannot be a default value\"); }\n  };\n\n  pp.isSimpleAssignTarget = function(expr) {\n    if (expr.type === \"ParenthesizedExpression\")\n      { return this.isSimpleAssignTarget(expr.expression) }\n    return expr.type === \"Identifier\" || expr.type === \"MemberExpression\"\n  };\n\n  var pp$1 = Parser.prototype;\n\n\n\n  pp$1.parseTopLevel = function(node) {\n    var exports = {};\n    if (!node.body) { node.body = []; }\n    while (this.type !== types.eof) {\n      var stmt = this.parseStatement(null, true, exports);\n      node.body.push(stmt);\n    }\n    if (this.inModule)\n      { for (var i = 0, list = Object.keys(this.undefinedExports); i < list.length; i += 1)\n        {\n          var name = list[i];\n\n          this.raiseRecoverable(this.undefinedExports[name].start, (\"Export '\" + name + \"' is not defined\"));\n        } }\n    this.adaptDirectivePrologue(node.body);\n    this.next();\n    node.sourceType = this.options.sourceType;\n    return this.finishNode(node, \"Program\")\n  };\n\n  var loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\n\n  pp$1.isLet = function(context) {\n    if (this.options.ecmaVersion < 6 || !this.isContextual(\"let\")) { return false }\n    skipWhiteSpace.lastIndex = this.pos;\n    var skip = skipWhiteSpace.exec(this.input);\n    var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n    if (nextCh === 91) { return true } \n    if (context) { return false }\n\n    if (nextCh === 123) { return true } \n    if (isIdentifierStart(nextCh, true)) {\n      var pos = next + 1;\n      while (isIdentifierChar(this.input.charCodeAt(pos), true)) { ++pos; }\n      var ident = this.input.slice(next, pos);\n      if (!keywordRelationalOperator.test(ident)) { return true }\n    }\n    return false\n  };\n\n  pp$1.isAsyncFunction = function() {\n    if (this.options.ecmaVersion < 8 || !this.isContextual(\"async\"))\n      { return false }\n\n    skipWhiteSpace.lastIndex = this.pos;\n    var skip = skipWhiteSpace.exec(this.input);\n    var next = this.pos + skip[0].length;\n    return !lineBreak.test(this.input.slice(this.pos, next)) &&\n      this.input.slice(next, next + 8) === \"function\" &&\n      (next + 8 === this.input.length || !isIdentifierChar(this.input.charAt(next + 8)))\n  };\n\n\n  pp$1.parseStatement = function(context, topLevel, exports) {\n    var starttype = this.type, node = this.startNode(), kind;\n\n    if (this.isLet(context)) {\n      starttype = types._var;\n      kind = \"let\";\n    }\n\n\n    switch (starttype) {\n    case types._break: case types._continue: return this.parseBreakContinueStatement(node, starttype.keyword)\n    case types._debugger: return this.parseDebuggerStatement(node)\n    case types._do: return this.parseDoStatement(node)\n    case types._for: return this.parseForStatement(node)\n    case types._function:\n      if ((context && (this.strict || context !== \"if\" && context !== \"label\")) && this.options.ecmaVersion >= 6) { this.unexpected(); }\n      return this.parseFunctionStatement(node, false, !context)\n    case types._class:\n      if (context) { this.unexpected(); }\n      return this.parseClass(node, true)\n    case types._if: return this.parseIfStatement(node)\n    case types._return: return this.parseReturnStatement(node)\n    case types._switch: return this.parseSwitchStatement(node)\n    case types._throw: return this.parseThrowStatement(node)\n    case types._try: return this.parseTryStatement(node)\n    case types._const: case types._var:\n      kind = kind || this.value;\n      if (context && kind !== \"var\") { this.unexpected(); }\n      return this.parseVarStatement(node, kind)\n    case types._while: return this.parseWhileStatement(node)\n    case types._with: return this.parseWithStatement(node)\n    case types.braceL: return this.parseBlock(true, node)\n    case types.semi: return this.parseEmptyStatement(node)\n    case types._export:\n    case types._import:\n      if (this.options.ecmaVersion > 10 && starttype === types._import) {\n        skipWhiteSpace.lastIndex = this.pos;\n        var skip = skipWhiteSpace.exec(this.input);\n        var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n        if (nextCh === 40) \n          { return this.parseExpressionStatement(node, this.parseExpression()) }\n      }\n\n      if (!this.options.allowImportExportEverywhere) {\n        if (!topLevel)\n          { this.raise(this.start, \"'import' and 'export' may only appear at the top level\"); }\n        if (!this.inModule)\n          { this.raise(this.start, \"'import' and 'export' may appear only with 'sourceType: module'\"); }\n      }\n      return starttype === types._import ? this.parseImport(node) : this.parseExport(node, exports)\n\n    default:\n      if (this.isAsyncFunction()) {\n        if (context) { this.unexpected(); }\n        this.next();\n        return this.parseFunctionStatement(node, true, !context)\n      }\n\n      var maybeName = this.value, expr = this.parseExpression();\n      if (starttype === types.name && expr.type === \"Identifier\" && this.eat(types.colon))\n        { return this.parseLabeledStatement(node, maybeName, expr, context) }\n      else { return this.parseExpressionStatement(node, expr) }\n    }\n  };\n\n  pp$1.parseBreakContinueStatement = function(node, keyword) {\n    var isBreak = keyword === \"break\";\n    this.next();\n    if (this.eat(types.semi) || this.insertSemicolon()) { node.label = null; }\n    else if (this.type !== types.name) { this.unexpected(); }\n    else {\n      node.label = this.parseIdent();\n      this.semicolon();\n    }\n\n    var i = 0;\n    for (; i < this.labels.length; ++i) {\n      var lab = this.labels[i];\n      if (node.label == null || lab.name === node.label.name) {\n        if (lab.kind != null && (isBreak || lab.kind === \"loop\")) { break }\n        if (node.label && isBreak) { break }\n      }\n    }\n    if (i === this.labels.length) { this.raise(node.start, \"Unsyntactic \" + keyword); }\n    return this.finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\")\n  };\n\n  pp$1.parseDebuggerStatement = function(node) {\n    this.next();\n    this.semicolon();\n    return this.finishNode(node, \"DebuggerStatement\")\n  };\n\n  pp$1.parseDoStatement = function(node) {\n    this.next();\n    this.labels.push(loopLabel);\n    node.body = this.parseStatement(\"do\");\n    this.labels.pop();\n    this.expect(types._while);\n    node.test = this.parseParenExpression();\n    if (this.options.ecmaVersion >= 6)\n      { this.eat(types.semi); }\n    else\n      { this.semicolon(); }\n    return this.finishNode(node, \"DoWhileStatement\")\n  };\n\n\n  pp$1.parseForStatement = function(node) {\n    this.next();\n    var awaitAt = (this.options.ecmaVersion >= 9 && (this.inAsync || (!this.inFunction && this.options.allowAwaitOutsideFunction)) && this.eatContextual(\"await\")) ? this.lastTokStart : -1;\n    this.labels.push(loopLabel);\n    this.enterScope(0);\n    this.expect(types.parenL);\n    if (this.type === types.semi) {\n      if (awaitAt > -1) { this.unexpected(awaitAt); }\n      return this.parseFor(node, null)\n    }\n    var isLet = this.isLet();\n    if (this.type === types._var || this.type === types._const || isLet) {\n      var init$1 = this.startNode(), kind = isLet ? \"let\" : this.value;\n      this.next();\n      this.parseVar(init$1, true, kind);\n      this.finishNode(init$1, \"VariableDeclaration\");\n      if ((this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) && init$1.declarations.length === 1) {\n        if (this.options.ecmaVersion >= 9) {\n          if (this.type === types._in) {\n            if (awaitAt > -1) { this.unexpected(awaitAt); }\n          } else { node.await = awaitAt > -1; }\n        }\n        return this.parseForIn(node, init$1)\n      }\n      if (awaitAt > -1) { this.unexpected(awaitAt); }\n      return this.parseFor(node, init$1)\n    }\n    var refDestructuringErrors = new DestructuringErrors;\n    var init = this.parseExpression(true, refDestructuringErrors);\n    if (this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) {\n      if (this.options.ecmaVersion >= 9) {\n        if (this.type === types._in) {\n          if (awaitAt > -1) { this.unexpected(awaitAt); }\n        } else { node.await = awaitAt > -1; }\n      }\n      this.toAssignable(init, false, refDestructuringErrors);\n      this.checkLVal(init);\n      return this.parseForIn(node, init)\n    } else {\n      this.checkExpressionErrors(refDestructuringErrors, true);\n    }\n    if (awaitAt > -1) { this.unexpected(awaitAt); }\n    return this.parseFor(node, init)\n  };\n\n  pp$1.parseFunctionStatement = function(node, isAsync, declarationPosition) {\n    this.next();\n    return this.parseFunction(node, FUNC_STATEMENT | (declarationPosition ? 0 : FUNC_HANGING_STATEMENT), false, isAsync)\n  };\n\n  pp$1.parseIfStatement = function(node) {\n    this.next();\n    node.test = this.parseParenExpression();\n    node.consequent = this.parseStatement(\"if\");\n    node.alternate = this.eat(types._else) ? this.parseStatement(\"if\") : null;\n    return this.finishNode(node, \"IfStatement\")\n  };\n\n  pp$1.parseReturnStatement = function(node) {\n    if (!this.inFunction && !this.options.allowReturnOutsideFunction)\n      { this.raise(this.start, \"'return' outside of function\"); }\n    this.next();\n\n\n    if (this.eat(types.semi) || this.insertSemicolon()) { node.argument = null; }\n    else { node.argument = this.parseExpression(); this.semicolon(); }\n    return this.finishNode(node, \"ReturnStatement\")\n  };\n\n  pp$1.parseSwitchStatement = function(node) {\n    this.next();\n    node.discriminant = this.parseParenExpression();\n    node.cases = [];\n    this.expect(types.braceL);\n    this.labels.push(switchLabel);\n    this.enterScope(0);\n\n\n    var cur;\n    for (var sawDefault = false; this.type !== types.braceR;) {\n      if (this.type === types._case || this.type === types._default) {\n        var isCase = this.type === types._case;\n        if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n        node.cases.push(cur = this.startNode());\n        cur.consequent = [];\n        this.next();\n        if (isCase) {\n          cur.test = this.parseExpression();\n        } else {\n          if (sawDefault) { this.raiseRecoverable(this.lastTokStart, \"Multiple default clauses\"); }\n          sawDefault = true;\n          cur.test = null;\n        }\n        this.expect(types.colon);\n      } else {\n        if (!cur) { this.unexpected(); }\n        cur.consequent.push(this.parseStatement(null));\n      }\n    }\n    this.exitScope();\n    if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n    this.next(); \n    this.labels.pop();\n    return this.finishNode(node, \"SwitchStatement\")\n  };\n\n  pp$1.parseThrowStatement = function(node) {\n    this.next();\n    if (lineBreak.test(this.input.slice(this.lastTokEnd, this.start)))\n      { this.raise(this.lastTokEnd, \"Illegal newline after throw\"); }\n    node.argument = this.parseExpression();\n    this.semicolon();\n    return this.finishNode(node, \"ThrowStatement\")\n  };\n\n\n  var empty = [];\n\n  pp$1.parseTryStatement = function(node) {\n    this.next();\n    node.block = this.parseBlock();\n    node.handler = null;\n    if (this.type === types._catch) {\n      var clause = this.startNode();\n      this.next();\n      if (this.eat(types.parenL)) {\n        clause.param = this.parseBindingAtom();\n        var simple = clause.param.type === \"Identifier\";\n        this.enterScope(simple ? SCOPE_SIMPLE_CATCH : 0);\n        this.checkLVal(clause.param, simple ? BIND_SIMPLE_CATCH : BIND_LEXICAL);\n        this.expect(types.parenR);\n      } else {\n        if (this.options.ecmaVersion < 10) { this.unexpected(); }\n        clause.param = null;\n        this.enterScope(0);\n      }\n      clause.body = this.parseBlock(false);\n      this.exitScope();\n      node.handler = this.finishNode(clause, \"CatchClause\");\n    }\n    node.finalizer = this.eat(types._finally) ? this.parseBlock() : null;\n    if (!node.handler && !node.finalizer)\n      { this.raise(node.start, \"Missing catch or finally clause\"); }\n    return this.finishNode(node, \"TryStatement\")\n  };\n\n  pp$1.parseVarStatement = function(node, kind) {\n    this.next();\n    this.parseVar(node, false, kind);\n    this.semicolon();\n    return this.finishNode(node, \"VariableDeclaration\")\n  };\n\n  pp$1.parseWhileStatement = function(node) {\n    this.next();\n    node.test = this.parseParenExpression();\n    this.labels.push(loopLabel);\n    node.body = this.parseStatement(\"while\");\n    this.labels.pop();\n    return this.finishNode(node, \"WhileStatement\")\n  };\n\n  pp$1.parseWithStatement = function(node) {\n    if (this.strict) { this.raise(this.start, \"'with' in strict mode\"); }\n    this.next();\n    node.object = this.parseParenExpression();\n    node.body = this.parseStatement(\"with\");\n    return this.finishNode(node, \"WithStatement\")\n  };\n\n  pp$1.parseEmptyStatement = function(node) {\n    this.next();\n    return this.finishNode(node, \"EmptyStatement\")\n  };\n\n  pp$1.parseLabeledStatement = function(node, maybeName, expr, context) {\n    for (var i$1 = 0, list = this.labels; i$1 < list.length; i$1 += 1)\n      {\n      var label = list[i$1];\n\n      if (label.name === maybeName)\n        { this.raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n    } }\n    var kind = this.type.isLoop ? \"loop\" : this.type === types._switch ? \"switch\" : null;\n    for (var i = this.labels.length - 1; i >= 0; i--) {\n      var label$1 = this.labels[i];\n      if (label$1.statementStart === node.start) {\n        label$1.statementStart = this.start;\n        label$1.kind = kind;\n      } else { break }\n    }\n    this.labels.push({name: maybeName, kind: kind, statementStart: this.start});\n    node.body = this.parseStatement(context ? context.indexOf(\"label\") === -1 ? context + \"label\" : context : \"label\");\n    this.labels.pop();\n    node.label = expr;\n    return this.finishNode(node, \"LabeledStatement\")\n  };\n\n  pp$1.parseExpressionStatement = function(node, expr) {\n    node.expression = expr;\n    this.semicolon();\n    return this.finishNode(node, \"ExpressionStatement\")\n  };\n\n\n  pp$1.parseBlock = function(createNewLexicalScope, node) {\n    if ( createNewLexicalScope === void 0 ) createNewLexicalScope = true;\n    if ( node === void 0 ) node = this.startNode();\n\n    node.body = [];\n    this.expect(types.braceL);\n    if (createNewLexicalScope) { this.enterScope(0); }\n    while (!this.eat(types.braceR)) {\n      var stmt = this.parseStatement(null);\n      node.body.push(stmt);\n    }\n    if (createNewLexicalScope) { this.exitScope(); }\n    return this.finishNode(node, \"BlockStatement\")\n  };\n\n\n  pp$1.parseFor = function(node, init) {\n    node.init = init;\n    this.expect(types.semi);\n    node.test = this.type === types.semi ? null : this.parseExpression();\n    this.expect(types.semi);\n    node.update = this.type === types.parenR ? null : this.parseExpression();\n    this.expect(types.parenR);\n    node.body = this.parseStatement(\"for\");\n    this.exitScope();\n    this.labels.pop();\n    return this.finishNode(node, \"ForStatement\")\n  };\n\n\n  pp$1.parseForIn = function(node, init) {\n    var isForIn = this.type === types._in;\n    this.next();\n\n    if (\n      init.type === \"VariableDeclaration\" &&\n      init.declarations[0].init != null &&\n      (\n        !isForIn ||\n        this.options.ecmaVersion < 8 ||\n        this.strict ||\n        init.kind !== \"var\" ||\n        init.declarations[0].id.type !== \"Identifier\"\n      )\n    ) {\n      this.raise(\n        init.start,\n        ((isForIn ? \"for-in\" : \"for-of\") + \" loop variable declaration may not have an initializer\")\n      );\n    } else if (init.type === \"AssignmentPattern\") {\n      this.raise(init.start, \"Invalid left-hand side in for-loop\");\n    }\n    node.left = init;\n    node.right = isForIn ? this.parseExpression() : this.parseMaybeAssign();\n    this.expect(types.parenR);\n    node.body = this.parseStatement(\"for\");\n    this.exitScope();\n    this.labels.pop();\n    return this.finishNode(node, isForIn ? \"ForInStatement\" : \"ForOfStatement\")\n  };\n\n\n  pp$1.parseVar = function(node, isFor, kind) {\n    node.declarations = [];\n    node.kind = kind;\n    for (;;) {\n      var decl = this.startNode();\n      this.parseVarId(decl, kind);\n      if (this.eat(types.eq)) {\n        decl.init = this.parseMaybeAssign(isFor);\n      } else if (kind === \"const\" && !(this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\")))) {\n        this.unexpected();\n      } else if (decl.id.type !== \"Identifier\" && !(isFor && (this.type === types._in || this.isContextual(\"of\")))) {\n        this.raise(this.lastTokEnd, \"Complex binding patterns require an initialization value\");\n      } else {\n        decl.init = null;\n      }\n      node.declarations.push(this.finishNode(decl, \"VariableDeclarator\"));\n      if (!this.eat(types.comma)) { break }\n    }\n    return node\n  };\n\n  pp$1.parseVarId = function(decl, kind) {\n    decl.id = this.parseBindingAtom();\n    this.checkLVal(decl.id, kind === \"var\" ? BIND_VAR : BIND_LEXICAL, false);\n  };\n\n  var FUNC_STATEMENT = 1, FUNC_HANGING_STATEMENT = 2, FUNC_NULLABLE_ID = 4;\n\n\n  pp$1.parseFunction = function(node, statement, allowExpressionBody, isAsync) {\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 9 || this.options.ecmaVersion >= 6 && !isAsync) {\n      if (this.type === types.star && (statement & FUNC_HANGING_STATEMENT))\n        { this.unexpected(); }\n      node.generator = this.eat(types.star);\n    }\n    if (this.options.ecmaVersion >= 8)\n      { node.async = !!isAsync; }\n\n    if (statement & FUNC_STATEMENT) {\n      node.id = (statement & FUNC_NULLABLE_ID) && this.type !== types.name ? null : this.parseIdent();\n      if (node.id && !(statement & FUNC_HANGING_STATEMENT))\n        { this.checkLVal(node.id, (this.strict || node.generator || node.async) ? this.treatFunctionsAsVar ? BIND_VAR : BIND_LEXICAL : BIND_FUNCTION); }\n    }\n\n    var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    this.enterScope(functionFlags(node.async, node.generator));\n\n    if (!(statement & FUNC_STATEMENT))\n      { node.id = this.type === types.name ? this.parseIdent() : null; }\n\n    this.parseFunctionParams(node);\n    this.parseFunctionBody(node, allowExpressionBody, false);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, (statement & FUNC_STATEMENT) ? \"FunctionDeclaration\" : \"FunctionExpression\")\n  };\n\n  pp$1.parseFunctionParams = function(node) {\n    this.expect(types.parenL);\n    node.params = this.parseBindingList(types.parenR, false, this.options.ecmaVersion >= 8);\n    this.checkYieldAwaitInDefaultParams();\n  };\n\n\n  pp$1.parseClass = function(node, isStatement) {\n    this.next();\n\n    var oldStrict = this.strict;\n    this.strict = true;\n\n    this.parseClassId(node, isStatement);\n    this.parseClassSuper(node);\n    var classBody = this.startNode();\n    var hadConstructor = false;\n    classBody.body = [];\n    this.expect(types.braceL);\n    while (!this.eat(types.braceR)) {\n      var element = this.parseClassElement(node.superClass !== null);\n      if (element) {\n        classBody.body.push(element);\n        if (element.type === \"MethodDefinition\" && element.kind === \"constructor\") {\n          if (hadConstructor) { this.raise(element.start, \"Duplicate constructor in the same class\"); }\n          hadConstructor = true;\n        }\n      }\n    }\n    node.body = this.finishNode(classBody, \"ClassBody\");\n    this.strict = oldStrict;\n    return this.finishNode(node, isStatement ? \"ClassDeclaration\" : \"ClassExpression\")\n  };\n\n  pp$1.parseClassElement = function(constructorAllowsSuper) {\n    var this$1 = this;\n\n    if (this.eat(types.semi)) { return null }\n\n    var method = this.startNode();\n    var tryContextual = function (k, noLineBreak) {\n      if ( noLineBreak === void 0 ) noLineBreak = false;\n\n      var start = this$1.start, startLoc = this$1.startLoc;\n      if (!this$1.eatContextual(k)) { return false }\n      if (this$1.type !== types.parenL && (!noLineBreak || !this$1.canInsertSemicolon())) { return true }\n      if (method.key) { this$1.unexpected(); }\n      method.computed = false;\n      method.key = this$1.startNodeAt(start, startLoc);\n      method.key.name = k;\n      this$1.finishNode(method.key, \"Identifier\");\n      return false\n    };\n\n    method.kind = \"method\";\n    method.static = tryContextual(\"static\");\n    var isGenerator = this.eat(types.star);\n    var isAsync = false;\n    if (!isGenerator) {\n      if (this.options.ecmaVersion >= 8 && tryContextual(\"async\", true)) {\n        isAsync = true;\n        isGenerator = this.options.ecmaVersion >= 9 && this.eat(types.star);\n      } else if (tryContextual(\"get\")) {\n        method.kind = \"get\";\n      } else if (tryContextual(\"set\")) {\n        method.kind = \"set\";\n      }\n    }\n    if (!method.key) { this.parsePropertyName(method); }\n    var key = method.key;\n    var allowsDirectSuper = false;\n    if (!method.computed && !method.static && (key.type === \"Identifier\" && key.name === \"constructor\" ||\n        key.type === \"Literal\" && key.value === \"constructor\")) {\n      if (method.kind !== \"method\") { this.raise(key.start, \"Constructor can't have get/set modifier\"); }\n      if (isGenerator) { this.raise(key.start, \"Constructor can't be a generator\"); }\n      if (isAsync) { this.raise(key.start, \"Constructor can't be an async method\"); }\n      method.kind = \"constructor\";\n      allowsDirectSuper = constructorAllowsSuper;\n    } else if (method.static && key.type === \"Identifier\" && key.name === \"prototype\") {\n      this.raise(key.start, \"Classes may not have a static property named prototype\");\n    }\n    this.parseClassMethod(method, isGenerator, isAsync, allowsDirectSuper);\n    if (method.kind === \"get\" && method.value.params.length !== 0)\n      { this.raiseRecoverable(method.value.start, \"getter should have no params\"); }\n    if (method.kind === \"set\" && method.value.params.length !== 1)\n      { this.raiseRecoverable(method.value.start, \"setter should have exactly one param\"); }\n    if (method.kind === \"set\" && method.value.params[0].type === \"RestElement\")\n      { this.raiseRecoverable(method.value.params[0].start, \"Setter cannot use rest params\"); }\n    return method\n  };\n\n  pp$1.parseClassMethod = function(method, isGenerator, isAsync, allowsDirectSuper) {\n    method.value = this.parseMethod(isGenerator, isAsync, allowsDirectSuper);\n    return this.finishNode(method, \"MethodDefinition\")\n  };\n\n  pp$1.parseClassId = function(node, isStatement) {\n    if (this.type === types.name) {\n      node.id = this.parseIdent();\n      if (isStatement)\n        { this.checkLVal(node.id, BIND_LEXICAL, false); }\n    } else {\n      if (isStatement === true)\n        { this.unexpected(); }\n      node.id = null;\n    }\n  };\n\n  pp$1.parseClassSuper = function(node) {\n    node.superClass = this.eat(types._extends) ? this.parseExprSubscripts() : null;\n  };\n\n\n  pp$1.parseExport = function(node, exports) {\n    this.next();\n    if (this.eat(types.star)) {\n      this.expectContextual(\"from\");\n      if (this.type !== types.string) { this.unexpected(); }\n      node.source = this.parseExprAtom();\n      this.semicolon();\n      return this.finishNode(node, \"ExportAllDeclaration\")\n    }\n    if (this.eat(types._default)) { \n      this.checkExport(exports, \"default\", this.lastTokStart);\n      var isAsync;\n      if (this.type === types._function || (isAsync = this.isAsyncFunction())) {\n        var fNode = this.startNode();\n        this.next();\n        if (isAsync) { this.next(); }\n        node.declaration = this.parseFunction(fNode, FUNC_STATEMENT | FUNC_NULLABLE_ID, false, isAsync);\n      } else if (this.type === types._class) {\n        var cNode = this.startNode();\n        node.declaration = this.parseClass(cNode, \"nullableID\");\n      } else {\n        node.declaration = this.parseMaybeAssign();\n        this.semicolon();\n      }\n      return this.finishNode(node, \"ExportDefaultDeclaration\")\n    }\n    if (this.shouldParseExportStatement()) {\n      node.declaration = this.parseStatement(null);\n      if (node.declaration.type === \"VariableDeclaration\")\n        { this.checkVariableExport(exports, node.declaration.declarations); }\n      else\n        { this.checkExport(exports, node.declaration.id.name, node.declaration.id.start); }\n      node.specifiers = [];\n      node.source = null;\n    } else { \n      node.declaration = null;\n      node.specifiers = this.parseExportSpecifiers(exports);\n      if (this.eatContextual(\"from\")) {\n        if (this.type !== types.string) { this.unexpected(); }\n        node.source = this.parseExprAtom();\n      } else {\n        for (var i = 0, list = node.specifiers; i < list.length; i += 1) {\n          var spec = list[i];\n\n          this.checkUnreserved(spec.local);\n          this.checkLocalExport(spec.local);\n        }\n\n        node.source = null;\n      }\n      this.semicolon();\n    }\n    return this.finishNode(node, \"ExportNamedDeclaration\")\n  };\n\n  pp$1.checkExport = function(exports, name, pos) {\n    if (!exports) { return }\n    if (has(exports, name))\n      { this.raiseRecoverable(pos, \"Duplicate export '\" + name + \"'\"); }\n    exports[name] = true;\n  };\n\n  pp$1.checkPatternExport = function(exports, pat) {\n    var type = pat.type;\n    if (type === \"Identifier\")\n      { this.checkExport(exports, pat.name, pat.start); }\n    else if (type === \"ObjectPattern\")\n      { for (var i = 0, list = pat.properties; i < list.length; i += 1)\n        {\n          var prop = list[i];\n\n          this.checkPatternExport(exports, prop);\n        } }\n    else if (type === \"ArrayPattern\")\n      { for (var i$1 = 0, list$1 = pat.elements; i$1 < list$1.length; i$1 += 1) {\n        var elt = list$1[i$1];\n\n          if (elt) { this.checkPatternExport(exports, elt); }\n      } }\n    else if (type === \"Property\")\n      { this.checkPatternExport(exports, pat.value); }\n    else if (type === \"AssignmentPattern\")\n      { this.checkPatternExport(exports, pat.left); }\n    else if (type === \"RestElement\")\n      { this.checkPatternExport(exports, pat.argument); }\n    else if (type === \"ParenthesizedExpression\")\n      { this.checkPatternExport(exports, pat.expression); }\n  };\n\n  pp$1.checkVariableExport = function(exports, decls) {\n    if (!exports) { return }\n    for (var i = 0, list = decls; i < list.length; i += 1)\n      {\n      var decl = list[i];\n\n      this.checkPatternExport(exports, decl.id);\n    }\n  };\n\n  pp$1.shouldParseExportStatement = function() {\n    return this.type.keyword === \"var\" ||\n      this.type.keyword === \"const\" ||\n      this.type.keyword === \"class\" ||\n      this.type.keyword === \"function\" ||\n      this.isLet() ||\n      this.isAsyncFunction()\n  };\n\n\n  pp$1.parseExportSpecifiers = function(exports) {\n    var nodes = [], first = true;\n    this.expect(types.braceL);\n    while (!this.eat(types.braceR)) {\n      if (!first) {\n        this.expect(types.comma);\n        if (this.afterTrailingComma(types.braceR)) { break }\n      } else { first = false; }\n\n      var node = this.startNode();\n      node.local = this.parseIdent(true);\n      node.exported = this.eatContextual(\"as\") ? this.parseIdent(true) : node.local;\n      this.checkExport(exports, node.exported.name, node.exported.start);\n      nodes.push(this.finishNode(node, \"ExportSpecifier\"));\n    }\n    return nodes\n  };\n\n\n  pp$1.parseImport = function(node) {\n    this.next();\n    if (this.type === types.string) {\n      node.specifiers = empty;\n      node.source = this.parseExprAtom();\n    } else {\n      node.specifiers = this.parseImportSpecifiers();\n      this.expectContextual(\"from\");\n      node.source = this.type === types.string ? this.parseExprAtom() : this.unexpected();\n    }\n    this.semicolon();\n    return this.finishNode(node, \"ImportDeclaration\")\n  };\n\n\n  pp$1.parseImportSpecifiers = function() {\n    var nodes = [], first = true;\n    if (this.type === types.name) {\n      var node = this.startNode();\n      node.local = this.parseIdent();\n      this.checkLVal(node.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node, \"ImportDefaultSpecifier\"));\n      if (!this.eat(types.comma)) { return nodes }\n    }\n    if (this.type === types.star) {\n      var node$1 = this.startNode();\n      this.next();\n      this.expectContextual(\"as\");\n      node$1.local = this.parseIdent();\n      this.checkLVal(node$1.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node$1, \"ImportNamespaceSpecifier\"));\n      return nodes\n    }\n    this.expect(types.braceL);\n    while (!this.eat(types.braceR)) {\n      if (!first) {\n        this.expect(types.comma);\n        if (this.afterTrailingComma(types.braceR)) { break }\n      } else { first = false; }\n\n      var node$2 = this.startNode();\n      node$2.imported = this.parseIdent(true);\n      if (this.eatContextual(\"as\")) {\n        node$2.local = this.parseIdent();\n      } else {\n        this.checkUnreserved(node$2.imported);\n        node$2.local = node$2.imported;\n      }\n      this.checkLVal(node$2.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node$2, \"ImportSpecifier\"));\n    }\n    return nodes\n  };\n\n  pp$1.adaptDirectivePrologue = function(statements) {\n    for (var i = 0; i < statements.length && this.isDirectiveCandidate(statements[i]); ++i) {\n      statements[i].directive = statements[i].expression.raw.slice(1, -1);\n    }\n  };\n  pp$1.isDirectiveCandidate = function(statement) {\n    return (\n      statement.type === \"ExpressionStatement\" &&\n      statement.expression.type === \"Literal\" &&\n      typeof statement.expression.value === \"string\" &&\n      (this.input[statement.start] === \"\\\"\" || this.input[statement.start] === \"'\")\n    )\n  };\n\n  var pp$2 = Parser.prototype;\n\n\n  pp$2.toAssignable = function(node, isBinding, refDestructuringErrors) {\n    if (this.options.ecmaVersion >= 6 && node) {\n      switch (node.type) {\n      case \"Identifier\":\n        if (this.inAsync && node.name === \"await\")\n          { this.raise(node.start, \"Cannot use 'await' as identifier inside an async function\"); }\n        break\n\n      case \"ObjectPattern\":\n      case \"ArrayPattern\":\n      case \"RestElement\":\n        break\n\n      case \"ObjectExpression\":\n        node.type = \"ObjectPattern\";\n        if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n        for (var i = 0, list = node.properties; i < list.length; i += 1) {\n          var prop = list[i];\n\n        this.toAssignable(prop, isBinding);\n          if (\n            prop.type === \"RestElement\" &&\n            (prop.argument.type === \"ArrayPattern\" || prop.argument.type === \"ObjectPattern\")\n          ) {\n            this.raise(prop.argument.start, \"Unexpected token\");\n          }\n        }\n        break\n\n      case \"Property\":\n        if (node.kind !== \"init\") { this.raise(node.key.start, \"Object pattern can't contain getter or setter\"); }\n        this.toAssignable(node.value, isBinding);\n        break\n\n      case \"ArrayExpression\":\n        node.type = \"ArrayPattern\";\n        if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n        this.toAssignableList(node.elements, isBinding);\n        break\n\n      case \"SpreadElement\":\n        node.type = \"RestElement\";\n        this.toAssignable(node.argument, isBinding);\n        if (node.argument.type === \"AssignmentPattern\")\n          { this.raise(node.argument.start, \"Rest elements cannot have a default value\"); }\n        break\n\n      case \"AssignmentExpression\":\n        if (node.operator !== \"=\") { this.raise(node.left.end, \"Only '=' operator can be used for specifying default value.\"); }\n        node.type = \"AssignmentPattern\";\n        delete node.operator;\n        this.toAssignable(node.left, isBinding);\n\n      case \"AssignmentPattern\":\n        break\n\n      case \"ParenthesizedExpression\":\n        this.toAssignable(node.expression, isBinding, refDestructuringErrors);\n        break\n\n      case \"MemberExpression\":\n        if (!isBinding) { break }\n\n      default:\n        this.raise(node.start, \"Assigning to rvalue\");\n      }\n    } else if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n    return node\n  };\n\n\n  pp$2.toAssignableList = function(exprList, isBinding) {\n    var end = exprList.length;\n    for (var i = 0; i < end; i++) {\n      var elt = exprList[i];\n      if (elt) { this.toAssignable(elt, isBinding); }\n    }\n    if (end) {\n      var last = exprList[end - 1];\n      if (this.options.ecmaVersion === 6 && isBinding && last && last.type === \"RestElement\" && last.argument.type !== \"Identifier\")\n        { this.unexpected(last.argument.start); }\n    }\n    return exprList\n  };\n\n\n  pp$2.parseSpread = function(refDestructuringErrors) {\n    var node = this.startNode();\n    this.next();\n    node.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n    return this.finishNode(node, \"SpreadElement\")\n  };\n\n  pp$2.parseRestBinding = function() {\n    var node = this.startNode();\n    this.next();\n\n    if (this.options.ecmaVersion === 6 && this.type !== types.name)\n      { this.unexpected(); }\n\n    node.argument = this.parseBindingAtom();\n\n    return this.finishNode(node, \"RestElement\")\n  };\n\n\n  pp$2.parseBindingAtom = function() {\n    if (this.options.ecmaVersion >= 6) {\n      switch (this.type) {\n      case types.bracketL:\n        var node = this.startNode();\n        this.next();\n        node.elements = this.parseBindingList(types.bracketR, true, true);\n        return this.finishNode(node, \"ArrayPattern\")\n\n      case types.braceL:\n        return this.parseObj(true)\n      }\n    }\n    return this.parseIdent()\n  };\n\n  pp$2.parseBindingList = function(close, allowEmpty, allowTrailingComma) {\n    var elts = [], first = true;\n    while (!this.eat(close)) {\n      if (first) { first = false; }\n      else { this.expect(types.comma); }\n      if (allowEmpty && this.type === types.comma) {\n        elts.push(null);\n      } else if (allowTrailingComma && this.afterTrailingComma(close)) {\n        break\n      } else if (this.type === types.ellipsis) {\n        var rest = this.parseRestBinding();\n        this.parseBindingListItem(rest);\n        elts.push(rest);\n        if (this.type === types.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\n        this.expect(close);\n        break\n      } else {\n        var elem = this.parseMaybeDefault(this.start, this.startLoc);\n        this.parseBindingListItem(elem);\n        elts.push(elem);\n      }\n    }\n    return elts\n  };\n\n  pp$2.parseBindingListItem = function(param) {\n    return param\n  };\n\n\n  pp$2.parseMaybeDefault = function(startPos, startLoc, left) {\n    left = left || this.parseBindingAtom();\n    if (this.options.ecmaVersion < 6 || !this.eat(types.eq)) { return left }\n    var node = this.startNodeAt(startPos, startLoc);\n    node.left = left;\n    node.right = this.parseMaybeAssign();\n    return this.finishNode(node, \"AssignmentPattern\")\n  };\n\n\n  pp$2.checkLVal = function(expr, bindingType, checkClashes) {\n    if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n    switch (expr.type) {\n    case \"Identifier\":\n      if (bindingType === BIND_LEXICAL && expr.name === \"let\")\n        { this.raiseRecoverable(expr.start, \"let is disallowed as a lexically bound name\"); }\n      if (this.strict && this.reservedWordsStrictBind.test(expr.name))\n        { this.raiseRecoverable(expr.start, (bindingType ? \"Binding \" : \"Assigning to \") + expr.name + \" in strict mode\"); }\n      if (checkClashes) {\n        if (has(checkClashes, expr.name))\n          { this.raiseRecoverable(expr.start, \"Argument name clash\"); }\n        checkClashes[expr.name] = true;\n      }\n      if (bindingType !== BIND_NONE && bindingType !== BIND_OUTSIDE) { this.declareName(expr.name, bindingType, expr.start); }\n      break\n\n    case \"MemberExpression\":\n      if (bindingType) { this.raiseRecoverable(expr.start, \"Binding member expression\"); }\n      break\n\n    case \"ObjectPattern\":\n      for (var i = 0, list = expr.properties; i < list.length; i += 1)\n        {\n      var prop = list[i];\n\n      this.checkLVal(prop, bindingType, checkClashes);\n    }\n      break\n\n    case \"Property\":\n      this.checkLVal(expr.value, bindingType, checkClashes);\n      break\n\n    case \"ArrayPattern\":\n      for (var i$1 = 0, list$1 = expr.elements; i$1 < list$1.length; i$1 += 1) {\n        var elem = list$1[i$1];\n\n      if (elem) { this.checkLVal(elem, bindingType, checkClashes); }\n      }\n      break\n\n    case \"AssignmentPattern\":\n      this.checkLVal(expr.left, bindingType, checkClashes);\n      break\n\n    case \"RestElement\":\n      this.checkLVal(expr.argument, bindingType, checkClashes);\n      break\n\n    case \"ParenthesizedExpression\":\n      this.checkLVal(expr.expression, bindingType, checkClashes);\n      break\n\n    default:\n      this.raise(expr.start, (bindingType ? \"Binding\" : \"Assigning to\") + \" rvalue\");\n    }\n  };\n\n\n  var pp$3 = Parser.prototype;\n\n\n  pp$3.checkPropClash = function(prop, propHash, refDestructuringErrors) {\n    if (this.options.ecmaVersion >= 9 && prop.type === \"SpreadElement\")\n      { return }\n    if (this.options.ecmaVersion >= 6 && (prop.computed || prop.method || prop.shorthand))\n      { return }\n    var key = prop.key;\n    var name;\n    switch (key.type) {\n    case \"Identifier\": name = key.name; break\n    case \"Literal\": name = String(key.value); break\n    default: return\n    }\n    var kind = prop.kind;\n    if (this.options.ecmaVersion >= 6) {\n      if (name === \"__proto__\" && kind === \"init\") {\n        if (propHash.proto) {\n          if (refDestructuringErrors) {\n            if (refDestructuringErrors.doubleProto < 0)\n              { refDestructuringErrors.doubleProto = key.start; }\n          } else { this.raiseRecoverable(key.start, \"Redefinition of __proto__ property\"); }\n        }\n        propHash.proto = true;\n      }\n      return\n    }\n    name = \"$\" + name;\n    var other = propHash[name];\n    if (other) {\n      var redefinition;\n      if (kind === \"init\") {\n        redefinition = this.strict && other.init || other.get || other.set;\n      } else {\n        redefinition = other.init || other[kind];\n      }\n      if (redefinition)\n        { this.raiseRecoverable(key.start, \"Redefinition of property\"); }\n    } else {\n      other = propHash[name] = {\n        init: false,\n        get: false,\n        set: false\n      };\n    }\n    other[kind] = true;\n  };\n\n\n\n\n  pp$3.parseExpression = function(noIn, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseMaybeAssign(noIn, refDestructuringErrors);\n    if (this.type === types.comma) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.expressions = [expr];\n      while (this.eat(types.comma)) { node.expressions.push(this.parseMaybeAssign(noIn, refDestructuringErrors)); }\n      return this.finishNode(node, \"SequenceExpression\")\n    }\n    return expr\n  };\n\n\n  pp$3.parseMaybeAssign = function(noIn, refDestructuringErrors, afterLeftParse) {\n    if (this.isContextual(\"yield\")) {\n      if (this.inGenerator) { return this.parseYield(noIn) }\n      else { this.exprAllowed = false; }\n    }\n\n    var ownDestructuringErrors = false, oldParenAssign = -1, oldTrailingComma = -1;\n    if (refDestructuringErrors) {\n      oldParenAssign = refDestructuringErrors.parenthesizedAssign;\n      oldTrailingComma = refDestructuringErrors.trailingComma;\n      refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = -1;\n    } else {\n      refDestructuringErrors = new DestructuringErrors;\n      ownDestructuringErrors = true;\n    }\n\n    var startPos = this.start, startLoc = this.startLoc;\n    if (this.type === types.parenL || this.type === types.name)\n      { this.potentialArrowAt = this.start; }\n    var left = this.parseMaybeConditional(noIn, refDestructuringErrors);\n    if (afterLeftParse) { left = afterLeftParse.call(this, left, startPos, startLoc); }\n    if (this.type.isAssign) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.operator = this.value;\n      node.left = this.type === types.eq ? this.toAssignable(left, false, refDestructuringErrors) : left;\n      if (!ownDestructuringErrors) {\n        refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = refDestructuringErrors.doubleProto = -1;\n      }\n      if (refDestructuringErrors.shorthandAssign >= node.left.start)\n        { refDestructuringErrors.shorthandAssign = -1; } \n      this.checkLVal(left);\n      this.next();\n      node.right = this.parseMaybeAssign(noIn);\n      return this.finishNode(node, \"AssignmentExpression\")\n    } else {\n      if (ownDestructuringErrors) { this.checkExpressionErrors(refDestructuringErrors, true); }\n    }\n    if (oldParenAssign > -1) { refDestructuringErrors.parenthesizedAssign = oldParenAssign; }\n    if (oldTrailingComma > -1) { refDestructuringErrors.trailingComma = oldTrailingComma; }\n    return left\n  };\n\n\n  pp$3.parseMaybeConditional = function(noIn, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseExprOps(noIn, refDestructuringErrors);\n    if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n    if (this.eat(types.question)) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.test = expr;\n      node.consequent = this.parseMaybeAssign();\n      this.expect(types.colon);\n      node.alternate = this.parseMaybeAssign(noIn);\n      return this.finishNode(node, \"ConditionalExpression\")\n    }\n    return expr\n  };\n\n\n  pp$3.parseExprOps = function(noIn, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseMaybeUnary(refDestructuringErrors, false);\n    if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n    return expr.start === startPos && expr.type === \"ArrowFunctionExpression\" ? expr : this.parseExprOp(expr, startPos, startLoc, -1, noIn)\n  };\n\n\n  pp$3.parseExprOp = function(left, leftStartPos, leftStartLoc, minPrec, noIn) {\n    var prec = this.type.binop;\n    if (prec != null && (!noIn || this.type !== types._in)) {\n      if (prec > minPrec) {\n        var logical = this.type === types.logicalOR || this.type === types.logicalAND;\n        var op = this.value;\n        this.next();\n        var startPos = this.start, startLoc = this.startLoc;\n        var right = this.parseExprOp(this.parseMaybeUnary(null, false), startPos, startLoc, prec, noIn);\n        var node = this.buildBinary(leftStartPos, leftStartLoc, left, right, op, logical);\n        return this.parseExprOp(node, leftStartPos, leftStartLoc, minPrec, noIn)\n      }\n    }\n    return left\n  };\n\n  pp$3.buildBinary = function(startPos, startLoc, left, right, op, logical) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.left = left;\n    node.operator = op;\n    node.right = right;\n    return this.finishNode(node, logical ? \"LogicalExpression\" : \"BinaryExpression\")\n  };\n\n\n  pp$3.parseMaybeUnary = function(refDestructuringErrors, sawUnary) {\n    var startPos = this.start, startLoc = this.startLoc, expr;\n    if (this.isContextual(\"await\") && (this.inAsync || (!this.inFunction && this.options.allowAwaitOutsideFunction))) {\n      expr = this.parseAwait();\n      sawUnary = true;\n    } else if (this.type.prefix) {\n      var node = this.startNode(), update = this.type === types.incDec;\n      node.operator = this.value;\n      node.prefix = true;\n      this.next();\n      node.argument = this.parseMaybeUnary(null, true);\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      if (update) { this.checkLVal(node.argument); }\n      else if (this.strict && node.operator === \"delete\" &&\n               node.argument.type === \"Identifier\")\n        { this.raiseRecoverable(node.start, \"Deleting local variable in strict mode\"); }\n      else { sawUnary = true; }\n      expr = this.finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n    } else {\n      expr = this.parseExprSubscripts(refDestructuringErrors);\n      if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n      while (this.type.postfix && !this.canInsertSemicolon()) {\n        var node$1 = this.startNodeAt(startPos, startLoc);\n        node$1.operator = this.value;\n        node$1.prefix = false;\n        node$1.argument = expr;\n        this.checkLVal(expr);\n        this.next();\n        expr = this.finishNode(node$1, \"UpdateExpression\");\n      }\n    }\n\n    if (!sawUnary && this.eat(types.starstar))\n      { return this.buildBinary(startPos, startLoc, expr, this.parseMaybeUnary(null, false), \"**\", false) }\n    else\n      { return expr }\n  };\n\n\n  pp$3.parseExprSubscripts = function(refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseExprAtom(refDestructuringErrors);\n    if (expr.type === \"ArrowFunctionExpression\" && this.input.slice(this.lastTokStart, this.lastTokEnd) !== \")\")\n      { return expr }\n    var result = this.parseSubscripts(expr, startPos, startLoc);\n    if (refDestructuringErrors && result.type === \"MemberExpression\") {\n      if (refDestructuringErrors.parenthesizedAssign >= result.start) { refDestructuringErrors.parenthesizedAssign = -1; }\n      if (refDestructuringErrors.parenthesizedBind >= result.start) { refDestructuringErrors.parenthesizedBind = -1; }\n    }\n    return result\n  };\n\n  pp$3.parseSubscripts = function(base, startPos, startLoc, noCalls) {\n    var maybeAsyncArrow = this.options.ecmaVersion >= 8 && base.type === \"Identifier\" && base.name === \"async\" &&\n        this.lastTokEnd === base.end && !this.canInsertSemicolon() && this.input.slice(base.start, base.end) === \"async\";\n    while (true) {\n      var element = this.parseSubscript(base, startPos, startLoc, noCalls, maybeAsyncArrow);\n      if (element === base || element.type === \"ArrowFunctionExpression\") { return element }\n      base = element;\n    }\n  };\n\n  pp$3.parseSubscript = function(base, startPos, startLoc, noCalls, maybeAsyncArrow) {\n    var computed = this.eat(types.bracketL);\n    if (computed || this.eat(types.dot)) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.object = base;\n      node.property = computed ? this.parseExpression() : this.parseIdent(this.options.allowReserved !== \"never\");\n      node.computed = !!computed;\n      if (computed) { this.expect(types.bracketR); }\n      base = this.finishNode(node, \"MemberExpression\");\n    } else if (!noCalls && this.eat(types.parenL)) {\n      var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n      this.yieldPos = 0;\n      this.awaitPos = 0;\n      this.awaitIdentPos = 0;\n      var exprList = this.parseExprList(types.parenR, this.options.ecmaVersion >= 8, false, refDestructuringErrors);\n      if (maybeAsyncArrow && !this.canInsertSemicolon() && this.eat(types.arrow)) {\n        this.checkPatternErrors(refDestructuringErrors, false);\n        this.checkYieldAwaitInDefaultParams();\n        if (this.awaitIdentPos > 0)\n          { this.raise(this.awaitIdentPos, \"Cannot use 'await' as identifier inside an async function\"); }\n        this.yieldPos = oldYieldPos;\n        this.awaitPos = oldAwaitPos;\n        this.awaitIdentPos = oldAwaitIdentPos;\n        return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList, true)\n      }\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      this.yieldPos = oldYieldPos || this.yieldPos;\n      this.awaitPos = oldAwaitPos || this.awaitPos;\n      this.awaitIdentPos = oldAwaitIdentPos || this.awaitIdentPos;\n      var node$1 = this.startNodeAt(startPos, startLoc);\n      node$1.callee = base;\n      node$1.arguments = exprList;\n      base = this.finishNode(node$1, \"CallExpression\");\n    } else if (this.type === types.backQuote) {\n      var node$2 = this.startNodeAt(startPos, startLoc);\n      node$2.tag = base;\n      node$2.quasi = this.parseTemplate({isTagged: true});\n      base = this.finishNode(node$2, \"TaggedTemplateExpression\");\n    }\n    return base\n  };\n\n\n  pp$3.parseExprAtom = function(refDestructuringErrors) {\n    if (this.type === types.slash) { this.readRegexp(); }\n\n    var node, canBeArrow = this.potentialArrowAt === this.start;\n    switch (this.type) {\n    case types._super:\n      if (!this.allowSuper)\n        { this.raise(this.start, \"'super' keyword outside a method\"); }\n      node = this.startNode();\n      this.next();\n      if (this.type === types.parenL && !this.allowDirectSuper)\n        { this.raise(node.start, \"super() call outside constructor of a subclass\"); }\n      if (this.type !== types.dot && this.type !== types.bracketL && this.type !== types.parenL)\n        { this.unexpected(); }\n      return this.finishNode(node, \"Super\")\n\n    case types._this:\n      node = this.startNode();\n      this.next();\n      return this.finishNode(node, \"ThisExpression\")\n\n    case types.name:\n      var startPos = this.start, startLoc = this.startLoc, containsEsc = this.containsEsc;\n      var id = this.parseIdent(false);\n      if (this.options.ecmaVersion >= 8 && !containsEsc && id.name === \"async\" && !this.canInsertSemicolon() && this.eat(types._function))\n        { return this.parseFunction(this.startNodeAt(startPos, startLoc), 0, false, true) }\n      if (canBeArrow && !this.canInsertSemicolon()) {\n        if (this.eat(types.arrow))\n          { return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], false) }\n        if (this.options.ecmaVersion >= 8 && id.name === \"async\" && this.type === types.name && !containsEsc) {\n          id = this.parseIdent(false);\n          if (this.canInsertSemicolon() || !this.eat(types.arrow))\n            { this.unexpected(); }\n          return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], true)\n        }\n      }\n      return id\n\n    case types.regexp:\n      var value = this.value;\n      node = this.parseLiteral(value.value);\n      node.regex = {pattern: value.pattern, flags: value.flags};\n      return node\n\n    case types.num: case types.string:\n      return this.parseLiteral(this.value)\n\n    case types._null: case types._true: case types._false:\n      node = this.startNode();\n      node.value = this.type === types._null ? null : this.type === types._true;\n      node.raw = this.type.keyword;\n      this.next();\n      return this.finishNode(node, \"Literal\")\n\n    case types.parenL:\n      var start = this.start, expr = this.parseParenAndDistinguishExpression(canBeArrow);\n      if (refDestructuringErrors) {\n        if (refDestructuringErrors.parenthesizedAssign < 0 && !this.isSimpleAssignTarget(expr))\n          { refDestructuringErrors.parenthesizedAssign = start; }\n        if (refDestructuringErrors.parenthesizedBind < 0)\n          { refDestructuringErrors.parenthesizedBind = start; }\n      }\n      return expr\n\n    case types.bracketL:\n      node = this.startNode();\n      this.next();\n      node.elements = this.parseExprList(types.bracketR, true, true, refDestructuringErrors);\n      return this.finishNode(node, \"ArrayExpression\")\n\n    case types.braceL:\n      return this.parseObj(false, refDestructuringErrors)\n\n    case types._function:\n      node = this.startNode();\n      this.next();\n      return this.parseFunction(node, 0)\n\n    case types._class:\n      return this.parseClass(this.startNode(), false)\n\n    case types._new:\n      return this.parseNew()\n\n    case types.backQuote:\n      return this.parseTemplate()\n\n    case types._import:\n      if (this.options.ecmaVersion >= 11) {\n        return this.parseExprImport()\n      } else {\n        return this.unexpected()\n      }\n\n    default:\n      this.unexpected();\n    }\n  };\n\n  pp$3.parseExprImport = function() {\n    var node = this.startNode();\n    this.next(); \n    switch (this.type) {\n    case types.parenL:\n      return this.parseDynamicImport(node)\n    default:\n      this.unexpected();\n    }\n  };\n\n  pp$3.parseDynamicImport = function(node) {\n    this.next(); \n\n    node.source = this.parseMaybeAssign();\n\n    if (!this.eat(types.parenR)) {\n      var errorPos = this.start;\n      if (this.eat(types.comma) && this.eat(types.parenR)) {\n        this.raiseRecoverable(errorPos, \"Trailing comma is not allowed in import()\");\n      } else {\n        this.unexpected(errorPos);\n      }\n    }\n\n    return this.finishNode(node, \"ImportExpression\")\n  };\n\n  pp$3.parseLiteral = function(value) {\n    var node = this.startNode();\n    node.value = value;\n    node.raw = this.input.slice(this.start, this.end);\n    if (node.raw.charCodeAt(node.raw.length - 1) === 110) { node.bigint = node.raw.slice(0, -1); }\n    this.next();\n    return this.finishNode(node, \"Literal\")\n  };\n\n  pp$3.parseParenExpression = function() {\n    this.expect(types.parenL);\n    var val = this.parseExpression();\n    this.expect(types.parenR);\n    return val\n  };\n\n  pp$3.parseParenAndDistinguishExpression = function(canBeArrow) {\n    var startPos = this.start, startLoc = this.startLoc, val, allowTrailingComma = this.options.ecmaVersion >= 8;\n    if (this.options.ecmaVersion >= 6) {\n      this.next();\n\n      var innerStartPos = this.start, innerStartLoc = this.startLoc;\n      var exprList = [], first = true, lastIsComma = false;\n      var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, spreadStart;\n      this.yieldPos = 0;\n      this.awaitPos = 0;\n      while (this.type !== types.parenR) {\n        first ? first = false : this.expect(types.comma);\n        if (allowTrailingComma && this.afterTrailingComma(types.parenR, true)) {\n          lastIsComma = true;\n          break\n        } else if (this.type === types.ellipsis) {\n          spreadStart = this.start;\n          exprList.push(this.parseParenItem(this.parseRestBinding()));\n          if (this.type === types.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\n          break\n        } else {\n          exprList.push(this.parseMaybeAssign(false, refDestructuringErrors, this.parseParenItem));\n        }\n      }\n      var innerEndPos = this.start, innerEndLoc = this.startLoc;\n      this.expect(types.parenR);\n\n      if (canBeArrow && !this.canInsertSemicolon() && this.eat(types.arrow)) {\n        this.checkPatternErrors(refDestructuringErrors, false);\n        this.checkYieldAwaitInDefaultParams();\n        this.yieldPos = oldYieldPos;\n        this.awaitPos = oldAwaitPos;\n        return this.parseParenArrowList(startPos, startLoc, exprList)\n      }\n\n      if (!exprList.length || lastIsComma) { this.unexpected(this.lastTokStart); }\n      if (spreadStart) { this.unexpected(spreadStart); }\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      this.yieldPos = oldYieldPos || this.yieldPos;\n      this.awaitPos = oldAwaitPos || this.awaitPos;\n\n      if (exprList.length > 1) {\n        val = this.startNodeAt(innerStartPos, innerStartLoc);\n        val.expressions = exprList;\n        this.finishNodeAt(val, \"SequenceExpression\", innerEndPos, innerEndLoc);\n      } else {\n        val = exprList[0];\n      }\n    } else {\n      val = this.parseParenExpression();\n    }\n\n    if (this.options.preserveParens) {\n      var par = this.startNodeAt(startPos, startLoc);\n      par.expression = val;\n      return this.finishNode(par, \"ParenthesizedExpression\")\n    } else {\n      return val\n    }\n  };\n\n  pp$3.parseParenItem = function(item) {\n    return item\n  };\n\n  pp$3.parseParenArrowList = function(startPos, startLoc, exprList) {\n    return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList)\n  };\n\n\n  var empty$1 = [];\n\n  pp$3.parseNew = function() {\n    if (this.containsEsc) { this.raiseRecoverable(this.start, \"Escape sequence in keyword new\"); }\n    var node = this.startNode();\n    var meta = this.parseIdent(true);\n    if (this.options.ecmaVersion >= 6 && this.eat(types.dot)) {\n      node.meta = meta;\n      var containsEsc = this.containsEsc;\n      node.property = this.parseIdent(true);\n      if (node.property.name !== \"target\" || containsEsc)\n        { this.raiseRecoverable(node.property.start, \"The only valid meta property for new is new.target\"); }\n      if (!this.inNonArrowFunction())\n        { this.raiseRecoverable(node.start, \"new.target can only be used in functions\"); }\n      return this.finishNode(node, \"MetaProperty\")\n    }\n    var startPos = this.start, startLoc = this.startLoc, isImport = this.type === types._import;\n    node.callee = this.parseSubscripts(this.parseExprAtom(), startPos, startLoc, true);\n    if (isImport && node.callee.type === \"ImportExpression\") {\n      this.raise(startPos, \"Cannot use new with import()\");\n    }\n    if (this.eat(types.parenL)) { node.arguments = this.parseExprList(types.parenR, this.options.ecmaVersion >= 8, false); }\n    else { node.arguments = empty$1; }\n    return this.finishNode(node, \"NewExpression\")\n  };\n\n\n  pp$3.parseTemplateElement = function(ref) {\n    var isTagged = ref.isTagged;\n\n    var elem = this.startNode();\n    if (this.type === types.invalidTemplate) {\n      if (!isTagged) {\n        this.raiseRecoverable(this.start, \"Bad escape sequence in untagged template literal\");\n      }\n      elem.value = {\n        raw: this.value,\n        cooked: null\n      };\n    } else {\n      elem.value = {\n        raw: this.input.slice(this.start, this.end).replace(/\\r\\n?/g, \"\\n\"),\n        cooked: this.value\n      };\n    }\n    this.next();\n    elem.tail = this.type === types.backQuote;\n    return this.finishNode(elem, \"TemplateElement\")\n  };\n\n  pp$3.parseTemplate = function(ref) {\n    if ( ref === void 0 ) ref = {};\n    var isTagged = ref.isTagged; if ( isTagged === void 0 ) isTagged = false;\n\n    var node = this.startNode();\n    this.next();\n    node.expressions = [];\n    var curElt = this.parseTemplateElement({isTagged: isTagged});\n    node.quasis = [curElt];\n    while (!curElt.tail) {\n      if (this.type === types.eof) { this.raise(this.pos, \"Unterminated template literal\"); }\n      this.expect(types.dollarBraceL);\n      node.expressions.push(this.parseExpression());\n      this.expect(types.braceR);\n      node.quasis.push(curElt = this.parseTemplateElement({isTagged: isTagged}));\n    }\n    this.next();\n    return this.finishNode(node, \"TemplateLiteral\")\n  };\n\n  pp$3.isAsyncProp = function(prop) {\n    return !prop.computed && prop.key.type === \"Identifier\" && prop.key.name === \"async\" &&\n      (this.type === types.name || this.type === types.num || this.type === types.string || this.type === types.bracketL || this.type.keyword || (this.options.ecmaVersion >= 9 && this.type === types.star)) &&\n      !lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n  };\n\n\n  pp$3.parseObj = function(isPattern, refDestructuringErrors) {\n    var node = this.startNode(), first = true, propHash = {};\n    node.properties = [];\n    this.next();\n    while (!this.eat(types.braceR)) {\n      if (!first) {\n        this.expect(types.comma);\n        if (this.options.ecmaVersion >= 5 && this.afterTrailingComma(types.braceR)) { break }\n      } else { first = false; }\n\n      var prop = this.parseProperty(isPattern, refDestructuringErrors);\n      if (!isPattern) { this.checkPropClash(prop, propHash, refDestructuringErrors); }\n      node.properties.push(prop);\n    }\n    return this.finishNode(node, isPattern ? \"ObjectPattern\" : \"ObjectExpression\")\n  };\n\n  pp$3.parseProperty = function(isPattern, refDestructuringErrors) {\n    var prop = this.startNode(), isGenerator, isAsync, startPos, startLoc;\n    if (this.options.ecmaVersion >= 9 && this.eat(types.ellipsis)) {\n      if (isPattern) {\n        prop.argument = this.parseIdent(false);\n        if (this.type === types.comma) {\n          this.raise(this.start, \"Comma is not permitted after the rest element\");\n        }\n        return this.finishNode(prop, \"RestElement\")\n      }\n      if (this.type === types.parenL && refDestructuringErrors) {\n        if (refDestructuringErrors.parenthesizedAssign < 0) {\n          refDestructuringErrors.parenthesizedAssign = this.start;\n        }\n        if (refDestructuringErrors.parenthesizedBind < 0) {\n          refDestructuringErrors.parenthesizedBind = this.start;\n        }\n      }\n      prop.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n      if (this.type === types.comma && refDestructuringErrors && refDestructuringErrors.trailingComma < 0) {\n        refDestructuringErrors.trailingComma = this.start;\n      }\n      return this.finishNode(prop, \"SpreadElement\")\n    }\n    if (this.options.ecmaVersion >= 6) {\n      prop.method = false;\n      prop.shorthand = false;\n      if (isPattern || refDestructuringErrors) {\n        startPos = this.start;\n        startLoc = this.startLoc;\n      }\n      if (!isPattern)\n        { isGenerator = this.eat(types.star); }\n    }\n    var containsEsc = this.containsEsc;\n    this.parsePropertyName(prop);\n    if (!isPattern && !containsEsc && this.options.ecmaVersion >= 8 && !isGenerator && this.isAsyncProp(prop)) {\n      isAsync = true;\n      isGenerator = this.options.ecmaVersion >= 9 && this.eat(types.star);\n      this.parsePropertyName(prop, refDestructuringErrors);\n    } else {\n      isAsync = false;\n    }\n    this.parsePropertyValue(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc);\n    return this.finishNode(prop, \"Property\")\n  };\n\n  pp$3.parsePropertyValue = function(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc) {\n    if ((isGenerator || isAsync) && this.type === types.colon)\n      { this.unexpected(); }\n\n    if (this.eat(types.colon)) {\n      prop.value = isPattern ? this.parseMaybeDefault(this.start, this.startLoc) : this.parseMaybeAssign(false, refDestructuringErrors);\n      prop.kind = \"init\";\n    } else if (this.options.ecmaVersion >= 6 && this.type === types.parenL) {\n      if (isPattern) { this.unexpected(); }\n      prop.kind = \"init\";\n      prop.method = true;\n      prop.value = this.parseMethod(isGenerator, isAsync);\n    } else if (!isPattern && !containsEsc &&\n               this.options.ecmaVersion >= 5 && !prop.computed && prop.key.type === \"Identifier\" &&\n               (prop.key.name === \"get\" || prop.key.name === \"set\") &&\n               (this.type !== types.comma && this.type !== types.braceR)) {\n      if (isGenerator || isAsync) { this.unexpected(); }\n      prop.kind = prop.key.name;\n      this.parsePropertyName(prop);\n      prop.value = this.parseMethod(false);\n      var paramCount = prop.kind === \"get\" ? 0 : 1;\n      if (prop.value.params.length !== paramCount) {\n        var start = prop.value.start;\n        if (prop.kind === \"get\")\n          { this.raiseRecoverable(start, \"getter should have no params\"); }\n        else\n          { this.raiseRecoverable(start, \"setter should have exactly one param\"); }\n      } else {\n        if (prop.kind === \"set\" && prop.value.params[0].type === \"RestElement\")\n          { this.raiseRecoverable(prop.value.params[0].start, \"Setter cannot use rest params\"); }\n      }\n    } else if (this.options.ecmaVersion >= 6 && !prop.computed && prop.key.type === \"Identifier\") {\n      if (isGenerator || isAsync) { this.unexpected(); }\n      this.checkUnreserved(prop.key);\n      if (prop.key.name === \"await\" && !this.awaitIdentPos)\n        { this.awaitIdentPos = startPos; }\n      prop.kind = \"init\";\n      if (isPattern) {\n        prop.value = this.parseMaybeDefault(startPos, startLoc, prop.key);\n      } else if (this.type === types.eq && refDestructuringErrors) {\n        if (refDestructuringErrors.shorthandAssign < 0)\n          { refDestructuringErrors.shorthandAssign = this.start; }\n        prop.value = this.parseMaybeDefault(startPos, startLoc, prop.key);\n      } else {\n        prop.value = prop.key;\n      }\n      prop.shorthand = true;\n    } else { this.unexpected(); }\n  };\n\n  pp$3.parsePropertyName = function(prop) {\n    if (this.options.ecmaVersion >= 6) {\n      if (this.eat(types.bracketL)) {\n        prop.computed = true;\n        prop.key = this.parseMaybeAssign();\n        this.expect(types.bracketR);\n        return prop.key\n      } else {\n        prop.computed = false;\n      }\n    }\n    return prop.key = this.type === types.num || this.type === types.string ? this.parseExprAtom() : this.parseIdent(this.options.allowReserved !== \"never\")\n  };\n\n\n  pp$3.initFunction = function(node) {\n    node.id = null;\n    if (this.options.ecmaVersion >= 6) { node.generator = node.expression = false; }\n    if (this.options.ecmaVersion >= 8) { node.async = false; }\n  };\n\n\n  pp$3.parseMethod = function(isGenerator, isAsync, allowDirectSuper) {\n    var node = this.startNode(), oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 6)\n      { node.generator = isGenerator; }\n    if (this.options.ecmaVersion >= 8)\n      { node.async = !!isAsync; }\n\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    this.enterScope(functionFlags(isAsync, node.generator) | SCOPE_SUPER | (allowDirectSuper ? SCOPE_DIRECT_SUPER : 0));\n\n    this.expect(types.parenL);\n    node.params = this.parseBindingList(types.parenR, false, this.options.ecmaVersion >= 8);\n    this.checkYieldAwaitInDefaultParams();\n    this.parseFunctionBody(node, false, true);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, \"FunctionExpression\")\n  };\n\n\n  pp$3.parseArrowExpression = function(node, params, isAsync) {\n    var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n    this.enterScope(functionFlags(isAsync, false) | SCOPE_ARROW);\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 8) { node.async = !!isAsync; }\n\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n\n    node.params = this.toAssignableList(params, true);\n    this.parseFunctionBody(node, true, false);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, \"ArrowFunctionExpression\")\n  };\n\n\n  pp$3.parseFunctionBody = function(node, isArrowFunction, isMethod) {\n    var isExpression = isArrowFunction && this.type !== types.braceL;\n    var oldStrict = this.strict, useStrict = false;\n\n    if (isExpression) {\n      node.body = this.parseMaybeAssign();\n      node.expression = true;\n      this.checkParams(node, false);\n    } else {\n      var nonSimple = this.options.ecmaVersion >= 7 && !this.isSimpleParamList(node.params);\n      if (!oldStrict || nonSimple) {\n        useStrict = this.strictDirective(this.end);\n        if (useStrict && nonSimple)\n          { this.raiseRecoverable(node.start, \"Illegal 'use strict' directive in function with non-simple parameter list\"); }\n      }\n      var oldLabels = this.labels;\n      this.labels = [];\n      if (useStrict) { this.strict = true; }\n\n      this.checkParams(node, !oldStrict && !useStrict && !isArrowFunction && !isMethod && this.isSimpleParamList(node.params));\n      node.body = this.parseBlock(false);\n      node.expression = false;\n      this.adaptDirectivePrologue(node.body.body);\n      this.labels = oldLabels;\n    }\n    this.exitScope();\n\n    if (this.strict && node.id) { this.checkLVal(node.id, BIND_OUTSIDE); }\n    this.strict = oldStrict;\n  };\n\n  pp$3.isSimpleParamList = function(params) {\n    for (var i = 0, list = params; i < list.length; i += 1)\n      {\n      var param = list[i];\n\n      if (param.type !== \"Identifier\") { return false\n    } }\n    return true\n  };\n\n\n  pp$3.checkParams = function(node, allowDuplicates) {\n    var nameHash = {};\n    for (var i = 0, list = node.params; i < list.length; i += 1)\n      {\n      var param = list[i];\n\n      this.checkLVal(param, BIND_VAR, allowDuplicates ? null : nameHash);\n    }\n  };\n\n\n  pp$3.parseExprList = function(close, allowTrailingComma, allowEmpty, refDestructuringErrors) {\n    var elts = [], first = true;\n    while (!this.eat(close)) {\n      if (!first) {\n        this.expect(types.comma);\n        if (allowTrailingComma && this.afterTrailingComma(close)) { break }\n      } else { first = false; }\n\n      var elt = (void 0);\n      if (allowEmpty && this.type === types.comma)\n        { elt = null; }\n      else if (this.type === types.ellipsis) {\n        elt = this.parseSpread(refDestructuringErrors);\n        if (refDestructuringErrors && this.type === types.comma && refDestructuringErrors.trailingComma < 0)\n          { refDestructuringErrors.trailingComma = this.start; }\n      } else {\n        elt = this.parseMaybeAssign(false, refDestructuringErrors);\n      }\n      elts.push(elt);\n    }\n    return elts\n  };\n\n  pp$3.checkUnreserved = function(ref) {\n    var start = ref.start;\n    var end = ref.end;\n    var name = ref.name;\n\n    if (this.inGenerator && name === \"yield\")\n      { this.raiseRecoverable(start, \"Cannot use 'yield' as identifier inside a generator\"); }\n    if (this.inAsync && name === \"await\")\n      { this.raiseRecoverable(start, \"Cannot use 'await' as identifier inside an async function\"); }\n    if (this.keywords.test(name))\n      { this.raise(start, (\"Unexpected keyword '\" + name + \"'\")); }\n    if (this.options.ecmaVersion < 6 &&\n      this.input.slice(start, end).indexOf(\"\\\\\") !== -1) { return }\n    var re = this.strict ? this.reservedWordsStrict : this.reservedWords;\n    if (re.test(name)) {\n      if (!this.inAsync && name === \"await\")\n        { this.raiseRecoverable(start, \"Cannot use keyword 'await' outside an async function\"); }\n      this.raiseRecoverable(start, (\"The keyword '\" + name + \"' is reserved\"));\n    }\n  };\n\n\n  pp$3.parseIdent = function(liberal, isBinding) {\n    var node = this.startNode();\n    if (this.type === types.name) {\n      node.name = this.value;\n    } else if (this.type.keyword) {\n      node.name = this.type.keyword;\n\n      if ((node.name === \"class\" || node.name === \"function\") &&\n          (this.lastTokEnd !== this.lastTokStart + 1 || this.input.charCodeAt(this.lastTokStart) !== 46)) {\n        this.context.pop();\n      }\n    } else {\n      this.unexpected();\n    }\n    this.next(!!liberal);\n    this.finishNode(node, \"Identifier\");\n    if (!liberal) {\n      this.checkUnreserved(node);\n      if (node.name === \"await\" && !this.awaitIdentPos)\n        { this.awaitIdentPos = node.start; }\n    }\n    return node\n  };\n\n\n  pp$3.parseYield = function(noIn) {\n    if (!this.yieldPos) { this.yieldPos = this.start; }\n\n    var node = this.startNode();\n    this.next();\n    if (this.type === types.semi || this.canInsertSemicolon() || (this.type !== types.star && !this.type.startsExpr)) {\n      node.delegate = false;\n      node.argument = null;\n    } else {\n      node.delegate = this.eat(types.star);\n      node.argument = this.parseMaybeAssign(noIn);\n    }\n    return this.finishNode(node, \"YieldExpression\")\n  };\n\n  pp$3.parseAwait = function() {\n    if (!this.awaitPos) { this.awaitPos = this.start; }\n\n    var node = this.startNode();\n    this.next();\n    node.argument = this.parseMaybeUnary(null, false);\n    return this.finishNode(node, \"AwaitExpression\")\n  };\n\n  var pp$4 = Parser.prototype;\n\n\n  pp$4.raise = function(pos, message) {\n    var loc = getLineInfo(this.input, pos);\n    message += \" (\" + loc.line + \":\" + loc.column + \")\";\n    var err = new SyntaxError(message);\n    err.pos = pos; err.loc = loc; err.raisedAt = this.pos;\n    throw err\n  };\n\n  pp$4.raiseRecoverable = pp$4.raise;\n\n  pp$4.curPosition = function() {\n    if (this.options.locations) {\n      return new Position(this.curLine, this.pos - this.lineStart)\n    }\n  };\n\n  var pp$5 = Parser.prototype;\n\n  var Scope = function Scope(flags) {\n    this.flags = flags;\n    this.var = [];\n    this.lexical = [];\n    this.functions = [];\n  };\n\n\n  pp$5.enterScope = function(flags) {\n    this.scopeStack.push(new Scope(flags));\n  };\n\n  pp$5.exitScope = function() {\n    this.scopeStack.pop();\n  };\n\n  pp$5.treatFunctionsAsVarInScope = function(scope) {\n    return (scope.flags & SCOPE_FUNCTION) || !this.inModule && (scope.flags & SCOPE_TOP)\n  };\n\n  pp$5.declareName = function(name, bindingType, pos) {\n    var redeclared = false;\n    if (bindingType === BIND_LEXICAL) {\n      var scope = this.currentScope();\n      redeclared = scope.lexical.indexOf(name) > -1 || scope.functions.indexOf(name) > -1 || scope.var.indexOf(name) > -1;\n      scope.lexical.push(name);\n      if (this.inModule && (scope.flags & SCOPE_TOP))\n        { delete this.undefinedExports[name]; }\n    } else if (bindingType === BIND_SIMPLE_CATCH) {\n      var scope$1 = this.currentScope();\n      scope$1.lexical.push(name);\n    } else if (bindingType === BIND_FUNCTION) {\n      var scope$2 = this.currentScope();\n      if (this.treatFunctionsAsVar)\n        { redeclared = scope$2.lexical.indexOf(name) > -1; }\n      else\n        { redeclared = scope$2.lexical.indexOf(name) > -1 || scope$2.var.indexOf(name) > -1; }\n      scope$2.functions.push(name);\n    } else {\n      for (var i = this.scopeStack.length - 1; i >= 0; --i) {\n        var scope$3 = this.scopeStack[i];\n        if (scope$3.lexical.indexOf(name) > -1 && !((scope$3.flags & SCOPE_SIMPLE_CATCH) && scope$3.lexical[0] === name) ||\n            !this.treatFunctionsAsVarInScope(scope$3) && scope$3.functions.indexOf(name) > -1) {\n          redeclared = true;\n          break\n        }\n        scope$3.var.push(name);\n        if (this.inModule && (scope$3.flags & SCOPE_TOP))\n          { delete this.undefinedExports[name]; }\n        if (scope$3.flags & SCOPE_VAR) { break }\n      }\n    }\n    if (redeclared) { this.raiseRecoverable(pos, (\"Identifier '\" + name + \"' has already been declared\")); }\n  };\n\n  pp$5.checkLocalExport = function(id) {\n    if (this.scopeStack[0].lexical.indexOf(id.name) === -1 &&\n        this.scopeStack[0].var.indexOf(id.name) === -1) {\n      this.undefinedExports[id.name] = id;\n    }\n  };\n\n  pp$5.currentScope = function() {\n    return this.scopeStack[this.scopeStack.length - 1]\n  };\n\n  pp$5.currentVarScope = function() {\n    for (var i = this.scopeStack.length - 1;; i--) {\n      var scope = this.scopeStack[i];\n      if (scope.flags & SCOPE_VAR) { return scope }\n    }\n  };\n\n  pp$5.currentThisScope = function() {\n    for (var i = this.scopeStack.length - 1;; i--) {\n      var scope = this.scopeStack[i];\n      if (scope.flags & SCOPE_VAR && !(scope.flags & SCOPE_ARROW)) { return scope }\n    }\n  };\n\n  var Node = function Node(parser, pos, loc) {\n    this.type = \"\";\n    this.start = pos;\n    this.end = 0;\n    if (parser.options.locations)\n      { this.loc = new SourceLocation(parser, loc); }\n    if (parser.options.directSourceFile)\n      { this.sourceFile = parser.options.directSourceFile; }\n    if (parser.options.ranges)\n      { this.range = [pos, 0]; }\n  };\n\n\n  var pp$6 = Parser.prototype;\n\n  pp$6.startNode = function() {\n    return new Node(this, this.start, this.startLoc)\n  };\n\n  pp$6.startNodeAt = function(pos, loc) {\n    return new Node(this, pos, loc)\n  };\n\n\n  function finishNodeAt(node, type, pos, loc) {\n    node.type = type;\n    node.end = pos;\n    if (this.options.locations)\n      { node.loc.end = loc; }\n    if (this.options.ranges)\n      { node.range[1] = pos; }\n    return node\n  }\n\n  pp$6.finishNode = function(node, type) {\n    return finishNodeAt.call(this, node, type, this.lastTokEnd, this.lastTokEndLoc)\n  };\n\n\n  pp$6.finishNodeAt = function(node, type, pos, loc) {\n    return finishNodeAt.call(this, node, type, pos, loc)\n  };\n\n\n  var TokContext = function TokContext(token, isExpr, preserveSpace, override, generator) {\n    this.token = token;\n    this.isExpr = !!isExpr;\n    this.preserveSpace = !!preserveSpace;\n    this.override = override;\n    this.generator = !!generator;\n  };\n\n  var types$1 = {\n    b_stat: new TokContext(\"{\", false),\n    b_expr: new TokContext(\"{\", true),\n    b_tmpl: new TokContext(\"${\", false),\n    p_stat: new TokContext(\"(\", false),\n    p_expr: new TokContext(\"(\", true),\n    q_tmpl: new TokContext(\"`\", true, true, function (p) { return p.tryReadTemplateToken(); }),\n    f_stat: new TokContext(\"function\", false),\n    f_expr: new TokContext(\"function\", true),\n    f_expr_gen: new TokContext(\"function\", true, false, null, true),\n    f_gen: new TokContext(\"function\", false, false, null, true)\n  };\n\n  var pp$7 = Parser.prototype;\n\n  pp$7.initialContext = function() {\n    return [types$1.b_stat]\n  };\n\n  pp$7.braceIsBlock = function(prevType) {\n    var parent = this.curContext();\n    if (parent === types$1.f_expr || parent === types$1.f_stat)\n      { return true }\n    if (prevType === types.colon && (parent === types$1.b_stat || parent === types$1.b_expr))\n      { return !parent.isExpr }\n\n    if (prevType === types._return || prevType === types.name && this.exprAllowed)\n      { return lineBreak.test(this.input.slice(this.lastTokEnd, this.start)) }\n    if (prevType === types._else || prevType === types.semi || prevType === types.eof || prevType === types.parenR || prevType === types.arrow)\n      { return true }\n    if (prevType === types.braceL)\n      { return parent === types$1.b_stat }\n    if (prevType === types._var || prevType === types._const || prevType === types.name)\n      { return false }\n    return !this.exprAllowed\n  };\n\n  pp$7.inGeneratorContext = function() {\n    for (var i = this.context.length - 1; i >= 1; i--) {\n      var context = this.context[i];\n      if (context.token === \"function\")\n        { return context.generator }\n    }\n    return false\n  };\n\n  pp$7.updateContext = function(prevType) {\n    var update, type = this.type;\n    if (type.keyword && prevType === types.dot)\n      { this.exprAllowed = false; }\n    else if (update = type.updateContext)\n      { update.call(this, prevType); }\n    else\n      { this.exprAllowed = type.beforeExpr; }\n  };\n\n\n  types.parenR.updateContext = types.braceR.updateContext = function() {\n    if (this.context.length === 1) {\n      this.exprAllowed = true;\n      return\n    }\n    var out = this.context.pop();\n    if (out === types$1.b_stat && this.curContext().token === \"function\") {\n      out = this.context.pop();\n    }\n    this.exprAllowed = !out.isExpr;\n  };\n\n  types.braceL.updateContext = function(prevType) {\n    this.context.push(this.braceIsBlock(prevType) ? types$1.b_stat : types$1.b_expr);\n    this.exprAllowed = true;\n  };\n\n  types.dollarBraceL.updateContext = function() {\n    this.context.push(types$1.b_tmpl);\n    this.exprAllowed = true;\n  };\n\n  types.parenL.updateContext = function(prevType) {\n    var statementParens = prevType === types._if || prevType === types._for || prevType === types._with || prevType === types._while;\n    this.context.push(statementParens ? types$1.p_stat : types$1.p_expr);\n    this.exprAllowed = true;\n  };\n\n  types.incDec.updateContext = function() {\n  };\n\n  types._function.updateContext = types._class.updateContext = function(prevType) {\n    if (prevType.beforeExpr && prevType !== types.semi && prevType !== types._else &&\n        !(prevType === types._return && lineBreak.test(this.input.slice(this.lastTokEnd, this.start))) &&\n        !((prevType === types.colon || prevType === types.braceL) && this.curContext() === types$1.b_stat))\n      { this.context.push(types$1.f_expr); }\n    else\n      { this.context.push(types$1.f_stat); }\n    this.exprAllowed = false;\n  };\n\n  types.backQuote.updateContext = function() {\n    if (this.curContext() === types$1.q_tmpl)\n      { this.context.pop(); }\n    else\n      { this.context.push(types$1.q_tmpl); }\n    this.exprAllowed = false;\n  };\n\n  types.star.updateContext = function(prevType) {\n    if (prevType === types._function) {\n      var index = this.context.length - 1;\n      if (this.context[index] === types$1.f_expr)\n        { this.context[index] = types$1.f_expr_gen; }\n      else\n        { this.context[index] = types$1.f_gen; }\n    }\n    this.exprAllowed = true;\n  };\n\n  types.name.updateContext = function(prevType) {\n    var allowed = false;\n    if (this.options.ecmaVersion >= 6 && prevType !== types.dot) {\n      if (this.value === \"of\" && !this.exprAllowed ||\n          this.value === \"yield\" && this.inGeneratorContext())\n        { allowed = true; }\n    }\n    this.exprAllowed = allowed;\n  };\n\n\n  var ecma9BinaryProperties = \"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS\";\n  var ecma10BinaryProperties = ecma9BinaryProperties + \" Extended_Pictographic\";\n  var ecma11BinaryProperties = ecma10BinaryProperties;\n  var unicodeBinaryProperties = {\n    9: ecma9BinaryProperties,\n    10: ecma10BinaryProperties,\n    11: ecma11BinaryProperties\n  };\n\n  var unicodeGeneralCategoryValues = \"Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu\";\n\n  var ecma9ScriptValues = \"Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb\";\n  var ecma10ScriptValues = ecma9ScriptValues + \" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd\";\n  var ecma11ScriptValues = ecma10ScriptValues + \" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho\";\n  var unicodeScriptValues = {\n    9: ecma9ScriptValues,\n    10: ecma10ScriptValues,\n    11: ecma11ScriptValues\n  };\n\n  var data = {};\n  function buildUnicodeData(ecmaVersion) {\n    var d = data[ecmaVersion] = {\n      binary: wordsRegexp(unicodeBinaryProperties[ecmaVersion] + \" \" + unicodeGeneralCategoryValues),\n      nonBinary: {\n        General_Category: wordsRegexp(unicodeGeneralCategoryValues),\n        Script: wordsRegexp(unicodeScriptValues[ecmaVersion])\n      }\n    };\n    d.nonBinary.Script_Extensions = d.nonBinary.Script;\n\n    d.nonBinary.gc = d.nonBinary.General_Category;\n    d.nonBinary.sc = d.nonBinary.Script;\n    d.nonBinary.scx = d.nonBinary.Script_Extensions;\n  }\n  buildUnicodeData(9);\n  buildUnicodeData(10);\n  buildUnicodeData(11);\n\n  var pp$8 = Parser.prototype;\n\n  var RegExpValidationState = function RegExpValidationState(parser) {\n    this.parser = parser;\n    this.validFlags = \"gim\" + (parser.options.ecmaVersion >= 6 ? \"uy\" : \"\") + (parser.options.ecmaVersion >= 9 ? \"s\" : \"\");\n    this.unicodeProperties = data[parser.options.ecmaVersion >= 11 ? 11 : parser.options.ecmaVersion];\n    this.source = \"\";\n    this.flags = \"\";\n    this.start = 0;\n    this.switchU = false;\n    this.switchN = false;\n    this.pos = 0;\n    this.lastIntValue = 0;\n    this.lastStringValue = \"\";\n    this.lastAssertionIsQuantifiable = false;\n    this.numCapturingParens = 0;\n    this.maxBackReference = 0;\n    this.groupNames = [];\n    this.backReferenceNames = [];\n  };\n\n  RegExpValidationState.prototype.reset = function reset (start, pattern, flags) {\n    var unicode = flags.indexOf(\"u\") !== -1;\n    this.start = start | 0;\n    this.source = pattern + \"\";\n    this.flags = flags;\n    this.switchU = unicode && this.parser.options.ecmaVersion >= 6;\n    this.switchN = unicode && this.parser.options.ecmaVersion >= 9;\n  };\n\n  RegExpValidationState.prototype.raise = function raise (message) {\n    this.parser.raiseRecoverable(this.start, (\"Invalid regular expression: /\" + (this.source) + \"/: \" + message));\n  };\n\n  RegExpValidationState.prototype.at = function at (i) {\n    var s = this.source;\n    var l = s.length;\n    if (i >= l) {\n      return -1\n    }\n    var c = s.charCodeAt(i);\n    if (!this.switchU || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l) {\n      return c\n    }\n    var next = s.charCodeAt(i + 1);\n    return next >= 0xDC00 && next <= 0xDFFF ? (c << 10) + next - 0x35FDC00 : c\n  };\n\n  RegExpValidationState.prototype.nextIndex = function nextIndex (i) {\n    var s = this.source;\n    var l = s.length;\n    if (i >= l) {\n      return l\n    }\n    var c = s.charCodeAt(i), next;\n    if (!this.switchU || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l ||\n        (next = s.charCodeAt(i + 1)) < 0xDC00 || next > 0xDFFF) {\n      return i + 1\n    }\n    return i + 2\n  };\n\n  RegExpValidationState.prototype.current = function current () {\n    return this.at(this.pos)\n  };\n\n  RegExpValidationState.prototype.lookahead = function lookahead () {\n    return this.at(this.nextIndex(this.pos))\n  };\n\n  RegExpValidationState.prototype.advance = function advance () {\n    this.pos = this.nextIndex(this.pos);\n  };\n\n  RegExpValidationState.prototype.eat = function eat (ch) {\n    if (this.current() === ch) {\n      this.advance();\n      return true\n    }\n    return false\n  };\n\n  function codePointToString(ch) {\n    if (ch <= 0xFFFF) { return String.fromCharCode(ch) }\n    ch -= 0x10000;\n    return String.fromCharCode((ch >> 10) + 0xD800, (ch & 0x03FF) + 0xDC00)\n  }\n\n  pp$8.validateRegExpFlags = function(state) {\n    var validFlags = state.validFlags;\n    var flags = state.flags;\n\n    for (var i = 0; i < flags.length; i++) {\n      var flag = flags.charAt(i);\n      if (validFlags.indexOf(flag) === -1) {\n        this.raise(state.start, \"Invalid regular expression flag\");\n      }\n      if (flags.indexOf(flag, i + 1) > -1) {\n        this.raise(state.start, \"Duplicate regular expression flag\");\n      }\n    }\n  };\n\n  pp$8.validateRegExpPattern = function(state) {\n    this.regexp_pattern(state);\n\n    if (!state.switchN && this.options.ecmaVersion >= 9 && state.groupNames.length > 0) {\n      state.switchN = true;\n      this.regexp_pattern(state);\n    }\n  };\n\n  pp$8.regexp_pattern = function(state) {\n    state.pos = 0;\n    state.lastIntValue = 0;\n    state.lastStringValue = \"\";\n    state.lastAssertionIsQuantifiable = false;\n    state.numCapturingParens = 0;\n    state.maxBackReference = 0;\n    state.groupNames.length = 0;\n    state.backReferenceNames.length = 0;\n\n    this.regexp_disjunction(state);\n\n    if (state.pos !== state.source.length) {\n      if (state.eat(0x29 )) {\n        state.raise(\"Unmatched ')'\");\n      }\n      if (state.eat(0x5D ) || state.eat(0x7D )) {\n        state.raise(\"Lone quantifier brackets\");\n      }\n    }\n    if (state.maxBackReference > state.numCapturingParens) {\n      state.raise(\"Invalid escape\");\n    }\n    for (var i = 0, list = state.backReferenceNames; i < list.length; i += 1) {\n      var name = list[i];\n\n      if (state.groupNames.indexOf(name) === -1) {\n        state.raise(\"Invalid named capture referenced\");\n      }\n    }\n  };\n\n  pp$8.regexp_disjunction = function(state) {\n    this.regexp_alternative(state);\n    while (state.eat(0x7C )) {\n      this.regexp_alternative(state);\n    }\n\n    if (this.regexp_eatQuantifier(state, true)) {\n      state.raise(\"Nothing to repeat\");\n    }\n    if (state.eat(0x7B )) {\n      state.raise(\"Lone quantifier brackets\");\n    }\n  };\n\n  pp$8.regexp_alternative = function(state) {\n    while (state.pos < state.source.length && this.regexp_eatTerm(state))\n      { }\n  };\n\n  pp$8.regexp_eatTerm = function(state) {\n    if (this.regexp_eatAssertion(state)) {\n      if (state.lastAssertionIsQuantifiable && this.regexp_eatQuantifier(state)) {\n        if (state.switchU) {\n          state.raise(\"Invalid quantifier\");\n        }\n      }\n      return true\n    }\n\n    if (state.switchU ? this.regexp_eatAtom(state) : this.regexp_eatExtendedAtom(state)) {\n      this.regexp_eatQuantifier(state);\n      return true\n    }\n\n    return false\n  };\n\n  pp$8.regexp_eatAssertion = function(state) {\n    var start = state.pos;\n    state.lastAssertionIsQuantifiable = false;\n\n    if (state.eat(0x5E ) || state.eat(0x24 )) {\n      return true\n    }\n\n    if (state.eat(0x5C )) {\n      if (state.eat(0x42 ) || state.eat(0x62 )) {\n        return true\n      }\n      state.pos = start;\n    }\n\n    if (state.eat(0x28 ) && state.eat(0x3F )) {\n      var lookbehind = false;\n      if (this.options.ecmaVersion >= 9) {\n        lookbehind = state.eat(0x3C );\n      }\n      if (state.eat(0x3D ) || state.eat(0x21 )) {\n        this.regexp_disjunction(state);\n        if (!state.eat(0x29 )) {\n          state.raise(\"Unterminated group\");\n        }\n        state.lastAssertionIsQuantifiable = !lookbehind;\n        return true\n      }\n    }\n\n    state.pos = start;\n    return false\n  };\n\n  pp$8.regexp_eatQuantifier = function(state, noError) {\n    if ( noError === void 0 ) noError = false;\n\n    if (this.regexp_eatQuantifierPrefix(state, noError)) {\n      state.eat(0x3F );\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatQuantifierPrefix = function(state, noError) {\n    return (\n      state.eat(0x2A ) ||\n      state.eat(0x2B ) ||\n      state.eat(0x3F ) ||\n      this.regexp_eatBracedQuantifier(state, noError)\n    )\n  };\n  pp$8.regexp_eatBracedQuantifier = function(state, noError) {\n    var start = state.pos;\n    if (state.eat(0x7B )) {\n      var min = 0, max = -1;\n      if (this.regexp_eatDecimalDigits(state)) {\n        min = state.lastIntValue;\n        if (state.eat(0x2C ) && this.regexp_eatDecimalDigits(state)) {\n          max = state.lastIntValue;\n        }\n        if (state.eat(0x7D )) {\n          if (max !== -1 && max < min && !noError) {\n            state.raise(\"numbers out of order in {} quantifier\");\n          }\n          return true\n        }\n      }\n      if (state.switchU && !noError) {\n        state.raise(\"Incomplete quantifier\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n\n  pp$8.regexp_eatAtom = function(state) {\n    return (\n      this.regexp_eatPatternCharacters(state) ||\n      state.eat(0x2E ) ||\n      this.regexp_eatReverseSolidusAtomEscape(state) ||\n      this.regexp_eatCharacterClass(state) ||\n      this.regexp_eatUncapturingGroup(state) ||\n      this.regexp_eatCapturingGroup(state)\n    )\n  };\n  pp$8.regexp_eatReverseSolidusAtomEscape = function(state) {\n    var start = state.pos;\n    if (state.eat(0x5C )) {\n      if (this.regexp_eatAtomEscape(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$8.regexp_eatUncapturingGroup = function(state) {\n    var start = state.pos;\n    if (state.eat(0x28 )) {\n      if (state.eat(0x3F ) && state.eat(0x3A )) {\n        this.regexp_disjunction(state);\n        if (state.eat(0x29 )) {\n          return true\n        }\n        state.raise(\"Unterminated group\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$8.regexp_eatCapturingGroup = function(state) {\n    if (state.eat(0x28 )) {\n      if (this.options.ecmaVersion >= 9) {\n        this.regexp_groupSpecifier(state);\n      } else if (state.current() === 0x3F ) {\n        state.raise(\"Invalid group\");\n      }\n      this.regexp_disjunction(state);\n      if (state.eat(0x29 )) {\n        state.numCapturingParens += 1;\n        return true\n      }\n      state.raise(\"Unterminated group\");\n    }\n    return false\n  };\n\n  pp$8.regexp_eatExtendedAtom = function(state) {\n    return (\n      state.eat(0x2E ) ||\n      this.regexp_eatReverseSolidusAtomEscape(state) ||\n      this.regexp_eatCharacterClass(state) ||\n      this.regexp_eatUncapturingGroup(state) ||\n      this.regexp_eatCapturingGroup(state) ||\n      this.regexp_eatInvalidBracedQuantifier(state) ||\n      this.regexp_eatExtendedPatternCharacter(state)\n    )\n  };\n\n  pp$8.regexp_eatInvalidBracedQuantifier = function(state) {\n    if (this.regexp_eatBracedQuantifier(state, true)) {\n      state.raise(\"Nothing to repeat\");\n    }\n    return false\n  };\n\n  pp$8.regexp_eatSyntaxCharacter = function(state) {\n    var ch = state.current();\n    if (isSyntaxCharacter(ch)) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n    return false\n  };\n  function isSyntaxCharacter(ch) {\n    return (\n      ch === 0x24  ||\n      ch >= 0x28  && ch <= 0x2B  ||\n      ch === 0x2E  ||\n      ch === 0x3F  ||\n      ch >= 0x5B  && ch <= 0x5E  ||\n      ch >= 0x7B  && ch <= 0x7D \n    )\n  }\n\n  pp$8.regexp_eatPatternCharacters = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    while ((ch = state.current()) !== -1 && !isSyntaxCharacter(ch)) {\n      state.advance();\n    }\n    return state.pos !== start\n  };\n\n  pp$8.regexp_eatExtendedPatternCharacter = function(state) {\n    var ch = state.current();\n    if (\n      ch !== -1 &&\n      ch !== 0x24  &&\n      !(ch >= 0x28  && ch <= 0x2B ) &&\n      ch !== 0x2E  &&\n      ch !== 0x3F  &&\n      ch !== 0x5B  &&\n      ch !== 0x5E  &&\n      ch !== 0x7C \n    ) {\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_groupSpecifier = function(state) {\n    if (state.eat(0x3F )) {\n      if (this.regexp_eatGroupName(state)) {\n        if (state.groupNames.indexOf(state.lastStringValue) !== -1) {\n          state.raise(\"Duplicate capture group name\");\n        }\n        state.groupNames.push(state.lastStringValue);\n        return\n      }\n      state.raise(\"Invalid group\");\n    }\n  };\n\n  pp$8.regexp_eatGroupName = function(state) {\n    state.lastStringValue = \"\";\n    if (state.eat(0x3C )) {\n      if (this.regexp_eatRegExpIdentifierName(state) && state.eat(0x3E )) {\n        return true\n      }\n      state.raise(\"Invalid capture group name\");\n    }\n    return false\n  };\n\n  pp$8.regexp_eatRegExpIdentifierName = function(state) {\n    state.lastStringValue = \"\";\n    if (this.regexp_eatRegExpIdentifierStart(state)) {\n      state.lastStringValue += codePointToString(state.lastIntValue);\n      while (this.regexp_eatRegExpIdentifierPart(state)) {\n        state.lastStringValue += codePointToString(state.lastIntValue);\n      }\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatRegExpIdentifierStart = function(state) {\n    var start = state.pos;\n    var ch = state.current();\n    state.advance();\n\n    if (ch === 0x5C  && this.regexp_eatRegExpUnicodeEscapeSequence(state)) {\n      ch = state.lastIntValue;\n    }\n    if (isRegExpIdentifierStart(ch)) {\n      state.lastIntValue = ch;\n      return true\n    }\n\n    state.pos = start;\n    return false\n  };\n  function isRegExpIdentifierStart(ch) {\n    return isIdentifierStart(ch, true) || ch === 0x24  || ch === 0x5F \n  }\n\n  pp$8.regexp_eatRegExpIdentifierPart = function(state) {\n    var start = state.pos;\n    var ch = state.current();\n    state.advance();\n\n    if (ch === 0x5C  && this.regexp_eatRegExpUnicodeEscapeSequence(state)) {\n      ch = state.lastIntValue;\n    }\n    if (isRegExpIdentifierPart(ch)) {\n      state.lastIntValue = ch;\n      return true\n    }\n\n    state.pos = start;\n    return false\n  };\n  function isRegExpIdentifierPart(ch) {\n    return isIdentifierChar(ch, true) || ch === 0x24  || ch === 0x5F  || ch === 0x200C  || ch === 0x200D \n  }\n\n  pp$8.regexp_eatAtomEscape = function(state) {\n    if (\n      this.regexp_eatBackReference(state) ||\n      this.regexp_eatCharacterClassEscape(state) ||\n      this.regexp_eatCharacterEscape(state) ||\n      (state.switchN && this.regexp_eatKGroupName(state))\n    ) {\n      return true\n    }\n    if (state.switchU) {\n      if (state.current() === 0x63 ) {\n        state.raise(\"Invalid unicode escape\");\n      }\n      state.raise(\"Invalid escape\");\n    }\n    return false\n  };\n  pp$8.regexp_eatBackReference = function(state) {\n    var start = state.pos;\n    if (this.regexp_eatDecimalEscape(state)) {\n      var n = state.lastIntValue;\n      if (state.switchU) {\n        if (n > state.maxBackReference) {\n          state.maxBackReference = n;\n        }\n        return true\n      }\n      if (n <= state.numCapturingParens) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$8.regexp_eatKGroupName = function(state) {\n    if (state.eat(0x6B )) {\n      if (this.regexp_eatGroupName(state)) {\n        state.backReferenceNames.push(state.lastStringValue);\n        return true\n      }\n      state.raise(\"Invalid named reference\");\n    }\n    return false\n  };\n\n  pp$8.regexp_eatCharacterEscape = function(state) {\n    return (\n      this.regexp_eatControlEscape(state) ||\n      this.regexp_eatCControlLetter(state) ||\n      this.regexp_eatZero(state) ||\n      this.regexp_eatHexEscapeSequence(state) ||\n      this.regexp_eatRegExpUnicodeEscapeSequence(state) ||\n      (!state.switchU && this.regexp_eatLegacyOctalEscapeSequence(state)) ||\n      this.regexp_eatIdentityEscape(state)\n    )\n  };\n  pp$8.regexp_eatCControlLetter = function(state) {\n    var start = state.pos;\n    if (state.eat(0x63 )) {\n      if (this.regexp_eatControlLetter(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$8.regexp_eatZero = function(state) {\n    if (state.current() === 0x30  && !isDecimalDigit(state.lookahead())) {\n      state.lastIntValue = 0;\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatControlEscape = function(state) {\n    var ch = state.current();\n    if (ch === 0x74 ) {\n      state.lastIntValue = 0x09; \n      state.advance();\n      return true\n    }\n    if (ch === 0x6E ) {\n      state.lastIntValue = 0x0A; \n      state.advance();\n      return true\n    }\n    if (ch === 0x76 ) {\n      state.lastIntValue = 0x0B; \n      state.advance();\n      return true\n    }\n    if (ch === 0x66 ) {\n      state.lastIntValue = 0x0C; \n      state.advance();\n      return true\n    }\n    if (ch === 0x72 ) {\n      state.lastIntValue = 0x0D; \n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatControlLetter = function(state) {\n    var ch = state.current();\n    if (isControlLetter(ch)) {\n      state.lastIntValue = ch % 0x20;\n      state.advance();\n      return true\n    }\n    return false\n  };\n  function isControlLetter(ch) {\n    return (\n      (ch >= 0x41  && ch <= 0x5A ) ||\n      (ch >= 0x61  && ch <= 0x7A )\n    )\n  }\n\n  pp$8.regexp_eatRegExpUnicodeEscapeSequence = function(state) {\n    var start = state.pos;\n\n    if (state.eat(0x75 )) {\n      if (this.regexp_eatFixedHexDigits(state, 4)) {\n        var lead = state.lastIntValue;\n        if (state.switchU && lead >= 0xD800 && lead <= 0xDBFF) {\n          var leadSurrogateEnd = state.pos;\n          if (state.eat(0x5C ) && state.eat(0x75 ) && this.regexp_eatFixedHexDigits(state, 4)) {\n            var trail = state.lastIntValue;\n            if (trail >= 0xDC00 && trail <= 0xDFFF) {\n              state.lastIntValue = (lead - 0xD800) * 0x400 + (trail - 0xDC00) + 0x10000;\n              return true\n            }\n          }\n          state.pos = leadSurrogateEnd;\n          state.lastIntValue = lead;\n        }\n        return true\n      }\n      if (\n        state.switchU &&\n        state.eat(0x7B ) &&\n        this.regexp_eatHexDigits(state) &&\n        state.eat(0x7D ) &&\n        isValidUnicode(state.lastIntValue)\n      ) {\n        return true\n      }\n      if (state.switchU) {\n        state.raise(\"Invalid unicode escape\");\n      }\n      state.pos = start;\n    }\n\n    return false\n  };\n  function isValidUnicode(ch) {\n    return ch >= 0 && ch <= 0x10FFFF\n  }\n\n  pp$8.regexp_eatIdentityEscape = function(state) {\n    if (state.switchU) {\n      if (this.regexp_eatSyntaxCharacter(state)) {\n        return true\n      }\n      if (state.eat(0x2F )) {\n        state.lastIntValue = 0x2F; \n        return true\n      }\n      return false\n    }\n\n    var ch = state.current();\n    if (ch !== 0x63  && (!state.switchN || ch !== 0x6B )) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n\n    return false\n  };\n\n  pp$8.regexp_eatDecimalEscape = function(state) {\n    state.lastIntValue = 0;\n    var ch = state.current();\n    if (ch >= 0x31  && ch <= 0x39 ) {\n      do {\n        state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 );\n        state.advance();\n      } while ((ch = state.current()) >= 0x30  && ch <= 0x39 )\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatCharacterClassEscape = function(state) {\n    var ch = state.current();\n\n    if (isCharacterClassEscape(ch)) {\n      state.lastIntValue = -1;\n      state.advance();\n      return true\n    }\n\n    if (\n      state.switchU &&\n      this.options.ecmaVersion >= 9 &&\n      (ch === 0x50  || ch === 0x70 )\n    ) {\n      state.lastIntValue = -1;\n      state.advance();\n      if (\n        state.eat(0x7B ) &&\n        this.regexp_eatUnicodePropertyValueExpression(state) &&\n        state.eat(0x7D )\n      ) {\n        return true\n      }\n      state.raise(\"Invalid property name\");\n    }\n\n    return false\n  };\n  function isCharacterClassEscape(ch) {\n    return (\n      ch === 0x64  ||\n      ch === 0x44  ||\n      ch === 0x73  ||\n      ch === 0x53  ||\n      ch === 0x77  ||\n      ch === 0x57 \n    )\n  }\n\n  pp$8.regexp_eatUnicodePropertyValueExpression = function(state) {\n    var start = state.pos;\n\n    if (this.regexp_eatUnicodePropertyName(state) && state.eat(0x3D )) {\n      var name = state.lastStringValue;\n      if (this.regexp_eatUnicodePropertyValue(state)) {\n        var value = state.lastStringValue;\n        this.regexp_validateUnicodePropertyNameAndValue(state, name, value);\n        return true\n      }\n    }\n    state.pos = start;\n\n    if (this.regexp_eatLoneUnicodePropertyNameOrValue(state)) {\n      var nameOrValue = state.lastStringValue;\n      this.regexp_validateUnicodePropertyNameOrValue(state, nameOrValue);\n      return true\n    }\n    return false\n  };\n  pp$8.regexp_validateUnicodePropertyNameAndValue = function(state, name, value) {\n    if (!has(state.unicodeProperties.nonBinary, name))\n      { state.raise(\"Invalid property name\"); }\n    if (!state.unicodeProperties.nonBinary[name].test(value))\n      { state.raise(\"Invalid property value\"); }\n  };\n  pp$8.regexp_validateUnicodePropertyNameOrValue = function(state, nameOrValue) {\n    if (!state.unicodeProperties.binary.test(nameOrValue))\n      { state.raise(\"Invalid property name\"); }\n  };\n\n  pp$8.regexp_eatUnicodePropertyName = function(state) {\n    var ch = 0;\n    state.lastStringValue = \"\";\n    while (isUnicodePropertyNameCharacter(ch = state.current())) {\n      state.lastStringValue += codePointToString(ch);\n      state.advance();\n    }\n    return state.lastStringValue !== \"\"\n  };\n  function isUnicodePropertyNameCharacter(ch) {\n    return isControlLetter(ch) || ch === 0x5F \n  }\n\n  pp$8.regexp_eatUnicodePropertyValue = function(state) {\n    var ch = 0;\n    state.lastStringValue = \"\";\n    while (isUnicodePropertyValueCharacter(ch = state.current())) {\n      state.lastStringValue += codePointToString(ch);\n      state.advance();\n    }\n    return state.lastStringValue !== \"\"\n  };\n  function isUnicodePropertyValueCharacter(ch) {\n    return isUnicodePropertyNameCharacter(ch) || isDecimalDigit(ch)\n  }\n\n  pp$8.regexp_eatLoneUnicodePropertyNameOrValue = function(state) {\n    return this.regexp_eatUnicodePropertyValue(state)\n  };\n\n  pp$8.regexp_eatCharacterClass = function(state) {\n    if (state.eat(0x5B )) {\n      state.eat(0x5E );\n      this.regexp_classRanges(state);\n      if (state.eat(0x5D )) {\n        return true\n      }\n      state.raise(\"Unterminated character class\");\n    }\n    return false\n  };\n\n  pp$8.regexp_classRanges = function(state) {\n    while (this.regexp_eatClassAtom(state)) {\n      var left = state.lastIntValue;\n      if (state.eat(0x2D ) && this.regexp_eatClassAtom(state)) {\n        var right = state.lastIntValue;\n        if (state.switchU && (left === -1 || right === -1)) {\n          state.raise(\"Invalid character class\");\n        }\n        if (left !== -1 && right !== -1 && left > right) {\n          state.raise(\"Range out of order in character class\");\n        }\n      }\n    }\n  };\n\n  pp$8.regexp_eatClassAtom = function(state) {\n    var start = state.pos;\n\n    if (state.eat(0x5C )) {\n      if (this.regexp_eatClassEscape(state)) {\n        return true\n      }\n      if (state.switchU) {\n        var ch$1 = state.current();\n        if (ch$1 === 0x63  || isOctalDigit(ch$1)) {\n          state.raise(\"Invalid class escape\");\n        }\n        state.raise(\"Invalid escape\");\n      }\n      state.pos = start;\n    }\n\n    var ch = state.current();\n    if (ch !== 0x5D ) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n\n    return false\n  };\n\n  pp$8.regexp_eatClassEscape = function(state) {\n    var start = state.pos;\n\n    if (state.eat(0x62 )) {\n      state.lastIntValue = 0x08; \n      return true\n    }\n\n    if (state.switchU && state.eat(0x2D )) {\n      state.lastIntValue = 0x2D; \n      return true\n    }\n\n    if (!state.switchU && state.eat(0x63 )) {\n      if (this.regexp_eatClassControlLetter(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n\n    return (\n      this.regexp_eatCharacterClassEscape(state) ||\n      this.regexp_eatCharacterEscape(state)\n    )\n  };\n\n  pp$8.regexp_eatClassControlLetter = function(state) {\n    var ch = state.current();\n    if (isDecimalDigit(ch) || ch === 0x5F ) {\n      state.lastIntValue = ch % 0x20;\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatHexEscapeSequence = function(state) {\n    var start = state.pos;\n    if (state.eat(0x78 )) {\n      if (this.regexp_eatFixedHexDigits(state, 2)) {\n        return true\n      }\n      if (state.switchU) {\n        state.raise(\"Invalid escape\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n\n  pp$8.regexp_eatDecimalDigits = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    state.lastIntValue = 0;\n    while (isDecimalDigit(ch = state.current())) {\n      state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 );\n      state.advance();\n    }\n    return state.pos !== start\n  };\n  function isDecimalDigit(ch) {\n    return ch >= 0x30  && ch <= 0x39 \n  }\n\n  pp$8.regexp_eatHexDigits = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    state.lastIntValue = 0;\n    while (isHexDigit(ch = state.current())) {\n      state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n      state.advance();\n    }\n    return state.pos !== start\n  };\n  function isHexDigit(ch) {\n    return (\n      (ch >= 0x30  && ch <= 0x39 ) ||\n      (ch >= 0x41  && ch <= 0x46 ) ||\n      (ch >= 0x61  && ch <= 0x66 )\n    )\n  }\n  function hexToInt(ch) {\n    if (ch >= 0x41  && ch <= 0x46 ) {\n      return 10 + (ch - 0x41 )\n    }\n    if (ch >= 0x61  && ch <= 0x66 ) {\n      return 10 + (ch - 0x61 )\n    }\n    return ch - 0x30 \n  }\n\n  pp$8.regexp_eatLegacyOctalEscapeSequence = function(state) {\n    if (this.regexp_eatOctalDigit(state)) {\n      var n1 = state.lastIntValue;\n      if (this.regexp_eatOctalDigit(state)) {\n        var n2 = state.lastIntValue;\n        if (n1 <= 3 && this.regexp_eatOctalDigit(state)) {\n          state.lastIntValue = n1 * 64 + n2 * 8 + state.lastIntValue;\n        } else {\n          state.lastIntValue = n1 * 8 + n2;\n        }\n      } else {\n        state.lastIntValue = n1;\n      }\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatOctalDigit = function(state) {\n    var ch = state.current();\n    if (isOctalDigit(ch)) {\n      state.lastIntValue = ch - 0x30; \n      state.advance();\n      return true\n    }\n    state.lastIntValue = 0;\n    return false\n  };\n  function isOctalDigit(ch) {\n    return ch >= 0x30  && ch <= 0x37 \n  }\n\n  pp$8.regexp_eatFixedHexDigits = function(state, length) {\n    var start = state.pos;\n    state.lastIntValue = 0;\n    for (var i = 0; i < length; ++i) {\n      var ch = state.current();\n      if (!isHexDigit(ch)) {\n        state.pos = start;\n        return false\n      }\n      state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n      state.advance();\n    }\n    return true\n  };\n\n\n  var Token = function Token(p) {\n    this.type = p.type;\n    this.value = p.value;\n    this.start = p.start;\n    this.end = p.end;\n    if (p.options.locations)\n      { this.loc = new SourceLocation(p, p.startLoc, p.endLoc); }\n    if (p.options.ranges)\n      { this.range = [p.start, p.end]; }\n  };\n\n\n  var pp$9 = Parser.prototype;\n\n\n  pp$9.next = function(ignoreEscapeSequenceInKeyword) {\n    if (!ignoreEscapeSequenceInKeyword && this.type.keyword && this.containsEsc)\n      { this.raiseRecoverable(this.start, \"Escape sequence in keyword \" + this.type.keyword); }\n    if (this.options.onToken)\n      { this.options.onToken(new Token(this)); }\n\n    this.lastTokEnd = this.end;\n    this.lastTokStart = this.start;\n    this.lastTokEndLoc = this.endLoc;\n    this.lastTokStartLoc = this.startLoc;\n    this.nextToken();\n  };\n\n  pp$9.getToken = function() {\n    this.next();\n    return new Token(this)\n  };\n\n  if (typeof Symbol !== \"undefined\")\n    { pp$9[Symbol.iterator] = function() {\n      var this$1 = this;\n\n      return {\n        next: function () {\n          var token = this$1.getToken();\n          return {\n            done: token.type === types.eof,\n            value: token\n          }\n        }\n      }\n    }; }\n\n\n  pp$9.curContext = function() {\n    return this.context[this.context.length - 1]\n  };\n\n\n  pp$9.nextToken = function() {\n    var curContext = this.curContext();\n    if (!curContext || !curContext.preserveSpace) { this.skipSpace(); }\n\n    this.start = this.pos;\n    if (this.options.locations) { this.startLoc = this.curPosition(); }\n    if (this.pos >= this.input.length) { return this.finishToken(types.eof) }\n\n    if (curContext.override) { return curContext.override(this) }\n    else { this.readToken(this.fullCharCodeAtPos()); }\n  };\n\n  pp$9.readToken = function(code) {\n    if (isIdentifierStart(code, this.options.ecmaVersion >= 6) || code === 92 )\n      { return this.readWord() }\n\n    return this.getTokenFromCode(code)\n  };\n\n  pp$9.fullCharCodeAtPos = function() {\n    var code = this.input.charCodeAt(this.pos);\n    if (code <= 0xd7ff || code >= 0xe000) { return code }\n    var next = this.input.charCodeAt(this.pos + 1);\n    return (code << 10) + next - 0x35fdc00\n  };\n\n  pp$9.skipBlockComment = function() {\n    var startLoc = this.options.onComment && this.curPosition();\n    var start = this.pos, end = this.input.indexOf(\"*/\", this.pos += 2);\n    if (end === -1) { this.raise(this.pos - 2, \"Unterminated comment\"); }\n    this.pos = end + 2;\n    if (this.options.locations) {\n      lineBreakG.lastIndex = start;\n      var match;\n      while ((match = lineBreakG.exec(this.input)) && match.index < this.pos) {\n        ++this.curLine;\n        this.lineStart = match.index + match[0].length;\n      }\n    }\n    if (this.options.onComment)\n      { this.options.onComment(true, this.input.slice(start + 2, end), start, this.pos,\n                             startLoc, this.curPosition()); }\n  };\n\n  pp$9.skipLineComment = function(startSkip) {\n    var start = this.pos;\n    var startLoc = this.options.onComment && this.curPosition();\n    var ch = this.input.charCodeAt(this.pos += startSkip);\n    while (this.pos < this.input.length && !isNewLine(ch)) {\n      ch = this.input.charCodeAt(++this.pos);\n    }\n    if (this.options.onComment)\n      { this.options.onComment(false, this.input.slice(start + startSkip, this.pos), start, this.pos,\n                             startLoc, this.curPosition()); }\n  };\n\n\n  pp$9.skipSpace = function() {\n    loop: while (this.pos < this.input.length) {\n      var ch = this.input.charCodeAt(this.pos);\n      switch (ch) {\n      case 32: case 160: \n        ++this.pos;\n        break\n      case 13:\n        if (this.input.charCodeAt(this.pos + 1) === 10) {\n          ++this.pos;\n        }\n      case 10: case 8232: case 8233:\n        ++this.pos;\n        if (this.options.locations) {\n          ++this.curLine;\n          this.lineStart = this.pos;\n        }\n        break\n      case 47: \n        switch (this.input.charCodeAt(this.pos + 1)) {\n        case 42: \n          this.skipBlockComment();\n          break\n        case 47:\n          this.skipLineComment(2);\n          break\n        default:\n          break loop\n        }\n        break\n      default:\n        if (ch > 8 && ch < 14 || ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n          ++this.pos;\n        } else {\n          break loop\n        }\n      }\n    }\n  };\n\n\n  pp$9.finishToken = function(type, val) {\n    this.end = this.pos;\n    if (this.options.locations) { this.endLoc = this.curPosition(); }\n    var prevType = this.type;\n    this.type = type;\n    this.value = val;\n\n    this.updateContext(prevType);\n  };\n\n\n  pp$9.readToken_dot = function() {\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next >= 48 && next <= 57) { return this.readNumber(true) }\n    var next2 = this.input.charCodeAt(this.pos + 2);\n    if (this.options.ecmaVersion >= 6 && next === 46 && next2 === 46) { \n      this.pos += 3;\n      return this.finishToken(types.ellipsis)\n    } else {\n      ++this.pos;\n      return this.finishToken(types.dot)\n    }\n  };\n\n  pp$9.readToken_slash = function() { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (this.exprAllowed) { ++this.pos; return this.readRegexp() }\n    if (next === 61) { return this.finishOp(types.assign, 2) }\n    return this.finishOp(types.slash, 1)\n  };\n\n  pp$9.readToken_mult_modulo_exp = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    var size = 1;\n    var tokentype = code === 42 ? types.star : types.modulo;\n\n    if (this.options.ecmaVersion >= 7 && code === 42 && next === 42) {\n      ++size;\n      tokentype = types.starstar;\n      next = this.input.charCodeAt(this.pos + 2);\n    }\n\n    if (next === 61) { return this.finishOp(types.assign, size + 1) }\n    return this.finishOp(tokentype, size)\n  };\n\n  pp$9.readToken_pipe_amp = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === code) { return this.finishOp(code === 124 ? types.logicalOR : types.logicalAND, 2) }\n    if (next === 61) { return this.finishOp(types.assign, 2) }\n    return this.finishOp(code === 124 ? types.bitwiseOR : types.bitwiseAND, 1)\n  };\n\n  pp$9.readToken_caret = function() { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 61) { return this.finishOp(types.assign, 2) }\n    return this.finishOp(types.bitwiseXOR, 1)\n  };\n\n  pp$9.readToken_plus_min = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === code) {\n      if (next === 45 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 62 &&\n          (this.lastTokEnd === 0 || lineBreak.test(this.input.slice(this.lastTokEnd, this.pos)))) {\n        this.skipLineComment(3);\n        this.skipSpace();\n        return this.nextToken()\n      }\n      return this.finishOp(types.incDec, 2)\n    }\n    if (next === 61) { return this.finishOp(types.assign, 2) }\n    return this.finishOp(types.plusMin, 1)\n  };\n\n  pp$9.readToken_lt_gt = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    var size = 1;\n    if (next === code) {\n      size = code === 62 && this.input.charCodeAt(this.pos + 2) === 62 ? 3 : 2;\n      if (this.input.charCodeAt(this.pos + size) === 61) { return this.finishOp(types.assign, size + 1) }\n      return this.finishOp(types.bitShift, size)\n    }\n    if (next === 33 && code === 60 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 45 &&\n        this.input.charCodeAt(this.pos + 3) === 45) {\n      this.skipLineComment(4);\n      this.skipSpace();\n      return this.nextToken()\n    }\n    if (next === 61) { size = 2; }\n    return this.finishOp(types.relational, size)\n  };\n\n  pp$9.readToken_eq_excl = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 61) { return this.finishOp(types.equality, this.input.charCodeAt(this.pos + 2) === 61 ? 3 : 2) }\n    if (code === 61 && next === 62 && this.options.ecmaVersion >= 6) { \n      this.pos += 2;\n      return this.finishToken(types.arrow)\n    }\n    return this.finishOp(code === 61 ? types.eq : types.prefix, 1)\n  };\n\n  pp$9.getTokenFromCode = function(code) {\n    switch (code) {\n    case 46: \n      return this.readToken_dot()\n\n    case 40: ++this.pos; return this.finishToken(types.parenL)\n    case 41: ++this.pos; return this.finishToken(types.parenR)\n    case 59: ++this.pos; return this.finishToken(types.semi)\n    case 44: ++this.pos; return this.finishToken(types.comma)\n    case 91: ++this.pos; return this.finishToken(types.bracketL)\n    case 93: ++this.pos; return this.finishToken(types.bracketR)\n    case 123: ++this.pos; return this.finishToken(types.braceL)\n    case 125: ++this.pos; return this.finishToken(types.braceR)\n    case 58: ++this.pos; return this.finishToken(types.colon)\n    case 63: ++this.pos; return this.finishToken(types.question)\n\n    case 96: \n      if (this.options.ecmaVersion < 6) { break }\n      ++this.pos;\n      return this.finishToken(types.backQuote)\n\n    case 48: \n      var next = this.input.charCodeAt(this.pos + 1);\n      if (next === 120 || next === 88) { return this.readRadixNumber(16) } \n      if (this.options.ecmaVersion >= 6) {\n        if (next === 111 || next === 79) { return this.readRadixNumber(8) } \n        if (next === 98 || next === 66) { return this.readRadixNumber(2) } \n      }\n\n    case 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57: \n      return this.readNumber(false)\n\n    case 34: case 39: \n      return this.readString(code)\n\n\n    case 47: \n      return this.readToken_slash()\n\n    case 37: case 42: \n      return this.readToken_mult_modulo_exp(code)\n\n    case 124: case 38: \n      return this.readToken_pipe_amp(code)\n\n    case 94: \n      return this.readToken_caret()\n\n    case 43: case 45: \n      return this.readToken_plus_min(code)\n\n    case 60: case 62: \n      return this.readToken_lt_gt(code)\n\n    case 61: case 33: \n      return this.readToken_eq_excl(code)\n\n    case 126: \n      return this.finishOp(types.prefix, 1)\n    }\n\n    this.raise(this.pos, \"Unexpected character '\" + codePointToString$1(code) + \"'\");\n  };\n\n  pp$9.finishOp = function(type, size) {\n    var str = this.input.slice(this.pos, this.pos + size);\n    this.pos += size;\n    return this.finishToken(type, str)\n  };\n\n  pp$9.readRegexp = function() {\n    var escaped, inClass, start = this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(start, \"Unterminated regular expression\"); }\n      var ch = this.input.charAt(this.pos);\n      if (lineBreak.test(ch)) { this.raise(start, \"Unterminated regular expression\"); }\n      if (!escaped) {\n        if (ch === \"[\") { inClass = true; }\n        else if (ch === \"]\" && inClass) { inClass = false; }\n        else if (ch === \"/\" && !inClass) { break }\n        escaped = ch === \"\\\\\";\n      } else { escaped = false; }\n      ++this.pos;\n    }\n    var pattern = this.input.slice(start, this.pos);\n    ++this.pos;\n    var flagsStart = this.pos;\n    var flags = this.readWord1();\n    if (this.containsEsc) { this.unexpected(flagsStart); }\n\n    var state = this.regexpState || (this.regexpState = new RegExpValidationState(this));\n    state.reset(start, pattern, flags);\n    this.validateRegExpFlags(state);\n    this.validateRegExpPattern(state);\n\n    var value = null;\n    try {\n      value = new RegExp(pattern, flags);\n    } catch (e) {\n    }\n\n    return this.finishToken(types.regexp, {pattern: pattern, flags: flags, value: value})\n  };\n\n\n  pp$9.readInt = function(radix, len) {\n    var start = this.pos, total = 0;\n    for (var i = 0, e = len == null ? Infinity : len; i < e; ++i) {\n      var code = this.input.charCodeAt(this.pos), val = (void 0);\n      if (code >= 97) { val = code - 97 + 10; } \n      else if (code >= 65) { val = code - 65 + 10; } \n      else if (code >= 48 && code <= 57) { val = code - 48; } \n      else { val = Infinity; }\n      if (val >= radix) { break }\n      ++this.pos;\n      total = total * radix + val;\n    }\n    if (this.pos === start || len != null && this.pos - start !== len) { return null }\n\n    return total\n  };\n\n  pp$9.readRadixNumber = function(radix) {\n    var start = this.pos;\n    this.pos += 2; \n    var val = this.readInt(radix);\n    if (val == null) { this.raise(this.start + 2, \"Expected number in radix \" + radix); }\n    if (this.options.ecmaVersion >= 11 && this.input.charCodeAt(this.pos) === 110) {\n      val = typeof BigInt !== \"undefined\" ? BigInt(this.input.slice(start, this.pos)) : null;\n      ++this.pos;\n    } else if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n    return this.finishToken(types.num, val)\n  };\n\n\n  pp$9.readNumber = function(startsWithDot) {\n    var start = this.pos;\n    if (!startsWithDot && this.readInt(10) === null) { this.raise(start, \"Invalid number\"); }\n    var octal = this.pos - start >= 2 && this.input.charCodeAt(start) === 48;\n    if (octal && this.strict) { this.raise(start, \"Invalid number\"); }\n    var next = this.input.charCodeAt(this.pos);\n    if (!octal && !startsWithDot && this.options.ecmaVersion >= 11 && next === 110) {\n      var str$1 = this.input.slice(start, this.pos);\n      var val$1 = typeof BigInt !== \"undefined\" ? BigInt(str$1) : null;\n      ++this.pos;\n      if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n      return this.finishToken(types.num, val$1)\n    }\n    if (octal && /[89]/.test(this.input.slice(start, this.pos))) { octal = false; }\n    if (next === 46 && !octal) { \n      ++this.pos;\n      this.readInt(10);\n      next = this.input.charCodeAt(this.pos);\n    }\n    if ((next === 69 || next === 101) && !octal) { \n      next = this.input.charCodeAt(++this.pos);\n      if (next === 43 || next === 45) { ++this.pos; } \n      if (this.readInt(10) === null) { this.raise(start, \"Invalid number\"); }\n    }\n    if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n\n    var str = this.input.slice(start, this.pos);\n    var val = octal ? parseInt(str, 8) : parseFloat(str);\n    return this.finishToken(types.num, val)\n  };\n\n\n  pp$9.readCodePoint = function() {\n    var ch = this.input.charCodeAt(this.pos), code;\n\n    if (ch === 123) { \n      if (this.options.ecmaVersion < 6) { this.unexpected(); }\n      var codePos = ++this.pos;\n      code = this.readHexChar(this.input.indexOf(\"}\", this.pos) - this.pos);\n      ++this.pos;\n      if (code > 0x10FFFF) { this.invalidStringToken(codePos, \"Code point out of bounds\"); }\n    } else {\n      code = this.readHexChar(4);\n    }\n    return code\n  };\n\n  function codePointToString$1(code) {\n    if (code <= 0xFFFF) { return String.fromCharCode(code) }\n    code -= 0x10000;\n    return String.fromCharCode((code >> 10) + 0xD800, (code & 1023) + 0xDC00)\n  }\n\n  pp$9.readString = function(quote) {\n    var out = \"\", chunkStart = ++this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated string constant\"); }\n      var ch = this.input.charCodeAt(this.pos);\n      if (ch === quote) { break }\n      if (ch === 92) { \n        out += this.input.slice(chunkStart, this.pos);\n        out += this.readEscapedChar(false);\n        chunkStart = this.pos;\n      } else {\n        if (isNewLine(ch, this.options.ecmaVersion >= 10)) { this.raise(this.start, \"Unterminated string constant\"); }\n        ++this.pos;\n      }\n    }\n    out += this.input.slice(chunkStart, this.pos++);\n    return this.finishToken(types.string, out)\n  };\n\n\n  var INVALID_TEMPLATE_ESCAPE_ERROR = {};\n\n  pp$9.tryReadTemplateToken = function() {\n    this.inTemplateElement = true;\n    try {\n      this.readTmplToken();\n    } catch (err) {\n      if (err === INVALID_TEMPLATE_ESCAPE_ERROR) {\n        this.readInvalidTemplateToken();\n      } else {\n        throw err\n      }\n    }\n\n    this.inTemplateElement = false;\n  };\n\n  pp$9.invalidStringToken = function(position, message) {\n    if (this.inTemplateElement && this.options.ecmaVersion >= 9) {\n      throw INVALID_TEMPLATE_ESCAPE_ERROR\n    } else {\n      this.raise(position, message);\n    }\n  };\n\n  pp$9.readTmplToken = function() {\n    var out = \"\", chunkStart = this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated template\"); }\n      var ch = this.input.charCodeAt(this.pos);\n      if (ch === 96 || ch === 36 && this.input.charCodeAt(this.pos + 1) === 123) { \n        if (this.pos === this.start && (this.type === types.template || this.type === types.invalidTemplate)) {\n          if (ch === 36) {\n            this.pos += 2;\n            return this.finishToken(types.dollarBraceL)\n          } else {\n            ++this.pos;\n            return this.finishToken(types.backQuote)\n          }\n        }\n        out += this.input.slice(chunkStart, this.pos);\n        return this.finishToken(types.template, out)\n      }\n      if (ch === 92) { \n        out += this.input.slice(chunkStart, this.pos);\n        out += this.readEscapedChar(true);\n        chunkStart = this.pos;\n      } else if (isNewLine(ch)) {\n        out += this.input.slice(chunkStart, this.pos);\n        ++this.pos;\n        switch (ch) {\n        case 13:\n          if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; }\n        case 10:\n          out += \"\\n\";\n          break\n        default:\n          out += String.fromCharCode(ch);\n          break\n        }\n        if (this.options.locations) {\n          ++this.curLine;\n          this.lineStart = this.pos;\n        }\n        chunkStart = this.pos;\n      } else {\n        ++this.pos;\n      }\n    }\n  };\n\n  pp$9.readInvalidTemplateToken = function() {\n    for (; this.pos < this.input.length; this.pos++) {\n      switch (this.input[this.pos]) {\n      case \"\\\\\":\n        ++this.pos;\n        break\n\n      case \"$\":\n        if (this.input[this.pos + 1] !== \"{\") {\n          break\n        }\n\n      case \"`\":\n        return this.finishToken(types.invalidTemplate, this.input.slice(this.start, this.pos))\n\n      }\n    }\n    this.raise(this.start, \"Unterminated template\");\n  };\n\n\n  pp$9.readEscapedChar = function(inTemplate) {\n    var ch = this.input.charCodeAt(++this.pos);\n    ++this.pos;\n    switch (ch) {\n    case 110: return \"\\n\" \n    case 114: return \"\\r\" \n    case 120: return String.fromCharCode(this.readHexChar(2)) \n    case 117: return codePointToString$1(this.readCodePoint()) \n    case 116: return \"\\t\" \n    case 98: return \"\\b\" \n    case 118: return \"\\u000b\" \n    case 102: return \"\\f\" \n    case 13: if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; } \n    case 10: \n      if (this.options.locations) { this.lineStart = this.pos; ++this.curLine; }\n      return \"\"\n    case 56:\n    case 57:\n      if (inTemplate) {\n        var codePos = this.pos - 1;\n\n        this.invalidStringToken(\n          codePos,\n          \"Invalid escape sequence in template string\"\n        );\n\n        return null\n      }\n    default:\n      if (ch >= 48 && ch <= 55) {\n        var octalStr = this.input.substr(this.pos - 1, 3).match(/^[0-7]+/)[0];\n        var octal = parseInt(octalStr, 8);\n        if (octal > 255) {\n          octalStr = octalStr.slice(0, -1);\n          octal = parseInt(octalStr, 8);\n        }\n        this.pos += octalStr.length - 1;\n        ch = this.input.charCodeAt(this.pos);\n        if ((octalStr !== \"0\" || ch === 56 || ch === 57) && (this.strict || inTemplate)) {\n          this.invalidStringToken(\n            this.pos - 1 - octalStr.length,\n            inTemplate\n              ? \"Octal literal in template string\"\n              : \"Octal literal in strict mode\"\n          );\n        }\n        return String.fromCharCode(octal)\n      }\n      if (isNewLine(ch)) {\n        return \"\"\n      }\n      return String.fromCharCode(ch)\n    }\n  };\n\n\n  pp$9.readHexChar = function(len) {\n    var codePos = this.pos;\n    var n = this.readInt(16, len);\n    if (n === null) { this.invalidStringToken(codePos, \"Bad character escape sequence\"); }\n    return n\n  };\n\n\n  pp$9.readWord1 = function() {\n    this.containsEsc = false;\n    var word = \"\", first = true, chunkStart = this.pos;\n    var astral = this.options.ecmaVersion >= 6;\n    while (this.pos < this.input.length) {\n      var ch = this.fullCharCodeAtPos();\n      if (isIdentifierChar(ch, astral)) {\n        this.pos += ch <= 0xffff ? 1 : 2;\n      } else if (ch === 92) { \n        this.containsEsc = true;\n        word += this.input.slice(chunkStart, this.pos);\n        var escStart = this.pos;\n        if (this.input.charCodeAt(++this.pos) !== 117) \n          { this.invalidStringToken(this.pos, \"Expecting Unicode escape sequence \\\\uXXXX\"); }\n        ++this.pos;\n        var esc = this.readCodePoint();\n        if (!(first ? isIdentifierStart : isIdentifierChar)(esc, astral))\n          { this.invalidStringToken(escStart, \"Invalid Unicode escape\"); }\n        word += codePointToString$1(esc);\n        chunkStart = this.pos;\n      } else {\n        break\n      }\n      first = false;\n    }\n    return word + this.input.slice(chunkStart, this.pos)\n  };\n\n\n  pp$9.readWord = function() {\n    var word = this.readWord1();\n    var type = types.name;\n    if (this.keywords.test(word)) {\n      type = keywords$1[word];\n    }\n    return this.finishToken(type, word)\n  };\n\n\n  var version = \"7.1.0\";\n\n  Parser.acorn = {\n    Parser: Parser,\n    version: version,\n    defaultOptions: defaultOptions,\n    Position: Position,\n    SourceLocation: SourceLocation,\n    getLineInfo: getLineInfo,\n    Node: Node,\n    TokenType: TokenType,\n    tokTypes: types,\n    keywordTypes: keywords$1,\n    TokContext: TokContext,\n    tokContexts: types$1,\n    isIdentifierChar: isIdentifierChar,\n    isIdentifierStart: isIdentifierStart,\n    Token: Token,\n    isNewLine: isNewLine,\n    lineBreak: lineBreak,\n    lineBreakG: lineBreakG,\n    nonASCIIwhitespace: nonASCIIwhitespace\n  };\n\n\n  function parse(input, options) {\n    return Parser.parse(input, options)\n  }\n\n\n  function parseExpressionAt(input, pos, options) {\n    return Parser.parseExpressionAt(input, pos, options)\n  }\n\n\n  function tokenizer(input, options) {\n    return Parser.tokenizer(input, options)\n  }\n\n  exports.Node = Node;\n  exports.Parser = Parser;\n  exports.Position = Position;\n  exports.SourceLocation = SourceLocation;\n  exports.TokContext = TokContext;\n  exports.Token = Token;\n  exports.TokenType = TokenType;\n  exports.defaultOptions = defaultOptions;\n  exports.getLineInfo = getLineInfo;\n  exports.isIdentifierChar = isIdentifierChar;\n  exports.isIdentifierStart = isIdentifierStart;\n  exports.isNewLine = isNewLine;\n  exports.keywordTypes = keywords$1;\n  exports.lineBreak = lineBreak;\n  exports.lineBreakG = lineBreakG;\n  exports.nonASCIIwhitespace = nonASCIIwhitespace;\n  exports.parse = parse;\n  exports.parseExpressionAt = parseExpressionAt;\n  exports.tokContexts = types$1;\n  exports.tokTypes = types;\n  exports.tokenizer = tokenizer;\n  exports.version = version;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n\n},{}],2:[function(require,module,exports){\n\n},{}],3:[function(require,module,exports){\nfunction glWiretap(gl, options = {}) {\n  const {\n    contextName = 'gl',\n    throwGetError,\n    useTrackablePrimitives,\n    readPixelsFile,\n    recording = [],\n    variables = {},\n    onReadPixels,\n    onUnrecognizedArgumentLookup,\n  } = options;\n  const proxy = new Proxy(gl, { get: listen });\n  const contextVariables = [];\n  const entityNames = {};\n  let imageCount = 0;\n  let indent = '';\n  let readPixelsVariableName;\n  return proxy;\n  function listen(obj, property) {\n    switch (property) {\n      case 'addComment': return addComment;\n      case 'checkThrowError': return checkThrowError;\n      case 'getReadPixelsVariableName': return readPixelsVariableName;\n      case 'insertVariable': return insertVariable;\n      case 'reset': return reset;\n      case 'setIndent': return setIndent;\n      case 'toString': return toString;\n      case 'getContextVariableName': return getContextVariableName;\n    }\n    if (typeof gl[property] === 'function') {\n      return function() { \n        switch (property) {\n          case 'getError':\n            if (throwGetError) {\n              recording.push(`${indent}if (${contextName}.getError() !== ${contextName}.NONE) throw new Error('error');`);\n            } else {\n              recording.push(`${indent}${contextName}.getError();`); \n            }\n            return gl.getError();\n          case 'getExtension': {\n            const variableName = `${contextName}Variables${contextVariables.length}`;\n            recording.push(`${indent}const ${variableName} = ${contextName}.getExtension('${arguments[0]}');`);\n            const extension = gl.getExtension(arguments[0]);\n            if (extension && typeof extension === 'object') {\n              const tappedExtension = glExtensionWiretap(extension, {\n                getEntity,\n                useTrackablePrimitives,\n                recording,\n                contextName: variableName,\n                contextVariables,\n                variables,\n                indent,\n                onUnrecognizedArgumentLookup,\n              });\n              contextVariables.push(tappedExtension);\n              return tappedExtension;\n            } else {\n              contextVariables.push(null);\n            }\n            return extension;\n          }\n          case 'readPixels':\n            const i = contextVariables.indexOf(arguments[6]);\n            let targetVariableName;\n            if (i === -1) {\n              const variableName = getVariableName(arguments[6]);\n              if (variableName) {\n                targetVariableName = variableName;\n                recording.push(`${indent}${variableName}`);\n              } else {\n                targetVariableName = `${contextName}Variable${contextVariables.length}`;\n                contextVariables.push(arguments[6]);\n                recording.push(`${indent}const ${targetVariableName} = new ${arguments[6].constructor.name}(${arguments[6].length});`);\n              }\n            } else {\n              targetVariableName = `${contextName}Variable${i}`;\n            }\n            readPixelsVariableName = targetVariableName;\n            const argumentAsStrings = [\n              arguments[0],\n              arguments[1],\n              arguments[2],\n              arguments[3],\n              getEntity(arguments[4]),\n              getEntity(arguments[5]),\n              targetVariableName\n            ];\n            recording.push(`${indent}${contextName}.readPixels(${argumentAsStrings.join(', ')});`);\n            if (readPixelsFile) {\n              writePPM(arguments[2], arguments[3]);\n            }\n            if (onReadPixels) {\n              onReadPixels(targetVariableName, argumentAsStrings);\n            }\n            return gl.readPixels.apply(gl, arguments);\n          case 'drawBuffers':\n            recording.push(`${indent}${contextName}.drawBuffers([${argumentsToString(arguments[0], { contextName, contextVariables, getEntity, addVariable, variables, onUnrecognizedArgumentLookup } )}]);`);\n            return gl.drawBuffers(arguments[0]);\n        }\n        let result = gl[property].apply(gl, arguments);\n        switch (typeof result) {\n          case 'undefined':\n            recording.push(`${indent}${methodCallToString(property, arguments)};`);\n            return;\n          case 'number':\n          case 'boolean':\n            if (useTrackablePrimitives && contextVariables.indexOf(trackablePrimitive(result)) === -1) {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n              contextVariables.push(result = trackablePrimitive(result));\n              break;\n            }\n          default:\n            if (result === null) {\n              recording.push(`${methodCallToString(property, arguments)};`);\n            } else {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n            }\n\n            contextVariables.push(result);\n        }\n        return result;\n      }\n    }\n    entityNames[gl[property]] = property;\n    return gl[property];\n  }\n  function toString() {\n    return recording.join('\\n');\n  }\n  function reset() {\n    while (recording.length > 0) {\n      recording.pop();\n    }\n  }\n  function insertVariable(name, value) {\n    variables[name] = value;\n  }\n  function getEntity(value) {\n    const name = entityNames[value];\n    if (name) {\n      return contextName + '.' + name;\n    }\n    return value;\n  }\n  function setIndent(spaces) {\n    indent = ' '.repeat(spaces);\n  }\n  function addVariable(value, source) {\n    const variableName = `${contextName}Variable${contextVariables.length}`;\n    recording.push(`${indent}const ${variableName} = ${source};`);\n    contextVariables.push(value);\n    return variableName;\n  }\n  function writePPM(width, height) {\n    const sourceVariable = `${contextName}Variable${contextVariables.length}`;\n    const imageVariable = `imageDatum${imageCount}`;\n    recording.push(`${indent}let ${imageVariable} = [\"P3\\\\n# ${readPixelsFile}.ppm\\\\n\", ${width}, ' ', ${height}, \"\\\\n255\\\\n\"].join(\"\");`);\n    recording.push(`${indent}for (let i = 0; i < ${imageVariable}.length; i += 4) {`);\n    recording.push(`${indent}  ${imageVariable} += ${sourceVariable}[i] + ' ' + ${sourceVariable}[i + 1] + ' ' + ${sourceVariable}[i + 2] + ' ';`);\n    recording.push(`${indent}}`);\n    recording.push(`${indent}if (typeof require !== \"undefined\") {`);\n    recording.push(`${indent}  require('fs').writeFileSync('./${readPixelsFile}.ppm', ${imageVariable});`);\n    recording.push(`${indent}}`);\n    imageCount++;\n  }\n  function addComment(value) {\n    recording.push(`${indent}// ${value}`);\n  }\n  function checkThrowError() {\n    recording.push(`${indent}(() => {\n${indent}const error = ${contextName}.getError();\n${indent}if (error !== ${contextName}.NONE) {\n${indent}  const names = Object.getOwnPropertyNames(gl);\n${indent}  for (let i = 0; i < names.length; i++) {\n${indent}    const name = names[i];\n${indent}    if (${contextName}[name] === error) {\n${indent}      throw new Error('${contextName} threw ' + name);\n${indent}    }\n${indent}  }\n${indent}}\n${indent}})();`);\n  }\n  function methodCallToString(method, args) {\n    return `${contextName}.${method}(${argumentsToString(args, { contextName, contextVariables, getEntity, addVariable, variables, onUnrecognizedArgumentLookup })})`;\n  }\n\n  function getVariableName(value) {\n    if (variables) {\n      for (const name in variables) {\n        if (variables[name] === value) {\n          return name;\n        }\n      }\n    }\n    return null;\n  }\n\n  function getContextVariableName(value) {\n    const i = contextVariables.indexOf(value);\n    if (i !== -1) {\n      return `${contextName}Variable${i}`;\n    }\n    return null;\n  }\n}\n\nfunction glExtensionWiretap(extension, options) {\n  const proxy = new Proxy(extension, { get: listen });\n  const extensionEntityNames = {};\n  const {\n    contextName,\n    contextVariables,\n    getEntity,\n    useTrackablePrimitives,\n    recording,\n    variables,\n    indent,\n    onUnrecognizedArgumentLookup,\n  } = options;\n  return proxy;\n  function listen(obj, property) {\n    if (typeof obj[property] === 'function') {\n      return function() {\n        switch (property) {\n          case 'drawBuffersWEBGL':\n            recording.push(`${indent}${contextName}.drawBuffersWEBGL([${argumentsToString(arguments[0], { contextName, contextVariables, getEntity: getExtensionEntity, addVariable, variables, onUnrecognizedArgumentLookup })}]);`);\n            return extension.drawBuffersWEBGL(arguments[0]);\n        }\n        let result = extension[property].apply(extension, arguments);\n        switch (typeof result) {\n          case 'undefined':\n            recording.push(`${indent}${methodCallToString(property, arguments)};`);\n            return;\n          case 'number':\n          case 'boolean':\n            if (useTrackablePrimitives && contextVariables.indexOf(trackablePrimitive(result)) === -1) {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n              contextVariables.push(result = trackablePrimitive(result));\n            } else {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n              contextVariables.push(result);\n            }\n            break;\n          default:\n            if (result === null) {\n              recording.push(`${methodCallToString(property, arguments)};`);\n            } else {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n            }\n            contextVariables.push(result);\n        }\n        return result;\n      };\n    }\n    extensionEntityNames[extension[property]] = property;\n    return extension[property];\n  }\n\n  function getExtensionEntity(value) {\n    if (extensionEntityNames.hasOwnProperty(value)) {\n      return `${contextName}.${extensionEntityNames[value]}`;\n    }\n    return getEntity(value);\n  }\n\n  function methodCallToString(method, args) {\n    return `${contextName}.${method}(${argumentsToString(args, { contextName, contextVariables, getEntity: getExtensionEntity, addVariable, variables, onUnrecognizedArgumentLookup })})`;\n  }\n\n  function addVariable(value, source) {\n    const variableName = `${contextName}Variable${contextVariables.length}`;\n    contextVariables.push(value);\n    recording.push(`${indent}const ${variableName} = ${source};`);\n    return variableName;\n  }\n}\n\nfunction argumentsToString(args, options) {\n  const { variables, onUnrecognizedArgumentLookup } = options;\n  return (Array.from(args).map((arg) => {\n    const variableName = getVariableName(arg);\n    if (variableName) {\n      return variableName;\n    }\n    return argumentToString(arg, options);\n  }).join(', '));\n\n  function getVariableName(value) {\n    if (variables) {\n      for (const name in variables) {\n        if (!variables.hasOwnProperty(name)) continue;\n        if (variables[name] === value) {\n          return name;\n        }\n      }\n    }\n    if (onUnrecognizedArgumentLookup) {\n      return onUnrecognizedArgumentLookup(value);\n    }\n    return null;\n  }\n}\n\nfunction argumentToString(arg, options) {\n  const { contextName, contextVariables, getEntity, addVariable, onUnrecognizedArgumentLookup } = options;\n  if (typeof arg === 'undefined') {\n    return 'undefined';\n  }\n  if (arg === null) {\n    return 'null';\n  }\n  const i = contextVariables.indexOf(arg);\n  if (i > -1) {\n    return `${contextName}Variable${i}`;\n  }\n  switch (arg.constructor.name) {\n    case 'String':\n      const hasLines = /\\n/.test(arg);\n      const hasSingleQuotes = /'/.test(arg);\n      const hasDoubleQuotes = /\"/.test(arg);\n      if (hasLines) {\n        return '`' + arg + '`';\n      } else if (hasSingleQuotes && !hasDoubleQuotes) {\n        return '\"' + arg + '\"';\n      } else if (!hasSingleQuotes && hasDoubleQuotes) {\n        return \"'\" + arg + \"'\";\n      } else {\n        return '\\'' + arg + '\\'';\n      }\n    case 'Number': return getEntity(arg);\n    case 'Boolean': return getEntity(arg);\n    case 'Array':\n      return addVariable(arg, `new ${arg.constructor.name}([${Array.from(arg).join(',')}])`);\n    case 'Float32Array':\n    case 'Uint8Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n      return addVariable(arg, `new ${arg.constructor.name}(${JSON.stringify(Array.from(arg))})`);\n    default:\n      if (onUnrecognizedArgumentLookup) {\n        const instantiationString = onUnrecognizedArgumentLookup(arg);\n        if (instantiationString) {\n          return instantiationString;\n        }\n      }\n      throw new Error(`unrecognized argument type ${arg.constructor.name}`);\n  }\n}\n\nfunction trackablePrimitive(value) {\n  return new value.constructor(value);\n}\n\nif (typeof module !== 'undefined') {\n  module.exports = { glWiretap, glExtensionWiretap };\n}\n\nif (typeof window !== 'undefined') {\n  glWiretap.glExtensionWiretap = glExtensionWiretap;\n  window.glWiretap = glWiretap;\n}\n\n},{}],4:[function(require,module,exports){\nfunction setupArguments(args) {\n  const newArguments = new Array(args.length);\n  for (let i = 0; i < args.length; i++) {\n    const arg = args[i];\n    if (arg.toArray) {\n      newArguments[i] = arg.toArray();\n    } else {\n      newArguments[i] = arg;\n    }\n  }\n  return newArguments;\n}\n\nfunction mock1D() {\n  const args = setupArguments(arguments);\n  const row = new Float32Array(this.output.x);\n  for (let x = 0; x < this.output.x; x++) {\n    this.thread.x = x;\n    this.thread.y = 0;\n    this.thread.z = 0;\n    row[x] = this._fn.apply(this, args);\n  }\n  return row;\n}\n\nfunction mock2D() {\n  const args = setupArguments(arguments);\n  const matrix = new Array(this.output.y);\n  for (let y = 0; y < this.output.y; y++) {\n    const row = new Float32Array(this.output.x);\n    for (let x = 0; x < this.output.x; x++) {\n      this.thread.x = x;\n      this.thread.y = y;\n      this.thread.z = 0;\n      row[x] = this._fn.apply(this, args);\n    }\n    matrix[y] = row;\n  }\n  return matrix;\n}\n\nfunction mock2DGraphical() {\n  const args = setupArguments(arguments);\n  for (let y = 0; y < this.output.y; y++) {\n    for (let x = 0; x < this.output.x; x++) {\n      this.thread.x = x;\n      this.thread.y = y;\n      this.thread.z = 0;\n      this._fn.apply(this, args);\n    }\n  }\n}\n\nfunction mock3D() {\n  const args = setupArguments(arguments);\n  const cube = new Array(this.output.z);\n  for (let z = 0; z < this.output.z; z++) {\n    const matrix = new Array(this.output.y);\n    for (let y = 0; y < this.output.y; y++) {\n      const row = new Float32Array(this.output.x);\n      for (let x = 0; x < this.output.x; x++) {\n        this.thread.x = x;\n        this.thread.y = y;\n        this.thread.z = z;\n        row[x] = this._fn.apply(this, args);\n      }\n      matrix[y] = row;\n    }\n    cube[z] = matrix;\n  }\n  return cube;\n}\n\nfunction apiDecorate(kernel) {\n  kernel.setOutput = (output) => {\n    kernel.output = setupOutput(output);\n    if (kernel.graphical) {\n      setupGraphical(kernel);\n    }\n  };\n  kernel.toJSON = () => {\n    throw new Error('Not usable with gpuMock');\n  };\n  kernel.setConstants = (flag) => {\n    kernel.constants = flag;\n    return kernel;\n  };\n  kernel.setGraphical = (flag) => {\n    kernel.graphical = flag;\n    return kernel;\n  };\n  kernel.setCanvas = (flag) => {\n    kernel.canvas = flag;\n    return kernel;\n  };\n  kernel.setContext = (flag) => {\n    kernel.context = flag;\n    return kernel;\n  };\n  kernel.destroy = () => {};\n  kernel.validateSettings = () => {};\n  if (kernel.graphical && kernel.output) {\n    setupGraphical(kernel);\n  }\n  kernel.exec = function() {\n    return new Promise((resolve, reject) => {\n      try {\n        resolve(kernel.apply(kernel, arguments));\n      } catch(e) {\n        reject(e);\n      }\n    });\n  };\n  kernel.getPixels = (flip) => {\n    const {x, y} = kernel.output;\n    return flip ? flipPixels(kernel._imageData.data, x, y) : kernel._imageData.data.slice(0);\n  };\n  kernel.color = function(r, g, b, a) {\n    if (typeof a === 'undefined') {\n      a = 1;\n    }\n\n    r = Math.floor(r * 255);\n    g = Math.floor(g * 255);\n    b = Math.floor(b * 255);\n    a = Math.floor(a * 255);\n\n    const width = kernel.output.x;\n    const height = kernel.output.y;\n\n    const x = kernel.thread.x;\n    const y = height - kernel.thread.y - 1;\n\n    const index = x + y * width;\n\n    kernel._colorData[index * 4 + 0] = r;\n    kernel._colorData[index * 4 + 1] = g;\n    kernel._colorData[index * 4 + 2] = b;\n    kernel._colorData[index * 4 + 3] = a;\n  };\n\n  const mockMethod = () => kernel;\n  const methods = [\n    'setWarnVarUsage',\n    'setArgumentTypes',\n    'setTactic',\n    'setOptimizeFloatMemory',\n    'setDebug',\n    'setLoopMaxIterations',\n    'setConstantTypes',\n    'setFunctions',\n    'setNativeFunctions',\n    'setInjectedNative',\n    'setPipeline',\n    'setPrecision',\n    'setOutputToTexture',\n    'setImmutable',\n    'setStrictIntegers',\n    'setDynamicOutput',\n    'setHardcodeConstants',\n    'setDynamicArguments',\n    'setUseLegacyEncoder',\n    'setWarnVarUsage',\n    'addSubKernel',\n  ];\n  for (let i = 0; i < methods.length; i++) {\n    kernel[methods[i]] = mockMethod;\n  }\n  return kernel;\n}\n\nfunction setupGraphical(kernel) {\n  const {x, y} = kernel.output;\n  if (kernel.context && kernel.context.createImageData) {\n    const data = new Uint8ClampedArray(x * y * 4);\n    kernel._imageData = kernel.context.createImageData(x, y);\n    kernel._colorData = data;\n  } else {\n    const data = new Uint8ClampedArray(x * y * 4);\n    kernel._imageData = { data };\n    kernel._colorData = data;\n  }\n}\n\nfunction setupOutput(output) {\n  let result = null;\n  if (output.length) {\n    if (output.length === 3) {\n      const [x,y,z] = output;\n      result = { x, y, z };\n    } else if (output.length === 2) {\n      const [x,y] = output;\n      result = { x, y };\n    } else {\n      const [x] = output;\n      result = { x };\n    }\n  } else {\n    result = output;\n  }\n  return result;\n}\n\nfunction gpuMock(fn, settings = {}) {\n  const output = settings.output ? setupOutput(settings.output) : null;\n  function kernel() {\n    if (kernel.output.z) {\n      return mock3D.apply(kernel, arguments);\n    } else if (kernel.output.y) {\n      if (kernel.graphical) {\n        return mock2DGraphical.apply(kernel, arguments);\n      }\n      return mock2D.apply(kernel, arguments);\n    } else {\n      return mock1D.apply(kernel, arguments);\n    }\n  }\n  kernel._fn = fn;\n  kernel.constants = settings.constants || null;\n  kernel.context = settings.context || null;\n  kernel.canvas = settings.canvas || null;\n  kernel.graphical = settings.graphical || false;\n  kernel._imageData = null;\n  kernel._colorData = null;\n  kernel.output = output;\n  kernel.thread = {\n    x: 0,\n    y: 0,\n    z: 0\n  };\n  return apiDecorate(kernel);\n}\n\nfunction flipPixels(pixels, width, height) {\n  const halfHeight = height / 2 | 0; \n  const bytesPerRow = width * 4;\n  const temp = new Uint8ClampedArray(width * 4);\n  const result = pixels.slice(0);\n  for (let y = 0; y < halfHeight; ++y) {\n    const topOffset = y * bytesPerRow;\n    const bottomOffset = (height - y - 1) * bytesPerRow;\n\n    temp.set(result.subarray(topOffset, topOffset + bytesPerRow));\n\n    result.copyWithin(topOffset, bottomOffset, bottomOffset + bytesPerRow);\n\n    result.set(temp, bottomOffset);\n  }\n  return result;\n}\n\nmodule.exports = {\n  gpuMock\n};\n\n},{}],5:[function(require,module,exports){\nconst { utils } = require('./utils');\n\nfunction alias(name, source) {\n  const fnString = source.toString();\n  return new Function(`return function ${ name } (${ utils.getArgumentNamesFromString(fnString).join(', ') }) {\n  ${ utils.getFunctionBodyFromString(fnString) }\n}`)();\n}\n\nmodule.exports = {\n  alias\n};\n},{\"./utils\":114}],6:[function(require,module,exports){\nconst { FunctionNode } = require('../function-node');\n\nclass CPUFunctionNode extends FunctionNode {\n  astFunction(ast, retArr) {\n\n    if (!this.isRootKernel) {\n      retArr.push('function');\n      retArr.push(' ');\n      retArr.push(this.name);\n      retArr.push('(');\n\n      for (let i = 0; i < this.argumentNames.length; ++i) {\n        const argumentName = this.argumentNames[i];\n\n        if (i > 0) {\n          retArr.push(', ');\n        }\n        retArr.push('user_');\n        retArr.push(argumentName);\n      }\n\n      retArr.push(') {\\n');\n    }\n\n    for (let i = 0; i < ast.body.body.length; ++i) {\n      this.astGeneric(ast.body.body[i], retArr);\n      retArr.push('\\n');\n    }\n\n    if (!this.isRootKernel) {\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astReturnStatement(ast, retArr) {\n    const type = this.returnType || this.getType(ast.argument);\n\n    if (!this.returnType) {\n      this.returnType = type;\n    }\n\n    if (this.isRootKernel) {\n      retArr.push(this.leadingReturnStatement);\n      this.astGeneric(ast.argument, retArr);\n      retArr.push(';\\n');\n      retArr.push(this.followingReturnStatement);\n      retArr.push('continue;\\n');\n    } else if (this.isSubKernel) {\n      retArr.push(`subKernelResult_${ this.name } = `);\n      this.astGeneric(ast.argument, retArr);\n      retArr.push(';');\n      retArr.push(`return subKernelResult_${ this.name };`);\n    } else {\n      retArr.push('return ');\n      this.astGeneric(ast.argument, retArr);\n      retArr.push(';');\n    }\n    return retArr;\n  }\n\n  astLiteral(ast, retArr) {\n\n    if (isNaN(ast.value)) {\n      throw this.astErrorOutput(\n        'Non-numeric literal not supported : ' + ast.value,\n        ast\n      );\n    }\n\n    retArr.push(ast.value);\n\n    return retArr;\n  }\n\n  astBinaryExpression(ast, retArr) {\n    retArr.push('(');\n    this.astGeneric(ast.left, retArr);\n    retArr.push(ast.operator);\n    this.astGeneric(ast.right, retArr);\n    retArr.push(')');\n    return retArr;\n  }\n\n  astIdentifierExpression(idtNode, retArr) {\n    if (idtNode.type !== 'Identifier') {\n      throw this.astErrorOutput(\n        'IdentifierExpression - not an Identifier',\n        idtNode\n      );\n    }\n\n    switch (idtNode.name) {\n      case 'Infinity':\n        retArr.push('Infinity');\n        break;\n      default:\n        if (this.constants && this.constants.hasOwnProperty(idtNode.name)) {\n          retArr.push('constants_' + idtNode.name);\n        } else {\n          retArr.push('user_' + idtNode.name);\n        }\n    }\n\n    return retArr;\n  }\n\n  astForStatement(forNode, retArr) {\n    if (forNode.type !== 'ForStatement') {\n      throw this.astErrorOutput('Invalid for statement', forNode);\n    }\n\n    const initArr = [];\n    const testArr = [];\n    const updateArr = [];\n    const bodyArr = [];\n    let isSafe = null;\n\n    if (forNode.init) {\n      this.pushState('in-for-loop-init');\n      this.astGeneric(forNode.init, initArr);\n      for (let i = 0; i < initArr.length; i++) {\n        if (initArr[i].includes && initArr[i].includes(',')) {\n          isSafe = false;\n        }\n      }\n      this.popState('in-for-loop-init');\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.test) {\n      this.astGeneric(forNode.test, testArr);\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.update) {\n      this.astGeneric(forNode.update, updateArr);\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.body) {\n      this.pushState('loop-body');\n      this.astGeneric(forNode.body, bodyArr);\n      this.popState('loop-body');\n    }\n\n    if (isSafe === null) {\n      isSafe = this.isSafe(forNode.init) && this.isSafe(forNode.test);\n    }\n\n    if (isSafe) {\n      retArr.push(`for (${initArr.join('')};${testArr.join('')};${updateArr.join('')}){\\n`);\n      retArr.push(bodyArr.join(''));\n      retArr.push('}\\n');\n    } else {\n      const iVariableName = this.getInternalVariableName('safeI');\n      if (initArr.length > 0) {\n        retArr.push(initArr.join(''), ';\\n');\n      }\n      retArr.push(`for (let ${iVariableName}=0;${iVariableName}<LOOP_MAX;${iVariableName}++){\\n`);\n      if (testArr.length > 0) {\n        retArr.push(`if (!${testArr.join('')}) break;\\n`);\n      }\n      retArr.push(bodyArr.join(''));\n      retArr.push(`\\n${updateArr.join('')};`);\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astWhileStatement(whileNode, retArr) {\n    if (whileNode.type !== 'WhileStatement') {\n      throw this.astErrorOutput(\n        'Invalid while statement',\n        whileNode\n      );\n    }\n\n    retArr.push('for (let i = 0; i < LOOP_MAX; i++) {');\n    retArr.push('if (');\n    this.astGeneric(whileNode.test, retArr);\n    retArr.push(') {\\n');\n    this.astGeneric(whileNode.body, retArr);\n    retArr.push('} else {\\n');\n    retArr.push('break;\\n');\n    retArr.push('}\\n');\n    retArr.push('}\\n');\n\n    return retArr;\n  }\n\n  astDoWhileStatement(doWhileNode, retArr) {\n    if (doWhileNode.type !== 'DoWhileStatement') {\n      throw this.astErrorOutput(\n        'Invalid while statement',\n        doWhileNode\n      );\n    }\n\n    retArr.push('for (let i = 0; i < LOOP_MAX; i++) {');\n    this.astGeneric(doWhileNode.body, retArr);\n    retArr.push('if (!');\n    this.astGeneric(doWhileNode.test, retArr);\n    retArr.push(') {\\n');\n    retArr.push('break;\\n');\n    retArr.push('}\\n');\n    retArr.push('}\\n');\n\n    return retArr;\n\n  }\n\n  astAssignmentExpression(assNode, retArr) {\n    const declaration = this.getDeclaration(assNode.left);\n    if (declaration && !declaration.assignable) {\n      throw this.astErrorOutput(`Variable ${assNode.left.name} is not assignable here`, assNode);\n    }\n    this.astGeneric(assNode.left, retArr);\n    retArr.push(assNode.operator);\n    this.astGeneric(assNode.right, retArr);\n    return retArr;\n  }\n\n  astBlockStatement(bNode, retArr) {\n    if (this.isState('loop-body')) {\n      this.pushState('block-body'); \n      for (let i = 0; i < bNode.body.length; i++) {\n        this.astGeneric(bNode.body[i], retArr);\n      }\n      this.popState('block-body');\n    } else {\n      retArr.push('{\\n');\n      for (let i = 0; i < bNode.body.length; i++) {\n        this.astGeneric(bNode.body[i], retArr);\n      }\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astVariableDeclaration(varDecNode, retArr) {\n    retArr.push(`${varDecNode.kind} `);\n    const { declarations } = varDecNode;\n    for (let i = 0; i < declarations.length; i++) {\n      if (i > 0) {\n        retArr.push(',');\n      }\n      const declaration = declarations[i];\n      const info = this.getDeclaration(declaration.id);\n      if (!info.valueType) {\n        info.valueType = this.getType(declaration.init);\n      }\n      this.astGeneric(declaration, retArr);\n    }\n    if (!this.isState('in-for-loop-init')) {\n      retArr.push(';');\n    }\n    return retArr;\n  }\n\n  astIfStatement(ifNode, retArr) {\n    retArr.push('if (');\n    this.astGeneric(ifNode.test, retArr);\n    retArr.push(')');\n    if (ifNode.consequent.type === 'BlockStatement') {\n      this.astGeneric(ifNode.consequent, retArr);\n    } else {\n      retArr.push(' {\\n');\n      this.astGeneric(ifNode.consequent, retArr);\n      retArr.push('\\n}\\n');\n    }\n\n    if (ifNode.alternate) {\n      retArr.push('else ');\n      if (ifNode.alternate.type === 'BlockStatement' || ifNode.alternate.type === 'IfStatement') {\n        this.astGeneric(ifNode.alternate, retArr);\n      } else {\n        retArr.push(' {\\n');\n        this.astGeneric(ifNode.alternate, retArr);\n        retArr.push('\\n}\\n');\n      }\n    }\n    return retArr;\n\n  }\n\n  astSwitchStatement(ast, retArr) {\n    const { discriminant, cases } = ast;\n    retArr.push('switch (');\n    this.astGeneric(discriminant, retArr);\n    retArr.push(') {\\n');\n    for (let i = 0; i < cases.length; i++) {\n      if (cases[i].test === null) {\n        retArr.push('default:\\n');\n        this.astGeneric(cases[i].consequent, retArr);\n        if (cases[i].consequent && cases[i].consequent.length > 0) {\n          retArr.push('break;\\n');\n        }\n        continue;\n      }\n      retArr.push('case ');\n      this.astGeneric(cases[i].test, retArr);\n      retArr.push(':\\n');\n      if (cases[i].consequent && cases[i].consequent.length > 0) {\n        this.astGeneric(cases[i].consequent, retArr);\n        retArr.push('break;\\n');\n      }\n    }\n    retArr.push('\\n}');\n  }\n\n  astThisExpression(tNode, retArr) {\n    retArr.push('_this');\n    return retArr;\n  }\n\n  astMemberExpression(mNode, retArr) {\n    const {\n      signature,\n      type,\n      property,\n      xProperty,\n      yProperty,\n      zProperty,\n      name,\n      origin\n    } = this.getMemberExpressionDetails(mNode);\n    switch (signature) {\n      case 'this.thread.value':\n        retArr.push(`_this.thread.${ name }`);\n        return retArr;\n      case 'this.output.value':\n        switch (name) {\n          case 'x':\n            retArr.push('outputX');\n            break;\n          case 'y':\n            retArr.push('outputY');\n            break;\n          case 'z':\n            retArr.push('outputZ');\n            break;\n          default:\n            throw this.astErrorOutput('Unexpected expression', mNode);\n        }\n        return retArr;\n      case 'value':\n        throw this.astErrorOutput('Unexpected expression', mNode);\n      case 'value[]':\n      case 'value[][]':\n      case 'value[][][]':\n      case 'value.value':\n        if (origin === 'Math') {\n          retArr.push(Math[name]);\n          return retArr;\n        }\n        switch (property) {\n          case 'r':\n            retArr.push(`user_${ name }[0]`);\n            return retArr;\n          case 'g':\n            retArr.push(`user_${ name }[1]`);\n            return retArr;\n          case 'b':\n            retArr.push(`user_${ name }[2]`);\n            return retArr;\n          case 'a':\n            retArr.push(`user_${ name }[3]`);\n            return retArr;\n        }\n        break;\n      case 'this.constants.value':\n      case 'this.constants.value[]':\n      case 'this.constants.value[][]':\n      case 'this.constants.value[][][]':\n        break;\n      case 'fn()[]':\n        this.astGeneric(mNode.object, retArr);\n        retArr.push('[');\n        this.astGeneric(mNode.property, retArr);\n        retArr.push(']');\n        return retArr;\n      case 'fn()[][]':\n        this.astGeneric(mNode.object.object, retArr);\n        retArr.push('[');\n        this.astGeneric(mNode.object.property, retArr);\n        retArr.push(']');\n        retArr.push('[');\n        this.astGeneric(mNode.property, retArr);\n        retArr.push(']');\n        return retArr;\n      default:\n        throw this.astErrorOutput('Unexpected expression', mNode);\n    }\n\n    if (!mNode.computed) {\n      switch (type) {\n        case 'Number':\n        case 'Integer':\n        case 'Float':\n        case 'Boolean':\n          retArr.push(`${origin}_${name}`);\n          return retArr;\n      }\n    }\n\n    const markupName = `${origin}_${name}`;\n\n    switch (type) {\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n      case 'HTMLImageArray':\n      case 'ArrayTexture(1)':\n      case 'ArrayTexture(2)':\n      case 'ArrayTexture(3)':\n      case 'ArrayTexture(4)':\n      case 'HTMLImage':\n      default:\n        let size;\n        let isInput;\n        if (origin === 'constants') {\n          const constant = this.constants[name];\n          isInput = this.constantTypes[name] === 'Input';\n          size = isInput ? constant.size : null;\n        } else {\n          isInput = this.isInput(name);\n          size = isInput ? this.argumentSizes[this.argumentNames.indexOf(name)] : null;\n        }\n        retArr.push(`${ markupName }`);\n        if (zProperty && yProperty) {\n          if (isInput) {\n            retArr.push('[(');\n            this.astGeneric(zProperty, retArr);\n            retArr.push(`*${ this.dynamicArguments ? '(outputY * outputX)' : size[1] * size[0] })+(`);\n            this.astGeneric(yProperty, retArr);\n            retArr.push(`*${ this.dynamicArguments ? 'outputX' : size[0] })+`);\n            this.astGeneric(xProperty, retArr);\n            retArr.push(']');\n          } else {\n            retArr.push('[');\n            this.astGeneric(zProperty, retArr);\n            retArr.push(']');\n            retArr.push('[');\n            this.astGeneric(yProperty, retArr);\n            retArr.push(']');\n            retArr.push('[');\n            this.astGeneric(xProperty, retArr);\n            retArr.push(']');\n          }\n        } else if (yProperty) {\n          if (isInput) {\n            retArr.push('[(');\n            this.astGeneric(yProperty, retArr);\n            retArr.push(`*${ this.dynamicArguments ? 'outputX' : size[0] })+`);\n            this.astGeneric(xProperty, retArr);\n            retArr.push(']');\n          } else {\n            retArr.push('[');\n            this.astGeneric(yProperty, retArr);\n            retArr.push(']');\n            retArr.push('[');\n            this.astGeneric(xProperty, retArr);\n            retArr.push(']');\n          }\n        } else if (typeof xProperty !== 'undefined') {\n          retArr.push('[');\n          this.astGeneric(xProperty, retArr);\n          retArr.push(']');\n        }\n    }\n    return retArr;\n  }\n\n  astCallExpression(ast, retArr) {\n    if (ast.type !== 'CallExpression') {\n      throw this.astErrorOutput('Unknown CallExpression', ast);\n    }\n    let functionName = this.astMemberExpressionUnroll(ast.callee);\n\n    if (this.calledFunctions.indexOf(functionName) < 0) {\n      this.calledFunctions.push(functionName);\n    }\n\n    const isMathFunction = this.isAstMathFunction(ast);\n\n    if (this.onFunctionCall) {\n      this.onFunctionCall(this.name, functionName, ast.arguments);\n    }\n\n    retArr.push(functionName);\n\n    retArr.push('(');\n    const targetTypes = this.lookupFunctionArgumentTypes(functionName) || [];\n    for (let i = 0; i < ast.arguments.length; ++i) {\n      const argument = ast.arguments[i];\n\n      let argumentType = this.getType(argument);\n      if (!targetTypes[i]) {\n        this.triggerImplyArgumentType(functionName, i, argumentType, this);\n      }\n\n      if (i > 0) {\n        retArr.push(', ');\n      }\n      this.astGeneric(argument, retArr);\n    }\n    retArr.push(')');\n\n    return retArr;\n  }\n\n  astArrayExpression(arrNode, retArr) {\n    const returnType = this.getType(arrNode);\n    const arrLen = arrNode.elements.length;\n    const elements = [];\n    for (let i = 0; i < arrLen; ++i) {\n      const element = [];\n      this.astGeneric(arrNode.elements[i], element);\n      elements.push(element.join(''));\n    }\n    switch (returnType) {\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n        retArr.push(`[${elements.join(', ')}]`);\n        break;\n      default:\n        retArr.push(`new Float32Array([${elements.join(', ')}])`);\n    }\n    return retArr;\n  }\n\n  astDebuggerStatement(arrNode, retArr) {\n    retArr.push('debugger;');\n    return retArr;\n  }\n}\n\nmodule.exports = {\n  CPUFunctionNode\n};\n},{\"../function-node\":10}],7:[function(require,module,exports){\nconst { utils } = require('../../utils');\n\nfunction constantsToString(constants, types) {\n  const results = [];\n  for (const name in types) {\n    if (!types.hasOwnProperty(name)) continue;\n    const type = types[name];\n    const constant = constants[name];\n    switch (type) {\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n      case 'Boolean':\n        results.push(`${name}:${constant}`);\n        break;\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n        results.push(`${name}:new ${constant.constructor.name}(${JSON.stringify(Array.from(constant))})`);\n        break;\n    }\n  }\n  return `{ ${ results.join() } }`;\n}\n\nfunction cpuKernelString(cpuKernel, name) {\n  const header = [];\n  const thisProperties = [];\n  const beforeReturn = [];\n\n  const useFunctionKeyword = !/^function/.test(cpuKernel.color.toString());\n\n  header.push(\n    '  const { context, canvas, constants: incomingConstants } = settings;',\n    `  const output = new Int32Array(${JSON.stringify(Array.from(cpuKernel.output))});`,\n    `  const _constantTypes = ${JSON.stringify(cpuKernel.constantTypes)};`,\n    `  const _constants = ${constantsToString(cpuKernel.constants, cpuKernel.constantTypes)};`\n  );\n\n  thisProperties.push(\n    '    constants: _constants,',\n    '    context,',\n    '    output,',\n    '    thread: {x: 0, y: 0, z: 0},'\n  );\n\n  if (cpuKernel.graphical) {\n    header.push(`  const _imageData = context.createImageData(${cpuKernel.output[0]}, ${cpuKernel.output[1]});`);\n    header.push(`  const _colorData = new Uint8ClampedArray(${cpuKernel.output[0]} * ${cpuKernel.output[1]} * 4);`);\n\n    const colorFn = utils.flattenFunctionToString((useFunctionKeyword ? 'function ' : '') + cpuKernel.color.toString(), {\n      thisLookup: (propertyName) => {\n        switch (propertyName) {\n          case '_colorData':\n            return '_colorData';\n          case '_imageData':\n            return '_imageData';\n          case 'output':\n            return 'output';\n          case 'thread':\n            return 'this.thread';\n        }\n        return JSON.stringify(cpuKernel[propertyName]);\n      },\n      findDependency: (object, name) => {\n        return null;\n      }\n    });\n\n    const getPixelsFn = utils.flattenFunctionToString((useFunctionKeyword ? 'function ' : '') + cpuKernel.getPixels.toString(), {\n      thisLookup: (propertyName) => {\n        switch (propertyName) {\n          case '_colorData':\n            return '_colorData';\n          case '_imageData':\n            return '_imageData';\n          case 'output':\n            return 'output';\n          case 'thread':\n            return 'this.thread';\n        }\n        return JSON.stringify(cpuKernel[propertyName]);\n      },\n      findDependency: () => {\n        return null;\n      }\n    });\n\n    thisProperties.push(\n      '    _imageData,',\n      '    _colorData,',\n      `    color: ${colorFn},`\n    );\n\n    beforeReturn.push(\n      `  kernel.getPixels = ${getPixelsFn};`\n    );\n  }\n\n  const constantTypes = [];\n  const constantKeys = Object.keys(cpuKernel.constantTypes);\n  for (let i = 0; i < constantKeys.length; i++) {\n    constantTypes.push(cpuKernel.constantTypes[constantKeys]);\n  }\n  if (cpuKernel.argumentTypes.indexOf('HTMLImageArray') !== -1 || constantTypes.indexOf('HTMLImageArray') !== -1) {\n    const flattenedImageTo3DArray = utils.flattenFunctionToString((useFunctionKeyword ? 'function ' : '') + cpuKernel._imageTo3DArray.toString(), {\n      doNotDefine: ['canvas'],\n      findDependency: (object, name) => {\n        if (object === 'this') {\n          return (useFunctionKeyword ? 'function ' : '') + cpuKernel[name].toString();\n        }\n        return null;\n      },\n      thisLookup: (propertyName) => {\n        switch (propertyName) {\n          case 'canvas':\n            return;\n          case 'context':\n            return 'context';\n        }\n      }\n    });\n    beforeReturn.push(flattenedImageTo3DArray);\n    thisProperties.push(`    _mediaTo2DArray,`);\n    thisProperties.push(`    _imageTo3DArray,`);\n  } else if (cpuKernel.argumentTypes.indexOf('HTMLImage') !== -1 || constantTypes.indexOf('HTMLImage') !== -1) {\n    const flattenedImageTo2DArray = utils.flattenFunctionToString((useFunctionKeyword ? 'function ' : '') + cpuKernel._mediaTo2DArray.toString(), {\n      findDependency: (object, name) => {\n        return null;\n      },\n      thisLookup: (propertyName) => {\n        switch (propertyName) {\n          case 'canvas':\n            return 'settings.canvas';\n          case 'context':\n            return 'settings.context';\n        }\n        throw new Error('unhandled thisLookup');\n      }\n    });\n    beforeReturn.push(flattenedImageTo2DArray);\n    thisProperties.push(`    _mediaTo2DArray,`);\n  }\n\n  return `function(settings) {\n${ header.join('\\n') }\n  for (const p in _constantTypes) {\n    if (!_constantTypes.hasOwnProperty(p)) continue;\n    const type = _constantTypes[p];\n    switch (type) {\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n      case 'Boolean':\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n        if (incomingConstants.hasOwnProperty(p)) {\n          console.warn('constant ' + p + ' of type ' + type + ' cannot be resigned');\n        }\n        continue;\n    }\n    if (!incomingConstants.hasOwnProperty(p)) {\n      throw new Error('constant ' + p + ' not found');\n    }\n    _constants[p] = incomingConstants[p];\n  }\n  const kernel = (function() {\n${cpuKernel._kernelString}\n  })\n    .apply({ ${thisProperties.join('\\n')} });\n  ${ beforeReturn.join('\\n') }\n  return kernel;\n}`;\n}\n\nmodule.exports = {\n  cpuKernelString\n};\n},{\"../../utils\":114}],8:[function(require,module,exports){\nconst { Kernel } = require('../kernel');\nconst { FunctionBuilder } = require('../function-builder');\nconst { CPUFunctionNode } = require('./function-node');\nconst { utils } = require('../../utils');\nconst { cpuKernelString } = require('./kernel-string');\n\nclass CPUKernel extends Kernel {\n  static getFeatures() {\n    return this.features;\n  }\n  static get features() {\n    return Object.freeze({\n      kernelMap: true,\n      isIntegerDivisionAccurate: true\n    });\n  }\n  static get isSupported() {\n    return true;\n  }\n  static isContextMatch(context) {\n    return false;\n  }\n  static get mode() {\n    return 'cpu';\n  }\n\n  static nativeFunctionArguments() {\n    return null;\n  }\n\n  static nativeFunctionReturnType() {\n    throw new Error(`Looking up native function return type not supported on ${this.name}`);\n  }\n\n  static combineKernels(combinedKernel) {\n    return combinedKernel;\n  }\n\n  static getSignature(kernel, argumentTypes) {\n    return 'cpu' + (argumentTypes.length > 0 ? ':' + argumentTypes.join(',') : '');\n  }\n\n  constructor(source, settings) {\n    super(source, settings);\n    this.mergeSettings(source.settings || settings);\n\n    this._imageData = null;\n    this._colorData = null;\n    this._kernelString = null;\n    this._prependedString = [];\n    this.thread = {\n      x: 0,\n      y: 0,\n      z: 0\n    };\n    this.translatedSources = null;\n  }\n\n  initCanvas() {\n    if (typeof document !== 'undefined') {\n      return document.createElement('canvas');\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      return new OffscreenCanvas(0, 0);\n    }\n  }\n\n  initContext() {\n    if (!this.canvas) return null;\n    return this.canvas.getContext('2d');\n  }\n\n  initPlugins(settings) {\n    return [];\n  }\n\n  validateSettings(args) {\n    if (!this.output || this.output.length === 0) {\n      if (args.length !== 1) {\n        throw new Error('Auto output only supported for kernels with only one input');\n      }\n\n      const argType = utils.getVariableType(args[0], this.strictIntegers);\n      if (argType === 'Array') {\n        this.output = utils.getDimensions(argType);\n      } else if (argType === 'NumberTexture' || argType === 'ArrayTexture(4)') {\n        this.output = args[0].output;\n      } else {\n        throw new Error('Auto output not supported for input type: ' + argType);\n      }\n    }\n\n    if (this.graphical) {\n      if (this.output.length !== 2) {\n        throw new Error('Output must have 2 dimensions on graphical mode');\n      }\n    }\n\n    this.checkOutput();\n  }\n\n  translateSource() {\n    this.leadingReturnStatement = this.output.length > 1 ? 'resultX[x] = ' : 'result[x] = ';\n    if (this.subKernels) {\n      const followingReturnStatement = [];\n      for (let i = 0; i < this.subKernels.length; i++) {\n        const {\n          name\n        } = this.subKernels[i];\n        followingReturnStatement.push(this.output.length > 1 ? `resultX_${ name }[x] = subKernelResult_${ name };\\n` : `result_${ name }[x] = subKernelResult_${ name };\\n`);\n      }\n      this.followingReturnStatement = followingReturnStatement.join('');\n    }\n    const functionBuilder = FunctionBuilder.fromKernel(this, CPUFunctionNode);\n    this.translatedSources = functionBuilder.getPrototypes('kernel');\n    if (!this.graphical && !this.returnType) {\n      this.returnType = functionBuilder.getKernelResultType();\n    }\n  }\n\n  build() {\n    if (this.built) return;\n    this.setupConstants();\n    this.setupArguments(arguments);\n    this.validateSettings(arguments);\n    this.translateSource();\n\n    if (this.graphical) {\n      const {\n        canvas,\n        output\n      } = this;\n      if (!canvas) {\n        throw new Error('no canvas available for using graphical output');\n      }\n      const width = output[0];\n      const height = output[1] || 1;\n      canvas.width = width;\n      canvas.height = height;\n      this._imageData = this.context.createImageData(width, height);\n      this._colorData = new Uint8ClampedArray(width * height * 4);\n    }\n\n    const kernelString = this.getKernelString();\n    this.kernelString = kernelString;\n\n    if (this.debug) {\n      console.log('Function output:');\n      console.log(kernelString);\n    }\n\n    try {\n      this.run = new Function([], kernelString).bind(this)();\n    } catch (e) {\n      console.error('An error occurred compiling the javascript: ', e);\n    }\n    this.buildSignature(arguments);\n    this.built = true;\n  }\n\n  color(r, g, b, a) {\n    if (typeof a === 'undefined') {\n      a = 1;\n    }\n\n    r = Math.floor(r * 255);\n    g = Math.floor(g * 255);\n    b = Math.floor(b * 255);\n    a = Math.floor(a * 255);\n\n    const width = this.output[0];\n    const height = this.output[1];\n\n    const x = this.thread.x;\n    const y = height - this.thread.y - 1;\n\n    const index = x + y * width;\n\n    this._colorData[index * 4 + 0] = r;\n    this._colorData[index * 4 + 1] = g;\n    this._colorData[index * 4 + 2] = b;\n    this._colorData[index * 4 + 3] = a;\n  }\n\n  getKernelString() {\n    if (this._kernelString !== null) return this._kernelString;\n\n    let kernelThreadString = null;\n    let {\n      translatedSources\n    } = this;\n    if (translatedSources.length > 1) {\n      translatedSources = translatedSources.filter(fn => {\n        if (/^function/.test(fn)) return fn;\n        kernelThreadString = fn;\n        return false;\n      });\n    } else {\n      kernelThreadString = translatedSources.shift();\n    }\n    return this._kernelString = `  const LOOP_MAX = ${ this._getLoopMaxString() };\n  ${ this.injectedNative || '' }\n  const _this = this;\n  ${ this._resultKernelHeader() }\n  ${ this._processConstants() }\n  return (${ this.argumentNames.map(argumentName => 'user_' + argumentName).join(', ') }) => {\n    ${ this._prependedString.join('') }\n    ${ this._earlyThrows() }\n    ${ this._processArguments() }\n    ${ this.graphical ? this._graphicalKernelBody(kernelThreadString) : this._resultKernelBody(kernelThreadString) }\n    ${ translatedSources.length > 0 ? translatedSources.join('\\n') : '' }\n  };`;\n  }\n\n  toString() {\n    return cpuKernelString(this);\n  }\n\n  _getLoopMaxString() {\n    return (\n      this.loopMaxIterations ?\n      ` ${ parseInt(this.loopMaxIterations) };` :\n      ' 1000;'\n    );\n  }\n\n  _processConstants() {\n    if (!this.constants) return '';\n\n    const result = [];\n    for (let p in this.constants) {\n      const type = this.constantTypes[p];\n      switch (type) {\n        case 'HTMLCanvas':\n        case 'OffscreenCanvas':\n        case 'HTMLImage':\n        case 'ImageBitmap':\n        case 'ImageData':\n        case 'HTMLVideo':\n          result.push(`    const constants_${p} = this._mediaTo2DArray(this.constants.${p});\\n`);\n          break;\n        case 'HTMLImageArray':\n          result.push(`    const constants_${p} = this._imageTo3DArray(this.constants.${p});\\n`);\n          break;\n        case 'Input':\n          result.push(`    const constants_${p} = this.constants.${p}.value;\\n`);\n          break;\n        default:\n          result.push(`    const constants_${p} = this.constants.${p};\\n`);\n      }\n    }\n    return result.join('');\n  }\n\n  _earlyThrows() {\n    if (this.graphical) return '';\n    if (this.immutable) return '';\n    if (!this.pipeline) return '';\n    const arrayArguments = [];\n    for (let i = 0; i < this.argumentTypes.length; i++) {\n      if (this.argumentTypes[i] === 'Array') {\n        arrayArguments.push(this.argumentNames[i]);\n      }\n    }\n    if (arrayArguments.length === 0) return '';\n    const checks = [];\n    for (let i = 0; i < arrayArguments.length; i++) {\n      const argumentName = arrayArguments[i];\n      const checkSubKernels = this._mapSubKernels(subKernel => `user_${argumentName} === result_${subKernel.name}`).join(' || ');\n      checks.push(`user_${argumentName} === result${checkSubKernels ? ` || ${checkSubKernels}` : ''}`);\n    }\n    return `if (${checks.join(' || ')}) throw new Error('Source and destination arrays are the same.  Use immutable = true');`;\n  }\n\n  _processArguments() {\n    const result = [];\n    for (let i = 0; i < this.argumentTypes.length; i++) {\n      const variableName = `user_${this.argumentNames[i]}`;\n      switch (this.argumentTypes[i]) {\n        case 'HTMLCanvas':\n        case 'OffscreenCanvas':\n        case 'HTMLImage':\n        case 'ImageBitmap':\n        case 'ImageData':\n        case 'HTMLVideo':\n          result.push(`    ${variableName} = this._mediaTo2DArray(${variableName});\\n`);\n          break;\n        case 'HTMLImageArray':\n          result.push(`    ${variableName} = this._imageTo3DArray(${variableName});\\n`);\n          break;\n        case 'Input':\n          result.push(`    ${variableName} = ${variableName}.value;\\n`);\n          break;\n        case 'ArrayTexture(1)':\n        case 'ArrayTexture(2)':\n        case 'ArrayTexture(3)':\n        case 'ArrayTexture(4)':\n        case 'NumberTexture':\n        case 'MemoryOptimizedNumberTexture':\n          result.push(`\n    if (${variableName}.toArray) {\n      if (!_this.textureCache) {\n        _this.textureCache = [];\n        _this.arrayCache = [];\n      }\n      const textureIndex = _this.textureCache.indexOf(${variableName});\n      if (textureIndex !== -1) {\n        ${variableName} = _this.arrayCache[textureIndex];\n      } else {\n        _this.textureCache.push(${variableName});\n        ${variableName} = ${variableName}.toArray();\n        _this.arrayCache.push(${variableName});\n      }\n    }`);\n          break;\n      }\n    }\n    return result.join('');\n  }\n\n  _mediaTo2DArray(media) {\n    const canvas = this.canvas;\n    const width = media.width > 0 ? media.width : media.videoWidth;\n    const height = media.height > 0 ? media.height : media.videoHeight;\n    if (canvas.width < width) {\n      canvas.width = width;\n    }\n    if (canvas.height < height) {\n      canvas.height = height;\n    }\n    const ctx = this.context;\n    let pixelsData;\n    if (media.constructor === ImageData) {\n      pixelsData = media.data;\n    } else {\n      ctx.drawImage(media, 0, 0, width, height);\n      pixelsData = ctx.getImageData(0, 0, width, height).data;\n    }\n    const imageArray = new Array(height);\n    let index = 0;\n    for (let y = height - 1; y >= 0; y--) {\n      const row = imageArray[y] = new Array(width);\n      for (let x = 0; x < width; x++) {\n        const pixel = new Float32Array(4);\n        pixel[0] = pixelsData[index++] / 255; \n        pixel[1] = pixelsData[index++] / 255; \n        pixel[2] = pixelsData[index++] / 255; \n        pixel[3] = pixelsData[index++] / 255; \n        row[x] = pixel;\n      }\n    }\n    return imageArray;\n  }\n\n  getPixels(flip) {\n    const [width, height] = this.output;\n    return flip ? utils.flipPixels(this._imageData.data, width, height) : this._imageData.data.slice(0);\n  }\n\n  _imageTo3DArray(images) {\n    const imagesArray = new Array(images.length);\n    for (let i = 0; i < images.length; i++) {\n      imagesArray[i] = this._mediaTo2DArray(images[i]);\n    }\n    return imagesArray;\n  }\n\n  _resultKernelHeader() {\n    if (this.graphical) return '';\n    if (this.immutable) return '';\n    if (!this.pipeline) return '';\n    switch (this.output.length) {\n      case 1:\n        return this._mutableKernel1DResults();\n      case 2:\n        return this._mutableKernel2DResults();\n      case 3:\n        return this._mutableKernel3DResults();\n    }\n  }\n\n  _resultKernelBody(kernelString) {\n    switch (this.output.length) {\n      case 1:\n        return (!this.immutable && this.pipeline ? this._resultMutableKernel1DLoop(kernelString) : this._resultImmutableKernel1DLoop(kernelString)) + this._kernelOutput();\n      case 2:\n        return (!this.immutable && this.pipeline ? this._resultMutableKernel2DLoop(kernelString) : this._resultImmutableKernel2DLoop(kernelString)) + this._kernelOutput();\n      case 3:\n        return (!this.immutable && this.pipeline ? this._resultMutableKernel3DLoop(kernelString) : this._resultImmutableKernel3DLoop(kernelString)) + this._kernelOutput();\n      default:\n        throw new Error('unsupported size kernel');\n    }\n  }\n\n  _graphicalKernelBody(kernelThreadString) {\n    switch (this.output.length) {\n      case 2:\n        return this._graphicalKernel2DLoop(kernelThreadString) + this._graphicalOutput();\n      default:\n        throw new Error('unsupported size kernel');\n    }\n  }\n\n  _graphicalOutput() {\n    return `\n    this._imageData.data.set(this._colorData);\n    this.context.putImageData(this._imageData, 0, 0);\n    return;`\n  }\n\n  _getKernelResultTypeConstructorString() {\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n        return 'Float32Array';\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n        return 'Array';\n      default:\n        if (this.graphical) {\n          return 'Float32Array';\n        }\n        throw new Error(`unhandled returnType ${ this.returnType }`);\n    }\n  }\n\n  _resultImmutableKernel1DLoop(kernelString) {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const result = new ${constructorString}(outputX);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new ${constructorString}(outputX);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let x = 0; x < outputX; x++) {\n      this.thread.x = x;\n      this.thread.y = 0;\n      this.thread.z = 0;\n      ${ kernelString }\n    }`;\n  }\n\n  _mutableKernel1DResults() {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const result = new ${constructorString}(outputX);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new ${constructorString}(outputX);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }`;\n  }\n\n  _resultMutableKernel1DLoop(kernelString) {\n    return `  const outputX = _this.output[0];\n    for (let x = 0; x < outputX; x++) {\n      this.thread.x = x;\n      this.thread.y = 0;\n      this.thread.z = 0;\n      ${ kernelString }\n    }`;\n  }\n\n  _resultImmutableKernel2DLoop(kernelString) {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const result = new Array(outputY);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new Array(outputY);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      const resultX = result[y] = new ${constructorString}(outputX);\n      ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = result_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('') }\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${ kernelString }\n      }\n    }`;\n  }\n\n  _mutableKernel2DResults() {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const result = new Array(outputY);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new Array(outputY);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let y = 0; y < outputY; y++) {\n      const resultX = result[y] = new ${constructorString}(outputX);\n      ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = result_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('') }\n    }`;\n  }\n\n  _resultMutableKernel2DLoop(kernelString) {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      const resultX = result[y];\n      ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = result_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('') }\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${ kernelString }\n      }\n    }`;\n  }\n\n  _graphicalKernel2DLoop(kernelString) {\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${ kernelString }\n      }\n    }`;\n  }\n\n  _resultImmutableKernel3DLoop(kernelString) {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    const result = new Array(outputZ);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new Array(outputZ);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let z = 0; z < outputZ; z++) {\n      this.thread.z = z;\n      const resultY = result[z] = new Array(outputY);\n      ${ this._mapSubKernels(subKernel => `const resultY_${ subKernel.name } = result_${subKernel.name}[z] = new Array(outputY);\\n`).join('      ') }\n      for (let y = 0; y < outputY; y++) {\n        this.thread.y = y;\n        const resultX = resultY[y] = new ${constructorString}(outputX);\n        ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = resultY_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('        ') }\n        for (let x = 0; x < outputX; x++) {\n          this.thread.x = x;\n          ${ kernelString }\n        }\n      }\n    }`;\n  }\n\n  _mutableKernel3DResults() {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    const result = new Array(outputZ);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new Array(outputZ);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let z = 0; z < outputZ; z++) {\n      const resultY = result[z] = new Array(outputY);\n      ${ this._mapSubKernels(subKernel => `const resultY_${ subKernel.name } = result_${subKernel.name}[z] = new Array(outputY);\\n`).join('      ') }\n      for (let y = 0; y < outputY; y++) {\n        const resultX = resultY[y] = new ${constructorString}(outputX);\n        ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = resultY_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('        ') }\n      }\n    }`;\n  }\n\n  _resultMutableKernel3DLoop(kernelString) {\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    for (let z = 0; z < outputZ; z++) {\n      this.thread.z = z;\n      const resultY = result[z];\n      for (let y = 0; y < outputY; y++) {\n        this.thread.y = y;\n        const resultX = resultY[y];\n        for (let x = 0; x < outputX; x++) {\n          this.thread.x = x;\n          ${ kernelString }\n        }\n      }\n    }`;\n  }\n\n  _kernelOutput() {\n    if (!this.subKernels) {\n      return '\\n    return result;';\n    }\n    return `\\n    return {\n      result: result,\n      ${ this.subKernels.map(subKernel => `${ subKernel.property }: result_${ subKernel.name }`).join(',\\n      ') }\n    };`;\n  }\n\n  _mapSubKernels(fn) {\n    return this.subKernels === null ? [''] :\n      this.subKernels.map(fn);\n  }\n\n  destroy(removeCanvasReference) {\n    if (removeCanvasReference) {\n      delete this.canvas;\n    }\n  }\n\n  static destroyContext(context) {}\n\n  toJSON() {\n    const json = super.toJSON();\n    json.functionNodes = FunctionBuilder.fromKernel(this, CPUFunctionNode).toJSON();\n    return json;\n  }\n\n  setOutput(output) {\n    super.setOutput(output);\n    const [width, height] = this.output;\n    if (this.graphical) {\n      this._imageData = this.context.createImageData(width, height);\n      this._colorData = new Uint8ClampedArray(width * height * 4);\n    }\n  }\n\n  prependString(value) {\n    if (this._kernelString) throw new Error('Kernel already built');\n    this._prependedString.push(value);\n  }\n\n  hasPrependString(value) {\n    return this._prependedString.indexOf(value) > -1;\n  }\n}\n\nmodule.exports = {\n  CPUKernel\n};\n},{\"../../utils\":114,\"../function-builder\":9,\"../kernel\":36,\"./function-node\":6,\"./kernel-string\":7}],9:[function(require,module,exports){\nclass FunctionBuilder {\n  static fromKernel(kernel, FunctionNode, extraNodeOptions) {\n    const {\n      kernelArguments,\n      kernelConstants,\n      argumentNames,\n      argumentSizes,\n      argumentBitRatios,\n      constants,\n      constantBitRatios,\n      debug,\n      loopMaxIterations,\n      nativeFunctions,\n      output,\n      optimizeFloatMemory,\n      precision,\n      plugins,\n      source,\n      subKernels,\n      functions,\n      leadingReturnStatement,\n      followingReturnStatement,\n      dynamicArguments,\n      dynamicOutput,\n    } = kernel;\n\n    const argumentTypes = new Array(kernelArguments.length);\n    const constantTypes = {};\n\n    for (let i = 0; i < kernelArguments.length; i++) {\n      argumentTypes[i] = kernelArguments[i].type;\n    }\n\n    for (let i = 0; i < kernelConstants.length; i++) {\n      const kernelConstant = kernelConstants[i];\n      constantTypes[kernelConstant.name] = kernelConstant.type;\n    }\n\n    const needsArgumentType = (functionName, index) => {\n      return functionBuilder.needsArgumentType(functionName, index);\n    };\n\n    const assignArgumentType = (functionName, index, type) => {\n      functionBuilder.assignArgumentType(functionName, index, type);\n    };\n\n    const lookupReturnType = (functionName, ast, requestingNode) => {\n      return functionBuilder.lookupReturnType(functionName, ast, requestingNode);\n    };\n\n    const lookupFunctionArgumentTypes = (functionName) => {\n      return functionBuilder.lookupFunctionArgumentTypes(functionName);\n    };\n\n    const lookupFunctionArgumentName = (functionName, argumentIndex) => {\n      return functionBuilder.lookupFunctionArgumentName(functionName, argumentIndex);\n    };\n\n    const lookupFunctionArgumentBitRatio = (functionName, argumentName) => {\n      return functionBuilder.lookupFunctionArgumentBitRatio(functionName, argumentName);\n    };\n\n    const triggerImplyArgumentType = (functionName, i, argumentType, requestingNode) => {\n      functionBuilder.assignArgumentType(functionName, i, argumentType, requestingNode);\n    };\n\n    const triggerImplyArgumentBitRatio = (functionName, argumentName, calleeFunctionName, argumentIndex) => {\n      functionBuilder.assignArgumentBitRatio(functionName, argumentName, calleeFunctionName, argumentIndex);\n    };\n\n    const onFunctionCall = (functionName, calleeFunctionName, args) => {\n      functionBuilder.trackFunctionCall(functionName, calleeFunctionName, args);\n    };\n\n    const onNestedFunction = (ast, source) => {\n      const argumentNames = [];\n      for (let i = 0; i < ast.params.length; i++) {\n        argumentNames.push(ast.params[i].name);\n      }\n      const nestedFunction = new FunctionNode(source, Object.assign({}, nodeOptions, {\n        returnType: null,\n        ast,\n        name: ast.id.name,\n        argumentNames,\n        lookupReturnType,\n        lookupFunctionArgumentTypes,\n        lookupFunctionArgumentName,\n        lookupFunctionArgumentBitRatio,\n        needsArgumentType,\n        assignArgumentType,\n        triggerImplyArgumentType,\n        triggerImplyArgumentBitRatio,\n        onFunctionCall,\n      }));\n      nestedFunction.traceFunctionAST(ast);\n      functionBuilder.addFunctionNode(nestedFunction);\n    };\n\n    const nodeOptions = Object.assign({\n      isRootKernel: false,\n      onNestedFunction,\n      lookupReturnType,\n      lookupFunctionArgumentTypes,\n      lookupFunctionArgumentName,\n      lookupFunctionArgumentBitRatio,\n      needsArgumentType,\n      assignArgumentType,\n      triggerImplyArgumentType,\n      triggerImplyArgumentBitRatio,\n      onFunctionCall,\n      optimizeFloatMemory,\n      precision,\n      constants,\n      constantTypes,\n      constantBitRatios,\n      debug,\n      loopMaxIterations,\n      output,\n      plugins,\n      dynamicArguments,\n      dynamicOutput,\n    }, extraNodeOptions || {});\n\n    const rootNodeOptions = Object.assign({}, nodeOptions, {\n      isRootKernel: true,\n      name: 'kernel',\n      argumentNames,\n      argumentTypes,\n      argumentSizes,\n      argumentBitRatios,\n      leadingReturnStatement,\n      followingReturnStatement,\n    });\n\n    if (typeof source === 'object' && source.functionNodes) {\n      return new FunctionBuilder().fromJSON(source.functionNodes, FunctionNode);\n    }\n\n    const rootNode = new FunctionNode(source, rootNodeOptions);\n\n    let functionNodes = null;\n    if (functions) {\n      functionNodes = functions.map((fn) => new FunctionNode(fn.source, {\n        returnType: fn.returnType,\n        argumentTypes: fn.argumentTypes,\n        output,\n        plugins,\n        constants,\n        constantTypes,\n        constantBitRatios,\n        optimizeFloatMemory,\n        precision,\n        lookupReturnType,\n        lookupFunctionArgumentTypes,\n        lookupFunctionArgumentName,\n        lookupFunctionArgumentBitRatio,\n        needsArgumentType,\n        assignArgumentType,\n        triggerImplyArgumentType,\n        triggerImplyArgumentBitRatio,\n        onFunctionCall,\n        onNestedFunction,\n      }));\n    }\n\n    let subKernelNodes = null;\n    if (subKernels) {\n      subKernelNodes = subKernels.map((subKernel) => {\n        const { name, source } = subKernel;\n        return new FunctionNode(source, Object.assign({}, nodeOptions, {\n          name,\n          isSubKernel: true,\n          isRootKernel: false,\n        }));\n      });\n    }\n\n    const functionBuilder = new FunctionBuilder({\n      kernel,\n      rootNode,\n      functionNodes,\n      nativeFunctions,\n      subKernelNodes\n    });\n\n    return functionBuilder;\n  }\n\n  constructor(settings) {\n    settings = settings || {};\n    this.kernel = settings.kernel;\n    this.rootNode = settings.rootNode;\n    this.functionNodes = settings.functionNodes || [];\n    this.subKernelNodes = settings.subKernelNodes || [];\n    this.nativeFunctions = settings.nativeFunctions || [];\n    this.functionMap = {};\n    this.nativeFunctionNames = [];\n    this.lookupChain = [];\n    this.functionNodeDependencies = {};\n    this.functionCalls = {};\n\n    if (this.rootNode) {\n      this.functionMap['kernel'] = this.rootNode;\n    }\n\n    if (this.functionNodes) {\n      for (let i = 0; i < this.functionNodes.length; i++) {\n        this.functionMap[this.functionNodes[i].name] = this.functionNodes[i];\n      }\n    }\n\n    if (this.subKernelNodes) {\n      for (let i = 0; i < this.subKernelNodes.length; i++) {\n        this.functionMap[this.subKernelNodes[i].name] = this.subKernelNodes[i];\n      }\n    }\n\n    if (this.nativeFunctions) {\n      for (let i = 0; i < this.nativeFunctions.length; i++) {\n        const nativeFunction = this.nativeFunctions[i];\n        this.nativeFunctionNames.push(nativeFunction.name);\n      }\n    }\n  }\n\n  addFunctionNode(functionNode) {\n    if (!functionNode.name) throw new Error('functionNode.name needs set');\n    this.functionMap[functionNode.name] = functionNode;\n    if (functionNode.isRootKernel) {\n      this.rootNode = functionNode;\n    }\n  }\n\n  traceFunctionCalls(functionName, retList) {\n    functionName = functionName || 'kernel';\n    retList = retList || [];\n\n    if (this.nativeFunctionNames.indexOf(functionName) > -1) {\n      const nativeFunctionIndex = retList.indexOf(functionName);\n      if (nativeFunctionIndex === -1) {\n        retList.push(functionName);\n      } else {\n        const dependantNativeFunctionName = retList.splice(nativeFunctionIndex, 1)[0];\n        retList.push(dependantNativeFunctionName);\n      }\n      return retList;\n    }\n\n    const functionNode = this.functionMap[functionName];\n    if (functionNode) {\n      const functionIndex = retList.indexOf(functionName);\n      if (functionIndex === -1) {\n        retList.push(functionName);\n        functionNode.toString(); \n        for (let i = 0; i < functionNode.calledFunctions.length; ++i) {\n          this.traceFunctionCalls(functionNode.calledFunctions[i], retList);\n        }\n      } else {\n        const dependantFunctionName = retList.splice(functionIndex, 1)[0];\n        retList.push(dependantFunctionName);\n      }\n    }\n\n    return retList;\n  }\n\n  getPrototypeString(functionName) {\n    return this.getPrototypes(functionName).join('\\n');\n  }\n\n  getPrototypes(functionName) {\n    if (this.rootNode) {\n      this.rootNode.toString();\n    }\n    if (functionName) {\n      return this.getPrototypesFromFunctionNames(this.traceFunctionCalls(functionName, []).reverse());\n    }\n    return this.getPrototypesFromFunctionNames(Object.keys(this.functionMap));\n  }\n\n  getStringFromFunctionNames(functionList) {\n    const ret = [];\n    for (let i = 0; i < functionList.length; ++i) {\n      const node = this.functionMap[functionList[i]];\n      if (node) {\n        ret.push(this.functionMap[functionList[i]].toString());\n      }\n    }\n    return ret.join('\\n');\n  }\n\n  getPrototypesFromFunctionNames(functionList) {\n    const ret = [];\n    for (let i = 0; i < functionList.length; ++i) {\n      const functionName = functionList[i];\n      const functionIndex = this.nativeFunctionNames.indexOf(functionName);\n      if (functionIndex > -1) {\n        ret.push(this.nativeFunctions[functionIndex].source);\n        continue;\n      }\n      const node = this.functionMap[functionName];\n      if (node) {\n        ret.push(node.toString());\n      }\n    }\n    return ret;\n  }\n\n  toJSON() {\n    return this.traceFunctionCalls(this.rootNode.name).reverse().map(name => {\n      const nativeIndex = this.nativeFunctions.indexOf(name);\n      if (nativeIndex > -1) {\n        return {\n          name,\n          source: this.nativeFunctions[nativeIndex].source\n        };\n      } else if (this.functionMap[name]) {\n        return this.functionMap[name].toJSON();\n      } else {\n        throw new Error(`function ${ name } not found`);\n      }\n    });\n  }\n\n  fromJSON(jsonFunctionNodes, FunctionNode) {\n    this.functionMap = {};\n    for (let i = 0; i < jsonFunctionNodes.length; i++) {\n      const jsonFunctionNode = jsonFunctionNodes[i];\n      this.functionMap[jsonFunctionNode.settings.name] = new FunctionNode(jsonFunctionNode.ast, jsonFunctionNode.settings);\n    }\n    return this;\n  }\n\n  getString(functionName) {\n    if (functionName) {\n      return this.getStringFromFunctionNames(this.traceFunctionCalls(functionName).reverse());\n    }\n    return this.getStringFromFunctionNames(Object.keys(this.functionMap));\n  }\n\n  lookupReturnType(functionName, ast, requestingNode) {\n    if (ast.type !== 'CallExpression') {\n      throw new Error(`expected ast type of \"CallExpression\", but is ${ ast.type }`);\n    }\n    if (this._isNativeFunction(functionName)) {\n      return this._lookupNativeFunctionReturnType(functionName);\n    } else if (this._isFunction(functionName)) {\n      const node = this._getFunction(functionName);\n      if (node.returnType) {\n        return node.returnType;\n      } else {\n        for (let i = 0; i < this.lookupChain.length; i++) {\n          if (this.lookupChain[i].ast === ast) {\n            if (node.argumentTypes.length === 0 && ast.arguments.length > 0) {\n              const args = ast.arguments;\n              for (let j = 0; j < args.length; j++) {\n                this.lookupChain.push({\n                  name: requestingNode.name,\n                  ast: args[i],\n                  requestingNode\n                });\n                node.argumentTypes[j] = requestingNode.getType(args[j]);\n                this.lookupChain.pop();\n              }\n              return node.returnType = node.getType(node.getJsAST());\n            }\n\n            throw new Error('circlical logic detected!');\n          }\n        }\n        this.lookupChain.push({\n          name: requestingNode.name,\n          ast,\n          requestingNode\n        });\n        const type = node.getType(node.getJsAST());\n        this.lookupChain.pop();\n        return node.returnType = type;\n      }\n    }\n\n    return null;\n  }\n\n  _getFunction(functionName) {\n    if (!this._isFunction(functionName)) {\n      new Error(`Function ${functionName} not found`);\n    }\n    return this.functionMap[functionName];\n  }\n\n  _isFunction(functionName) {\n    return Boolean(this.functionMap[functionName]);\n  }\n\n  _getNativeFunction(functionName) {\n    for (let i = 0; i < this.nativeFunctions.length; i++) {\n      if (this.nativeFunctions[i].name === functionName) return this.nativeFunctions[i];\n    }\n    return null;\n  }\n\n  _isNativeFunction(functionName) {\n    return Boolean(this._getNativeFunction(functionName));\n  }\n\n  _lookupNativeFunctionReturnType(functionName) {\n    let nativeFunction = this._getNativeFunction(functionName);\n    if (nativeFunction) {\n      return nativeFunction.returnType;\n    }\n    throw new Error(`Native function ${ functionName } not found`);\n  }\n\n  lookupFunctionArgumentTypes(functionName) {\n    if (this._isNativeFunction(functionName)) {\n      return this._getNativeFunction(functionName).argumentTypes;\n    } else if (this._isFunction(functionName)) {\n      return this._getFunction(functionName).argumentTypes;\n    }\n    return null;\n  }\n\n  lookupFunctionArgumentName(functionName, argumentIndex) {\n    return this._getFunction(functionName).argumentNames[argumentIndex];\n  }\n\n  lookupFunctionArgumentBitRatio(functionName, argumentName) {\n    if (!this._isFunction(functionName)) {\n      throw new Error('function not found');\n    }\n    if (this.rootNode.name === functionName) {\n      const i = this.rootNode.argumentNames.indexOf(argumentName);\n      if (i !== -1) {\n        return this.rootNode.argumentBitRatios[i];\n      }\n    }\n    const node = this._getFunction(functionName);\n    const i = node.argumentNames.indexOf(argumentName);\n    if (i === -1) {\n      throw new Error('argument not found');\n    }\n    const bitRatio = node.argumentBitRatios[i];\n    if (typeof bitRatio !== 'number') {\n      throw new Error('argument bit ratio not found');\n    }\n    return bitRatio;\n  }\n\n  needsArgumentType(functionName, i) {\n    if (!this._isFunction(functionName)) return false;\n    const fnNode = this._getFunction(functionName);\n    return !fnNode.argumentTypes[i];\n  }\n\n  assignArgumentType(functionName, i, argumentType, requestingNode) {\n    if (!this._isFunction(functionName)) return;\n    const fnNode = this._getFunction(functionName);\n    if (!fnNode.argumentTypes[i]) {\n      fnNode.argumentTypes[i] = argumentType;\n    }\n  }\n\n  assignArgumentBitRatio(functionName, argumentName, calleeFunctionName, argumentIndex) {\n    const node = this._getFunction(functionName);\n    if (this._isNativeFunction(calleeFunctionName)) return null;\n    const calleeNode = this._getFunction(calleeFunctionName);\n    const i = node.argumentNames.indexOf(argumentName);\n    if (i === -1) {\n      throw new Error(`Argument ${argumentName} not found in arguments from function ${functionName}`);\n    }\n    const bitRatio = node.argumentBitRatios[i];\n    if (typeof bitRatio !== 'number') {\n      throw new Error(`Bit ratio for argument ${argumentName} not found in function ${functionName}`);\n    }\n    if (!calleeNode.argumentBitRatios) {\n      calleeNode.argumentBitRatios = new Array(calleeNode.argumentNames.length);\n    }\n    const calleeBitRatio = calleeNode.argumentBitRatios[i];\n    if (typeof calleeBitRatio === 'number') {\n      if (calleeBitRatio !== bitRatio) {\n        throw new Error(`Incompatible bit ratio found at function ${functionName} at argument ${argumentName}`);\n      }\n      return calleeBitRatio;\n    }\n    calleeNode.argumentBitRatios[i] = bitRatio;\n    return bitRatio;\n  }\n\n  trackFunctionCall(functionName, calleeFunctionName, args) {\n    if (!this.functionNodeDependencies[functionName]) {\n      this.functionNodeDependencies[functionName] = new Set();\n      this.functionCalls[functionName] = [];\n    }\n    this.functionNodeDependencies[functionName].add(calleeFunctionName);\n    this.functionCalls[functionName].push(args);\n  }\n\n  getKernelResultType() {\n    return this.rootNode.returnType || this.rootNode.getType(this.rootNode.ast);\n  }\n\n  getSubKernelResultType(index) {\n    const subKernelNode = this.subKernelNodes[index];\n    let called = false;\n    for (let functionCallIndex = 0; functionCallIndex < this.rootNode.functionCalls.length; functionCallIndex++) {\n      const functionCall = this.rootNode.functionCalls[functionCallIndex];\n      if (functionCall.ast.callee.name === subKernelNode.name) {\n        called = true;\n      }\n    }\n    if (!called) {\n      throw new Error(`SubKernel ${ subKernelNode.name } never called by kernel`);\n    }\n    return subKernelNode.returnType || subKernelNode.getType(subKernelNode.getJsAST());\n  }\n\n  getReturnTypes() {\n    const result = {\n      [this.rootNode.name]: this.rootNode.getType(this.rootNode.ast),\n    };\n    const list = this.traceFunctionCalls(this.rootNode.name);\n    for (let i = 0; i < list.length; i++) {\n      const functionName = list[i];\n      const functionNode = this.functionMap[functionName];\n      result[functionName] = functionNode.getType(functionNode.ast);\n    }\n    return result;\n  }\n}\n\nmodule.exports = {\n  FunctionBuilder\n};\n},{}],10:[function(require,module,exports){\nconst acorn = require('acorn');\nconst { utils } = require('../utils');\nconst { FunctionTracer } = require('./function-tracer');\n\nclass FunctionNode {\n  constructor(source, settings) {\n    if (!source && !settings.ast) {\n      throw new Error('source parameter is missing');\n    }\n    settings = settings || {};\n    this.source = source;\n    this.ast = null;\n    this.name = typeof source === 'string' ? settings.isRootKernel ?\n      'kernel' :\n      (settings.name || utils.getFunctionNameFromString(source)) : null;\n    this.calledFunctions = [];\n    this.constants = {};\n    this.constantTypes = {};\n    this.constantBitRatios = {};\n    this.isRootKernel = false;\n    this.isSubKernel = false;\n    this.debug = null;\n    this.functions = null;\n    this.identifiers = null;\n    this.contexts = null;\n    this.functionCalls = null;\n    this.states = [];\n    this.needsArgumentType = null;\n    this.assignArgumentType = null;\n    this.lookupReturnType = null;\n    this.lookupFunctionArgumentTypes = null;\n    this.lookupFunctionArgumentBitRatio = null;\n    this.triggerImplyArgumentType = null;\n    this.triggerImplyArgumentBitRatio = null;\n    this.onNestedFunction = null;\n    this.onFunctionCall = null;\n    this.optimizeFloatMemory = null;\n    this.precision = null;\n    this.loopMaxIterations = null;\n    this.argumentNames = (typeof this.source === 'string' ? utils.getArgumentNamesFromString(this.source) : null);\n    this.argumentTypes = [];\n    this.argumentSizes = [];\n    this.argumentBitRatios = null;\n    this.returnType = null;\n    this.output = [];\n    this.plugins = null;\n    this.leadingReturnStatement = null;\n    this.followingReturnStatement = null;\n    this.dynamicOutput = null;\n    this.dynamicArguments = null;\n    this.strictTypingChecking = false;\n    this.fixIntegerDivisionAccuracy = null;\n\n    if (settings) {\n      for (const p in settings) {\n        if (!settings.hasOwnProperty(p)) continue;\n        if (!this.hasOwnProperty(p)) continue;\n        this[p] = settings[p];\n      }\n    }\n\n    this.literalTypes = {};\n\n    this.validate();\n    this._string = null;\n    this._internalVariableNames = {};\n  }\n\n  validate() {\n    if (typeof this.source !== 'string' && !this.ast) {\n      throw new Error('this.source not a string');\n    }\n\n    if (!this.ast && !utils.isFunctionString(this.source)) {\n      throw new Error('this.source not a function string');\n    }\n\n    if (!this.name) {\n      throw new Error('this.name could not be set');\n    }\n\n    if (this.argumentTypes.length > 0 && this.argumentTypes.length !== this.argumentNames.length) {\n      throw new Error(`argumentTypes count of ${ this.argumentTypes.length } exceeds ${ this.argumentNames.length }`);\n    }\n\n    if (this.output.length < 1) {\n      throw new Error('this.output is not big enough');\n    }\n  }\n\n  isIdentifierConstant(name) {\n    if (!this.constants) return false;\n    return this.constants.hasOwnProperty(name);\n  }\n\n  isInput(argumentName) {\n    return this.argumentTypes[this.argumentNames.indexOf(argumentName)] === 'Input';\n  }\n\n  pushState(state) {\n    this.states.push(state);\n  }\n\n  popState(state) {\n    if (this.state !== state) {\n      throw new Error(`Cannot popState ${ state } when in ${ this.state }`);\n    }\n    this.states.pop();\n  }\n\n  isState(state) {\n    return this.state === state;\n  }\n\n  get state() {\n    return this.states[this.states.length - 1];\n  }\n\n  astMemberExpressionUnroll(ast) {\n    if (ast.type === 'Identifier') {\n      return ast.name;\n    } else if (ast.type === 'ThisExpression') {\n      return 'this';\n    }\n\n    if (ast.type === 'MemberExpression') {\n      if (ast.object && ast.property) {\n        if (ast.object.hasOwnProperty('name') && ast.object.name !== 'Math') {\n          return this.astMemberExpressionUnroll(ast.property);\n        }\n\n        return (\n          this.astMemberExpressionUnroll(ast.object) +\n          '.' +\n          this.astMemberExpressionUnroll(ast.property)\n        );\n      }\n    }\n\n    if (ast.hasOwnProperty('expressions')) {\n      const firstExpression = ast.expressions[0];\n      if (firstExpression.type === 'Literal' && firstExpression.value === 0 && ast.expressions.length === 2) {\n        return this.astMemberExpressionUnroll(ast.expressions[1]);\n      }\n    }\n\n    throw this.astErrorOutput('Unknown astMemberExpressionUnroll', ast);\n  }\n\n  getJsAST(inParser) {\n    if (this.ast) {\n      return this.ast;\n    }\n    if (typeof this.source === 'object') {\n      this.traceFunctionAST(this.source);\n      return this.ast = this.source;\n    }\n\n    inParser = inParser || acorn;\n    if (inParser === null) {\n      throw new Error('Missing JS to AST parser');\n    }\n\n    const ast = Object.freeze(inParser.parse(`const parser_${ this.name } = ${ this.source };`, {\n      locations: true\n    }));\n    const functionAST = ast.body[0].declarations[0].init;\n    this.traceFunctionAST(functionAST);\n\n    if (!ast) {\n      throw new Error('Failed to parse JS code');\n    }\n\n    return this.ast = functionAST;\n  }\n\n  traceFunctionAST(ast) {\n    const { contexts, declarations, functions, identifiers, functionCalls } = new FunctionTracer(ast);\n    this.contexts = contexts;\n    this.identifiers = identifiers;\n    this.functionCalls = functionCalls;\n    this.functions = functions;\n    for (let i = 0; i < declarations.length; i++) {\n      const declaration = declarations[i];\n      const { ast, inForLoopInit, inForLoopTest } = declaration;\n      const { init } = ast;\n      const dependencies = this.getDependencies(init);\n      let valueType = null;\n\n      if (inForLoopInit && inForLoopTest) {\n        valueType = 'Integer';\n      } else {\n        if (init) {\n          const realType = this.getType(init);\n          switch (realType) {\n            case 'Integer':\n            case 'Float':\n            case 'Number':\n              if (init.type === 'MemberExpression') {\n                valueType = realType;\n              } else {\n                valueType = 'Number';\n              }\n              break;\n            case 'LiteralInteger':\n              valueType = 'Number';\n              break;\n            default:\n              valueType = realType;\n          }\n        }\n      }\n      declaration.valueType = valueType;\n      declaration.dependencies = dependencies;\n      declaration.isSafe = this.isSafeDependencies(dependencies);\n    }\n\n    for (let i = 0; i < functions.length; i++) {\n      this.onNestedFunction(functions[i], this.source);\n    }\n  }\n\n  getDeclaration(ast) {\n    for (let i = 0; i < this.identifiers.length; i++) {\n      const identifier = this.identifiers[i];\n      if (ast === identifier.ast) {\n        return identifier.declaration;\n      }\n    }\n    return null;\n  }\n\n  getVariableType(ast) {\n    if (ast.type !== 'Identifier') {\n      throw new Error(`ast of ${ast.type} not \"Identifier\"`);\n    }\n    let type = null;\n    const argumentIndex = this.argumentNames.indexOf(ast.name);\n    if (argumentIndex === -1) {\n      const declaration = this.getDeclaration(ast);\n      if (declaration) {\n        return declaration.valueType;\n      }\n    } else {\n      const argumentType = this.argumentTypes[argumentIndex];\n      if (argumentType) {\n        type = argumentType;\n      }\n    }\n    if (!type && this.strictTypingChecking) {\n      throw new Error(`Declaration of ${name} not found`);\n    }\n    return type;\n  }\n\n  getLookupType(type) {\n    if (!typeLookupMap.hasOwnProperty(type)) {\n      throw new Error(`unknown typeLookupMap ${ type }`);\n    }\n    return typeLookupMap[type];\n  }\n\n  getConstantType(constantName) {\n    if (this.constantTypes[constantName]) {\n      const type = this.constantTypes[constantName];\n      if (type === 'Float') {\n        return 'Number';\n      } else {\n        return type;\n      }\n    }\n    throw new Error(`Type for constant \"${ constantName }\" not declared`);\n  }\n\n  toString() {\n    if (this._string) return this._string;\n    return this._string = this.astGeneric(this.getJsAST(), []).join('').trim();\n  }\n\n  toJSON() {\n    const settings = {\n      source: this.source,\n      name: this.name,\n      constants: this.constants,\n      constantTypes: this.constantTypes,\n      isRootKernel: this.isRootKernel,\n      isSubKernel: this.isSubKernel,\n      debug: this.debug,\n      output: this.output,\n      loopMaxIterations: this.loopMaxIterations,\n      argumentNames: this.argumentNames,\n      argumentTypes: this.argumentTypes,\n      argumentSizes: this.argumentSizes,\n      returnType: this.returnType,\n      leadingReturnStatement: this.leadingReturnStatement,\n      followingReturnStatement: this.followingReturnStatement,\n    };\n\n    return {\n      ast: this.ast,\n      settings\n    };\n  }\n\n  getType(ast) {\n    if (Array.isArray(ast)) {\n      return this.getType(ast[ast.length - 1]);\n    }\n    switch (ast.type) {\n      case 'BlockStatement':\n        return this.getType(ast.body);\n      case 'ArrayExpression':\n        const childType = this.getType(ast.elements[0]);\n        switch (childType) {\n          case 'Array(2)':\n          case 'Array(3)':\n          case 'Array(4)':\n            return `Matrix(${ast.elements.length})`;\n        }\n        return `Array(${ ast.elements.length })`;\n      case 'Literal':\n        const literalKey = this.astKey(ast);\n        if (this.literalTypes[literalKey]) {\n          return this.literalTypes[literalKey];\n        }\n        if (Number.isInteger(ast.value)) {\n          return 'LiteralInteger';\n        } else if (ast.value === true || ast.value === false) {\n          return 'Boolean';\n        } else {\n          return 'Number';\n        }\n        case 'AssignmentExpression':\n          return this.getType(ast.left);\n        case 'CallExpression':\n          if (this.isAstMathFunction(ast)) {\n            return 'Number';\n          }\n          if (!ast.callee || !ast.callee.name) {\n            if (ast.callee.type === 'SequenceExpression' && ast.callee.expressions[ast.callee.expressions.length - 1].property.name) {\n              const functionName = ast.callee.expressions[ast.callee.expressions.length - 1].property.name;\n              this.inferArgumentTypesIfNeeded(functionName, ast.arguments);\n              return this.lookupReturnType(functionName, ast, this);\n            }\n            if (this.getVariableSignature(ast.callee, true) === 'this.color') {\n              return null;\n            }\n            if (ast.callee.type === 'MemberExpression' && ast.callee.object && ast.callee.property && ast.callee.property.name && ast.arguments) {\n              const functionName = ast.callee.property.name;\n              this.inferArgumentTypesIfNeeded(functionName, ast.arguments);\n              return this.lookupReturnType(functionName, ast, this);\n            }\n            throw this.astErrorOutput('Unknown call expression', ast);\n          }\n          if (ast.callee && ast.callee.name) {\n            const functionName = ast.callee.name;\n            this.inferArgumentTypesIfNeeded(functionName, ast.arguments);\n            return this.lookupReturnType(functionName, ast, this);\n          }\n          throw this.astErrorOutput(`Unhandled getType Type \"${ ast.type }\"`, ast);\n        case 'LogicalExpression':\n          return 'Boolean';\n        case 'BinaryExpression':\n          switch (ast.operator) {\n            case '%':\n            case '/':\n              if (this.fixIntegerDivisionAccuracy) {\n                return 'Number';\n              } else {\n                break;\n              }\n              case '>':\n              case '<':\n                return 'Boolean';\n              case '&':\n              case '|':\n              case '^':\n              case '<<':\n              case '>>':\n              case '>>>':\n                return 'Integer';\n          }\n          const type = this.getType(ast.left);\n          if (this.isState('skip-literal-correction')) return type;\n          if (type === 'LiteralInteger') {\n            const rightType = this.getType(ast.right);\n            if (rightType === 'LiteralInteger') {\n              if (ast.left.value % 1 === 0) {\n                return 'Integer';\n              } else {\n                return 'Float';\n              }\n            }\n            return rightType;\n          }\n          return typeLookupMap[type] || type;\n        case 'UpdateExpression':\n          return this.getType(ast.argument);\n        case 'UnaryExpression':\n          if (ast.operator === '~') {\n            return 'Integer';\n          }\n          return this.getType(ast.argument);\n        case 'VariableDeclaration': {\n          const declarations = ast.declarations;\n          let lastType;\n          for (let i = 0; i < declarations.length; i++) {\n            const declaration = declarations[i];\n            lastType = this.getType(declaration);\n          }\n          if (!lastType) {\n            throw this.astErrorOutput(`Unable to find type for declaration`, ast);\n          }\n          return lastType;\n        }\n        case 'VariableDeclarator':\n          const declaration = this.getDeclaration(ast.id);\n          if (!declaration) {\n            throw this.astErrorOutput(`Unable to find declarator`, ast);\n          }\n\n          if (!declaration.valueType) {\n            throw this.astErrorOutput(`Unable to find declarator valueType`, ast);\n          }\n\n          return declaration.valueType;\n        case 'Identifier':\n          if (ast.name === 'Infinity') {\n            return 'Number';\n          }\n          if (this.isAstVariable(ast)) {\n            const signature = this.getVariableSignature(ast);\n            if (signature === 'value') {\n              return this.getCheckVariableType(ast);\n            }\n          }\n          const origin = this.findIdentifierOrigin(ast);\n          if (origin && origin.init) {\n            return this.getType(origin.init);\n          }\n          return null;\n        case 'ReturnStatement':\n          return this.getType(ast.argument);\n        case 'MemberExpression':\n          if (this.isAstMathFunction(ast)) {\n            switch (ast.property.name) {\n              case 'ceil':\n                return 'Integer';\n              case 'floor':\n                return 'Integer';\n              case 'round':\n                return 'Integer';\n            }\n            return 'Number';\n          }\n          if (this.isAstVariable(ast)) {\n            const variableSignature = this.getVariableSignature(ast);\n            switch (variableSignature) {\n              case 'value[]':\n                return this.getLookupType(this.getCheckVariableType(ast.object));\n              case 'value[][]':\n                return this.getLookupType(this.getCheckVariableType(ast.object.object));\n              case 'value[][][]':\n                return this.getLookupType(this.getCheckVariableType(ast.object.object.object));\n              case 'value[][][][]':\n                return this.getLookupType(this.getCheckVariableType(ast.object.object.object.object));\n              case 'value.thread.value':\n              case 'this.thread.value':\n                return 'Integer';\n              case 'this.output.value':\n                return this.dynamicOutput ? 'Integer' : 'LiteralInteger';\n              case 'this.constants.value':\n                return this.getConstantType(ast.property.name);\n              case 'this.constants.value[]':\n                return this.getLookupType(this.getConstantType(ast.object.property.name));\n              case 'this.constants.value[][]':\n                return this.getLookupType(this.getConstantType(ast.object.object.property.name));\n              case 'this.constants.value[][][]':\n                return this.getLookupType(this.getConstantType(ast.object.object.object.property.name));\n              case 'this.constants.value[][][][]':\n                return this.getLookupType(this.getConstantType(ast.object.object.object.object.property.name));\n              case 'fn()[]':\n              case 'fn()[][]':\n              case 'fn()[][][]':\n                return this.getLookupType(this.getType(ast.object));\n              case 'value.value':\n                if (this.isAstMathVariable(ast)) {\n                  return 'Number';\n                }\n                switch (ast.property.name) {\n                  case 'r':\n                  case 'g':\n                  case 'b':\n                  case 'a':\n                    return this.getLookupType(this.getCheckVariableType(ast.object));\n                }\n                case '[][]':\n                  return 'Number';\n            }\n            throw this.astErrorOutput('Unhandled getType MemberExpression', ast);\n          }\n          throw this.astErrorOutput('Unhandled getType MemberExpression', ast);\n        case 'ConditionalExpression':\n          return this.getType(ast.consequent);\n        case 'FunctionDeclaration':\n        case 'FunctionExpression':\n          const lastReturn = this.findLastReturn(ast.body);\n          if (lastReturn) {\n            return this.getType(lastReturn);\n          }\n          return null;\n        case 'IfStatement':\n          return this.getType(ast.consequent);\n        case 'SequenceExpression':\n          return this.getType(ast.expressions[ast.expressions.length - 1]);\n        default:\n          throw this.astErrorOutput(`Unhandled getType Type \"${ ast.type }\"`, ast);\n    }\n  }\n\n  getCheckVariableType(ast) {\n    const type = this.getVariableType(ast);\n    if (!type) {\n      throw this.astErrorOutput(`${ast.type} is not defined`, ast);\n    }\n    return type;\n  }\n\n  inferArgumentTypesIfNeeded(functionName, args) {\n    for (let i = 0; i < args.length; i++) {\n      if (!this.needsArgumentType(functionName, i)) continue;\n      const type = this.getType(args[i]);\n      if (!type) {\n        throw this.astErrorOutput(`Unable to infer argument ${i}`, args[i]);\n      }\n      this.assignArgumentType(functionName, i, type);\n    }\n  }\n\n  isAstMathVariable(ast) {\n    const mathProperties = [\n      'E',\n      'PI',\n      'SQRT2',\n      'SQRT1_2',\n      'LN2',\n      'LN10',\n      'LOG2E',\n      'LOG10E',\n    ];\n    return ast.type === 'MemberExpression' &&\n      ast.object && ast.object.type === 'Identifier' &&\n      ast.object.name === 'Math' &&\n      ast.property &&\n      ast.property.type === 'Identifier' &&\n      mathProperties.indexOf(ast.property.name) > -1;\n  }\n\n  isAstMathFunction(ast) {\n    const mathFunctions = [\n      'abs',\n      'acos',\n      'acosh',\n      'asin',\n      'asinh',\n      'atan',\n      'atan2',\n      'atanh',\n      'cbrt',\n      'ceil',\n      'clz32',\n      'cos',\n      'cosh',\n      'expm1',\n      'exp',\n      'floor',\n      'fround',\n      'imul',\n      'log',\n      'log2',\n      'log10',\n      'log1p',\n      'max',\n      'min',\n      'pow',\n      'random',\n      'round',\n      'sign',\n      'sin',\n      'sinh',\n      'sqrt',\n      'tan',\n      'tanh',\n      'trunc',\n    ];\n    return ast.type === 'CallExpression' &&\n      ast.callee &&\n      ast.callee.type === 'MemberExpression' &&\n      ast.callee.object &&\n      ast.callee.object.type === 'Identifier' &&\n      ast.callee.object.name === 'Math' &&\n      ast.callee.property &&\n      ast.callee.property.type === 'Identifier' &&\n      mathFunctions.indexOf(ast.callee.property.name) > -1;\n  }\n\n  isAstVariable(ast) {\n    return ast.type === 'Identifier' || ast.type === 'MemberExpression';\n  }\n\n  isSafe(ast) {\n    return this.isSafeDependencies(this.getDependencies(ast));\n  }\n\n  isSafeDependencies(dependencies) {\n    return dependencies && dependencies.every ? dependencies.every(dependency => dependency.isSafe) : true;\n  }\n\n  getDependencies(ast, dependencies, isNotSafe) {\n    if (!dependencies) {\n      dependencies = [];\n    }\n    if (!ast) return null;\n    if (Array.isArray(ast)) {\n      for (let i = 0; i < ast.length; i++) {\n        this.getDependencies(ast[i], dependencies, isNotSafe);\n      }\n      return dependencies;\n    }\n    switch (ast.type) {\n      case 'AssignmentExpression':\n        this.getDependencies(ast.left, dependencies, isNotSafe);\n        this.getDependencies(ast.right, dependencies, isNotSafe);\n        return dependencies;\n      case 'ConditionalExpression':\n        this.getDependencies(ast.test, dependencies, isNotSafe);\n        this.getDependencies(ast.alternate, dependencies, isNotSafe);\n        this.getDependencies(ast.consequent, dependencies, isNotSafe);\n        return dependencies;\n      case 'Literal':\n        dependencies.push({\n          origin: 'literal',\n          value: ast.value,\n          isSafe: isNotSafe === true ? false : ast.value > -Infinity && ast.value < Infinity && !isNaN(ast.value)\n        });\n        break;\n      case 'VariableDeclarator':\n        return this.getDependencies(ast.init, dependencies, isNotSafe);\n      case 'Identifier':\n        const declaration = this.getDeclaration(ast);\n        if (declaration) {\n          dependencies.push({\n            name: ast.name,\n            origin: 'declaration',\n            isSafe: isNotSafe ? false : this.isSafeDependencies(declaration.dependencies),\n          });\n        } else if (this.argumentNames.indexOf(ast.name) > -1) {\n          dependencies.push({\n            name: ast.name,\n            origin: 'argument',\n            isSafe: false,\n          });\n        } else if (this.strictTypingChecking) {\n          throw new Error(`Cannot find identifier origin \"${ast.name}\"`);\n        }\n        break;\n      case 'FunctionDeclaration':\n        return this.getDependencies(ast.body.body[ast.body.body.length - 1], dependencies, isNotSafe);\n      case 'ReturnStatement':\n        return this.getDependencies(ast.argument, dependencies);\n      case 'BinaryExpression':\n      case 'LogicalExpression':\n        isNotSafe = (ast.operator === '/' || ast.operator === '*');\n        this.getDependencies(ast.left, dependencies, isNotSafe);\n        this.getDependencies(ast.right, dependencies, isNotSafe);\n        return dependencies;\n      case 'UnaryExpression':\n      case 'UpdateExpression':\n        return this.getDependencies(ast.argument, dependencies, isNotSafe);\n      case 'VariableDeclaration':\n        return this.getDependencies(ast.declarations, dependencies, isNotSafe);\n      case 'ArrayExpression':\n        dependencies.push({\n          origin: 'declaration',\n          isSafe: true,\n        });\n        return dependencies;\n      case 'CallExpression':\n        dependencies.push({\n          origin: 'function',\n          isSafe: true,\n        });\n        return dependencies;\n      case 'MemberExpression':\n        const details = this.getMemberExpressionDetails(ast);\n        switch (details.signature) {\n          case 'value[]':\n            this.getDependencies(ast.object, dependencies, isNotSafe);\n            break;\n          case 'value[][]':\n            this.getDependencies(ast.object.object, dependencies, isNotSafe);\n            break;\n          case 'value[][][]':\n            this.getDependencies(ast.object.object.object, dependencies, isNotSafe);\n            break;\n          case 'this.output.value':\n            if (this.dynamicOutput) {\n              dependencies.push({\n                name: details.name,\n                origin: 'output',\n                isSafe: false,\n              });\n            }\n            break;\n        }\n        if (details) {\n          if (details.property) {\n            this.getDependencies(details.property, dependencies, isNotSafe);\n          }\n          if (details.xProperty) {\n            this.getDependencies(details.xProperty, dependencies, isNotSafe);\n          }\n          if (details.yProperty) {\n            this.getDependencies(details.yProperty, dependencies, isNotSafe);\n          }\n          if (details.zProperty) {\n            this.getDependencies(details.zProperty, dependencies, isNotSafe);\n          }\n          return dependencies;\n        }\n        case 'SequenceExpression':\n          return this.getDependencies(ast.expressions, dependencies, isNotSafe);\n        default:\n          throw this.astErrorOutput(`Unhandled type ${ ast.type } in getDependencies`, ast);\n    }\n    return dependencies;\n  }\n\n  getVariableSignature(ast, returnRawValue) {\n    if (!this.isAstVariable(ast)) {\n      throw new Error(`ast of type \"${ ast.type }\" is not a variable signature`);\n    }\n    if (ast.type === 'Identifier') {\n      return 'value';\n    }\n    const signature = [];\n    while (true) {\n      if (!ast) break;\n      if (ast.computed) {\n        signature.push('[]');\n      } else if (ast.type === 'ThisExpression') {\n        signature.unshift('this');\n      } else if (ast.property && ast.property.name) {\n        if (\n          ast.property.name === 'x' ||\n          ast.property.name === 'y' ||\n          ast.property.name === 'z'\n        ) {\n          signature.unshift(returnRawValue ? '.' + ast.property.name : '.value');\n        } else if (\n          ast.property.name === 'constants' ||\n          ast.property.name === 'thread' ||\n          ast.property.name === 'output'\n        ) {\n          signature.unshift('.' + ast.property.name);\n        } else {\n          signature.unshift(returnRawValue ? '.' + ast.property.name : '.value');\n        }\n      } else if (ast.name) {\n        signature.unshift(returnRawValue ? ast.name : 'value');\n      } else if (ast.callee && ast.callee.name) {\n        signature.unshift(returnRawValue ? ast.callee.name + '()' : 'fn()');\n      } else if (ast.elements) {\n        signature.unshift('[]');\n      } else {\n        signature.unshift('unknown');\n      }\n      ast = ast.object;\n    }\n\n    const signatureString = signature.join('');\n    if (returnRawValue) {\n      return signatureString;\n    }\n\n    const allowedExpressions = [\n      'value',\n      'value[]',\n      'value[][]',\n      'value[][][]',\n      'value[][][][]',\n      'value.value',\n      'value.thread.value',\n      'this.thread.value',\n      'this.output.value',\n      'this.constants.value',\n      'this.constants.value[]',\n      'this.constants.value[][]',\n      'this.constants.value[][][]',\n      'this.constants.value[][][][]',\n      'fn()[]',\n      'fn()[][]',\n      'fn()[][][]',\n      '[][]',\n    ];\n    if (allowedExpressions.indexOf(signatureString) > -1) {\n      return signatureString;\n    }\n    return null;\n  }\n\n  build() {\n    return this.toString().length > 0;\n  }\n\n  astGeneric(ast, retArr) {\n    if (ast === null) {\n      throw this.astErrorOutput('NULL ast', ast);\n    } else {\n      if (Array.isArray(ast)) {\n        for (let i = 0; i < ast.length; i++) {\n          this.astGeneric(ast[i], retArr);\n        }\n        return retArr;\n      }\n\n      switch (ast.type) {\n        case 'FunctionDeclaration':\n          return this.astFunctionDeclaration(ast, retArr);\n        case 'FunctionExpression':\n          return this.astFunctionExpression(ast, retArr);\n        case 'ReturnStatement':\n          return this.astReturnStatement(ast, retArr);\n        case 'Literal':\n          return this.astLiteral(ast, retArr);\n        case 'BinaryExpression':\n          return this.astBinaryExpression(ast, retArr);\n        case 'Identifier':\n          return this.astIdentifierExpression(ast, retArr);\n        case 'AssignmentExpression':\n          return this.astAssignmentExpression(ast, retArr);\n        case 'ExpressionStatement':\n          return this.astExpressionStatement(ast, retArr);\n        case 'EmptyStatement':\n          return this.astEmptyStatement(ast, retArr);\n        case 'BlockStatement':\n          return this.astBlockStatement(ast, retArr);\n        case 'IfStatement':\n          return this.astIfStatement(ast, retArr);\n        case 'SwitchStatement':\n          return this.astSwitchStatement(ast, retArr);\n        case 'BreakStatement':\n          return this.astBreakStatement(ast, retArr);\n        case 'ContinueStatement':\n          return this.astContinueStatement(ast, retArr);\n        case 'ForStatement':\n          return this.astForStatement(ast, retArr);\n        case 'WhileStatement':\n          return this.astWhileStatement(ast, retArr);\n        case 'DoWhileStatement':\n          return this.astDoWhileStatement(ast, retArr);\n        case 'VariableDeclaration':\n          return this.astVariableDeclaration(ast, retArr);\n        case 'VariableDeclarator':\n          return this.astVariableDeclarator(ast, retArr);\n        case 'ThisExpression':\n          return this.astThisExpression(ast, retArr);\n        case 'SequenceExpression':\n          return this.astSequenceExpression(ast, retArr);\n        case 'UnaryExpression':\n          return this.astUnaryExpression(ast, retArr);\n        case 'UpdateExpression':\n          return this.astUpdateExpression(ast, retArr);\n        case 'LogicalExpression':\n          return this.astLogicalExpression(ast, retArr);\n        case 'MemberExpression':\n          return this.astMemberExpression(ast, retArr);\n        case 'CallExpression':\n          return this.astCallExpression(ast, retArr);\n        case 'ArrayExpression':\n          return this.astArrayExpression(ast, retArr);\n        case 'DebuggerStatement':\n          return this.astDebuggerStatement(ast, retArr);\n        case 'ConditionalExpression':\n          return this.astConditionalExpression(ast, retArr);\n      }\n\n      throw this.astErrorOutput('Unknown ast type : ' + ast.type, ast);\n    }\n  }\n  astErrorOutput(error, ast) {\n    if (typeof this.source !== 'string') {\n      return new Error(error);\n    }\n\n    const debugString = utils.getAstString(this.source, ast);\n    const leadingSource = this.source.substr(ast.start);\n    const splitLines = leadingSource.split(/\\n/);\n    const lineBefore = splitLines.length > 0 ? splitLines[splitLines.length - 1] : 0;\n    return new Error(`${error} on line ${ splitLines.length }, position ${ lineBefore.length }:\\n ${ debugString }`);\n  }\n\n  astDebuggerStatement(arrNode, retArr) {\n    return retArr;\n  }\n\n  astConditionalExpression(ast, retArr) {\n    if (ast.type !== 'ConditionalExpression') {\n      throw this.astErrorOutput('Not a conditional expression', ast);\n    }\n    retArr.push('(');\n    this.astGeneric(ast.test, retArr);\n    retArr.push('?');\n    this.astGeneric(ast.consequent, retArr);\n    retArr.push(':');\n    this.astGeneric(ast.alternate, retArr);\n    retArr.push(')');\n    return retArr;\n  }\n\n  astFunction(ast, retArr) {\n    throw new Error(`\"astFunction\" not defined on ${ this.constructor.name }`);\n  }\n\n  astFunctionDeclaration(ast, retArr) {\n    if (this.isChildFunction(ast)) {\n      return retArr;\n    }\n    return this.astFunction(ast, retArr);\n  }\n  astFunctionExpression(ast, retArr) {\n    if (this.isChildFunction(ast)) {\n      return retArr;\n    }\n    return this.astFunction(ast, retArr);\n  }\n  isChildFunction(ast) {\n    for (let i = 0; i < this.functions.length; i++) {\n      if (this.functions[i] === ast) {\n        return true;\n      }\n    }\n    return false;\n  }\n  astReturnStatement(ast, retArr) {\n    return retArr;\n  }\n  astLiteral(ast, retArr) {\n    this.literalTypes[this.astKey(ast)] = 'Number';\n    return retArr;\n  }\n  astBinaryExpression(ast, retArr) {\n    return retArr;\n  }\n  astIdentifierExpression(ast, retArr) {\n    return retArr;\n  }\n  astAssignmentExpression(ast, retArr) {\n    return retArr;\n  }\n  astExpressionStatement(esNode, retArr) {\n    this.astGeneric(esNode.expression, retArr);\n    retArr.push(';');\n    return retArr;\n  }\n  astEmptyStatement(eNode, retArr) {\n    return retArr;\n  }\n  astBlockStatement(ast, retArr) {\n    return retArr;\n  }\n  astIfStatement(ast, retArr) {\n    return retArr;\n  }\n  astSwitchStatement(ast, retArr) {\n    return retArr;\n  }\n  astBreakStatement(brNode, retArr) {\n    retArr.push('break;');\n    return retArr;\n  }\n  astContinueStatement(crNode, retArr) {\n    retArr.push('continue;\\n');\n    return retArr;\n  }\n  astForStatement(ast, retArr) {\n    return retArr;\n  }\n  astWhileStatement(ast, retArr) {\n    return retArr;\n  }\n  astDoWhileStatement(ast, retArr) {\n    return retArr;\n  }\n  astVariableDeclarator(iVarDecNode, retArr) {\n    this.astGeneric(iVarDecNode.id, retArr);\n    if (iVarDecNode.init !== null) {\n      retArr.push('=');\n      this.astGeneric(iVarDecNode.init, retArr);\n    }\n    return retArr;\n  }\n  astThisExpression(ast, retArr) {\n    return retArr;\n  }\n  astSequenceExpression(sNode, retArr) {\n    const { expressions } = sNode;\n    const sequenceResult = [];\n    for (let i = 0; i < expressions.length; i++) {\n      const expression = expressions[i];\n      const expressionResult = [];\n      this.astGeneric(expression, expressionResult);\n      sequenceResult.push(expressionResult.join(''));\n    }\n    if (sequenceResult.length > 1) {\n      retArr.push('(', sequenceResult.join(','), ')');\n    } else {\n      retArr.push(sequenceResult[0]);\n    }\n    return retArr;\n  }\n  astUnaryExpression(uNode, retArr) {\n    const unaryResult = this.checkAndUpconvertBitwiseUnary(uNode, retArr);\n    if (unaryResult) {\n      return retArr;\n    }\n\n    if (uNode.prefix) {\n      retArr.push(uNode.operator);\n      this.astGeneric(uNode.argument, retArr);\n    } else {\n      this.astGeneric(uNode.argument, retArr);\n      retArr.push(uNode.operator);\n    }\n\n    return retArr;\n  }\n\n  checkAndUpconvertBitwiseUnary(uNode, retArr) {}\n\n  astUpdateExpression(uNode, retArr) {\n    if (uNode.prefix) {\n      retArr.push(uNode.operator);\n      this.astGeneric(uNode.argument, retArr);\n    } else {\n      this.astGeneric(uNode.argument, retArr);\n      retArr.push(uNode.operator);\n    }\n\n    return retArr;\n  }\n  astLogicalExpression(logNode, retArr) {\n    retArr.push('(');\n    this.astGeneric(logNode.left, retArr);\n    retArr.push(logNode.operator);\n    this.astGeneric(logNode.right, retArr);\n    retArr.push(')');\n    return retArr;\n  }\n  astMemberExpression(ast, retArr) {\n    return retArr;\n  }\n  astCallExpression(ast, retArr) {\n    return retArr;\n  }\n  astArrayExpression(ast, retArr) {\n    return retArr;\n  }\n\n  getMemberExpressionDetails(ast) {\n    if (ast.type !== 'MemberExpression') {\n      throw this.astErrorOutput(`Expression ${ ast.type } not a MemberExpression`, ast);\n    }\n    let name = null;\n    let type = null;\n    const variableSignature = this.getVariableSignature(ast);\n    switch (variableSignature) {\n      case 'value':\n        return null;\n      case 'value.thread.value':\n      case 'this.thread.value':\n      case 'this.output.value':\n        return {\n          signature: variableSignature,\n            type: 'Integer',\n            name: ast.property.name\n        };\n      case 'value[]':\n        if (typeof ast.object.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        name = ast.object.name;\n        return {\n          name,\n          origin: 'user',\n            signature: variableSignature,\n            type: this.getVariableType(ast.object),\n            xProperty: ast.property\n        };\n      case 'value[][]':\n        if (typeof ast.object.object.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        name = ast.object.object.name;\n        return {\n          name,\n          origin: 'user',\n            signature: variableSignature,\n            type: this.getVariableType(ast.object.object),\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n        };\n      case 'value[][][]':\n        if (typeof ast.object.object.object.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        name = ast.object.object.object.name;\n        return {\n          name,\n          origin: 'user',\n            signature: variableSignature,\n            type: this.getVariableType(ast.object.object.object),\n            zProperty: ast.object.object.property,\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n        };\n      case 'value[][][][]':\n        if (typeof ast.object.object.object.object.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        name = ast.object.object.object.object.name;\n        return {\n          name,\n          origin: 'user',\n            signature: variableSignature,\n            type: this.getVariableType(ast.object.object.object.object),\n            zProperty: ast.object.object.property,\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n        };\n      case 'value.value':\n        if (typeof ast.property.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        if (this.isAstMathVariable(ast)) {\n          name = ast.property.name;\n          return {\n            name,\n            origin: 'Math',\n            type: 'Number',\n            signature: variableSignature,\n          };\n        }\n        switch (ast.property.name) {\n          case 'r':\n          case 'g':\n          case 'b':\n          case 'a':\n            name = ast.object.name;\n            return {\n              name,\n              property: ast.property.name,\n                origin: 'user',\n                signature: variableSignature,\n                type: 'Number'\n            };\n          default:\n            throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        case 'this.constants.value':\n          if (typeof ast.property.name !== 'string') {\n            throw this.astErrorOutput('Unexpected expression', ast);\n          }\n          name = ast.property.name;\n          type = this.getConstantType(name);\n          if (!type) {\n            throw this.astErrorOutput('Constant has no type', ast);\n          }\n          return {\n            name,\n            type,\n            origin: 'constants',\n              signature: variableSignature,\n          };\n        case 'this.constants.value[]':\n          if (typeof ast.object.property.name !== 'string') {\n            throw this.astErrorOutput('Unexpected expression', ast);\n          }\n          name = ast.object.property.name;\n          type = this.getConstantType(name);\n          if (!type) {\n            throw this.astErrorOutput('Constant has no type', ast);\n          }\n          return {\n            name,\n            type,\n            origin: 'constants',\n              signature: variableSignature,\n              xProperty: ast.property,\n          };\n        case 'this.constants.value[][]': {\n          if (typeof ast.object.object.property.name !== 'string') {\n            throw this.astErrorOutput('Unexpected expression', ast);\n          }\n          name = ast.object.object.property.name;\n          type = this.getConstantType(name);\n          if (!type) {\n            throw this.astErrorOutput('Constant has no type', ast);\n          }\n          return {\n            name,\n            type,\n            origin: 'constants',\n            signature: variableSignature,\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n          };\n        }\n        case 'this.constants.value[][][]': {\n          if (typeof ast.object.object.object.property.name !== 'string') {\n            throw this.astErrorOutput('Unexpected expression', ast);\n          }\n          name = ast.object.object.object.property.name;\n          type = this.getConstantType(name);\n          if (!type) {\n            throw this.astErrorOutput('Constant has no type', ast);\n          }\n          return {\n            name,\n            type,\n            origin: 'constants',\n            signature: variableSignature,\n            zProperty: ast.object.object.property,\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n          };\n        }\n        case 'fn()[]':\n        case 'fn()[][]':\n        case '[][]':\n          return {\n            signature: variableSignature,\n              property: ast.property,\n          };\n        default:\n          throw this.astErrorOutput('Unexpected expression', ast);\n    }\n  }\n\n  findIdentifierOrigin(astToFind) {\n    const stack = [this.ast];\n\n    while (stack.length > 0) {\n      const atNode = stack[0];\n      if (atNode.type === 'VariableDeclarator' && atNode.id && atNode.id.name && atNode.id.name === astToFind.name) {\n        return atNode;\n      }\n      stack.shift();\n      if (atNode.argument) {\n        stack.push(atNode.argument);\n      } else if (atNode.body) {\n        stack.push(atNode.body);\n      } else if (atNode.declarations) {\n        stack.push(atNode.declarations);\n      } else if (Array.isArray(atNode)) {\n        for (let i = 0; i < atNode.length; i++) {\n          stack.push(atNode[i]);\n        }\n      }\n    }\n    return null;\n  }\n\n  findLastReturn(ast) {\n    const stack = [ast || this.ast];\n\n    while (stack.length > 0) {\n      const atNode = stack.pop();\n      if (atNode.type === 'ReturnStatement') {\n        return atNode;\n      }\n      if (atNode.type === 'FunctionDeclaration') {\n        continue;\n      }\n      if (atNode.argument) {\n        stack.push(atNode.argument);\n      } else if (atNode.body) {\n        stack.push(atNode.body);\n      } else if (atNode.declarations) {\n        stack.push(atNode.declarations);\n      } else if (Array.isArray(atNode)) {\n        for (let i = 0; i < atNode.length; i++) {\n          stack.push(atNode[i]);\n        }\n      } else if (atNode.consequent) {\n        stack.push(atNode.consequent);\n      } else if (atNode.cases) {\n        stack.push(atNode.cases);\n      }\n    }\n    return null;\n  }\n\n  getInternalVariableName(name) {\n    if (!this._internalVariableNames.hasOwnProperty(name)) {\n      this._internalVariableNames[name] = 0;\n    }\n    this._internalVariableNames[name]++;\n    if (this._internalVariableNames[name] === 1) {\n      return name;\n    }\n    return name + this._internalVariableNames[name];\n  }\n\n  astKey(ast, separator = ',') {\n    if (!ast.start || !ast.end) throw new Error('AST start and end needed');\n    return `${ast.start}${separator}${ast.end}`;\n  }\n}\n\nconst typeLookupMap = {\n  'Number': 'Number',\n  'Float': 'Float',\n  'Integer': 'Integer',\n  'Array': 'Number',\n  'Array(2)': 'Number',\n  'Array(3)': 'Number',\n  'Array(4)': 'Number',\n  'Matrix(2)': 'Number',\n  'Matrix(3)': 'Number',\n  'Matrix(4)': 'Number',\n  'Array2D': 'Number',\n  'Array3D': 'Number',\n  'Input': 'Number',\n  'HTMLCanvas': 'Array(4)',\n  'OffscreenCanvas': 'Array(4)',\n  'HTMLImage': 'Array(4)',\n  'ImageBitmap': 'Array(4)',\n  'ImageData': 'Array(4)',\n  'HTMLVideo': 'Array(4)',\n  'HTMLImageArray': 'Array(4)',\n  'NumberTexture': 'Number',\n  'MemoryOptimizedNumberTexture': 'Number',\n  'Array1D(2)': 'Array(2)',\n  'Array1D(3)': 'Array(3)',\n  'Array1D(4)': 'Array(4)',\n  'Array2D(2)': 'Array(2)',\n  'Array2D(3)': 'Array(3)',\n  'Array2D(4)': 'Array(4)',\n  'Array3D(2)': 'Array(2)',\n  'Array3D(3)': 'Array(3)',\n  'Array3D(4)': 'Array(4)',\n  'ArrayTexture(1)': 'Number',\n  'ArrayTexture(2)': 'Array(2)',\n  'ArrayTexture(3)': 'Array(3)',\n  'ArrayTexture(4)': 'Array(4)',\n};\n\nmodule.exports = {\n  FunctionNode\n};\n},{\"../utils\":114,\"./function-tracer\":11,\"acorn\":1}],11:[function(require,module,exports){\nconst { utils } = require('../utils');\n\nfunction last(array) {\n  return array.length > 0 ? array[array.length - 1] : null;\n}\n\nconst states = {\n  trackIdentifiers: 'trackIdentifiers',\n  memberExpression: 'memberExpression',\n  inForLoopInit: 'inForLoopInit'\n};\n\nclass FunctionTracer {\n  constructor(ast) {\n    this.runningContexts = [];\n    this.functionContexts = [];\n    this.contexts = [];\n    this.functionCalls = [];\n    this.declarations = [];\n    this.identifiers = [];\n    this.functions = [];\n    this.returnStatements = [];\n    this.trackedIdentifiers = null;\n    this.states = [];\n    this.newFunctionContext();\n    this.scan(ast);\n  }\n\n  isState(state) {\n    return this.states[this.states.length - 1] === state;\n  }\n\n  hasState(state) {\n    return this.states.indexOf(state) > -1;\n  }\n\n  pushState(state) {\n    this.states.push(state);\n  }\n\n  popState(state) {\n    if (this.isState(state)) {\n      this.states.pop();\n    } else {\n      throw new Error(`Cannot pop the non-active state \"${state}\"`);\n    }\n  }\n\n  get currentFunctionContext() {\n    return last(this.functionContexts);\n  }\n\n  get currentContext() {\n    return last(this.runningContexts);\n  }\n\n  newFunctionContext() {\n    const newContext = { '@contextType': 'function' };\n    this.contexts.push(newContext);\n    this.functionContexts.push(newContext);\n  }\n\n  newContext(run) {\n    const newContext = Object.assign({ '@contextType': 'const/let' }, this.currentContext);\n    this.contexts.push(newContext);\n    this.runningContexts.push(newContext);\n    run();\n    const { currentFunctionContext } = this;\n    for (const p in currentFunctionContext) {\n      if (!currentFunctionContext.hasOwnProperty(p) || newContext.hasOwnProperty(p)) continue;\n      newContext[p] = currentFunctionContext[p];\n    }\n    this.runningContexts.pop();\n    return newContext;\n  }\n\n  useFunctionContext(run) {\n    const functionContext = last(this.functionContexts);\n    this.runningContexts.push(functionContext);\n    run();\n    this.runningContexts.pop();\n  }\n\n  getIdentifiers(run) {\n    const trackedIdentifiers = this.trackedIdentifiers = [];\n    this.pushState(states.trackIdentifiers);\n    run();\n    this.trackedIdentifiers = null;\n    this.popState(states.trackIdentifiers);\n    return trackedIdentifiers;\n  }\n\n  getDeclaration(name) {\n    const { currentContext, currentFunctionContext, runningContexts } = this;\n    const declaration = currentContext[name] || currentFunctionContext[name] || null;\n\n    if (\n      !declaration &&\n      currentContext === currentFunctionContext &&\n      runningContexts.length > 0\n    ) {\n      const previousRunningContext = runningContexts[runningContexts.length - 2];\n      if (previousRunningContext[name]) {\n        return previousRunningContext[name];\n      }\n    }\n\n    return declaration;\n  }\n\n  scan(ast) {\n    if (!ast) return;\n    if (Array.isArray(ast)) {\n      for (let i = 0; i < ast.length; i++) {\n        this.scan(ast[i]);\n      }\n      return;\n    }\n    switch (ast.type) {\n      case 'Program':\n        this.useFunctionContext(() => {\n          this.scan(ast.body);\n        });\n        break;\n      case 'BlockStatement':\n        this.newContext(() => {\n          this.scan(ast.body);\n        });\n        break;\n      case 'AssignmentExpression':\n      case 'LogicalExpression':\n        this.scan(ast.left);\n        this.scan(ast.right);\n        break;\n      case 'BinaryExpression':\n        this.scan(ast.left);\n        this.scan(ast.right);\n        break;\n      case 'UpdateExpression':\n        if (ast.operator === '++') {\n          const declaration = this.getDeclaration(ast.argument.name);\n          if (declaration) {\n            declaration.suggestedType = 'Integer';\n          }\n        }\n        this.scan(ast.argument);\n        break;\n      case 'UnaryExpression':\n        this.scan(ast.argument);\n        break;\n      case 'VariableDeclaration':\n        if (ast.kind === 'var') {\n          this.useFunctionContext(() => {\n            ast.declarations = utils.normalizeDeclarations(ast);\n            this.scan(ast.declarations);\n          });\n        } else {\n          ast.declarations = utils.normalizeDeclarations(ast);\n          this.scan(ast.declarations);\n        }\n        break;\n      case 'VariableDeclarator': {\n        const { currentContext } = this;\n        const inForLoopInit = this.hasState(states.inForLoopInit);\n        const declaration = {\n          ast: ast,\n          context: currentContext,\n          name: ast.id.name,\n          origin: 'declaration',\n          inForLoopInit,\n          inForLoopTest: null,\n          assignable: currentContext === this.currentFunctionContext || (!inForLoopInit && !currentContext.hasOwnProperty(ast.id.name)),\n          suggestedType: null,\n          valueType: null,\n          dependencies: null,\n          isSafe: null,\n        };\n        if (!currentContext[ast.id.name]) {\n          currentContext[ast.id.name] = declaration;\n        }\n        this.declarations.push(declaration);\n        this.scan(ast.id);\n        this.scan(ast.init);\n        break;\n      }\n      case 'FunctionExpression':\n      case 'FunctionDeclaration':\n        if (this.runningContexts.length === 0) {\n          this.scan(ast.body);\n        } else {\n          this.functions.push(ast);\n        }\n        break;\n      case 'IfStatement':\n        this.scan(ast.test);\n        this.scan(ast.consequent);\n        if (ast.alternate) this.scan(ast.alternate);\n        break;\n      case 'ForStatement': {\n        let testIdentifiers;\n        const context = this.newContext(() => {\n          this.pushState(states.inForLoopInit);\n          this.scan(ast.init);\n          this.popState(states.inForLoopInit);\n\n          testIdentifiers = this.getIdentifiers(() => {\n            this.scan(ast.test);\n          });\n\n          this.scan(ast.update);\n          this.newContext(() => {\n            this.scan(ast.body);\n          });\n        });\n\n        if (testIdentifiers) {\n          for (const p in context) {\n            if (p === '@contextType') continue;\n            if (testIdentifiers.indexOf(p) > -1) {\n              context[p].inForLoopTest = true;\n            }\n          }\n        }\n        break;\n      }\n      case 'DoWhileStatement':\n      case 'WhileStatement':\n        this.newContext(() => {\n          this.scan(ast.body);\n          this.scan(ast.test);\n        });\n        break;\n      case 'Identifier': {\n        if (this.isState(states.trackIdentifiers)) {\n          this.trackedIdentifiers.push(ast.name);\n        }\n        this.identifiers.push({\n          context: this.currentContext,\n          declaration: this.getDeclaration(ast.name),\n          ast,\n        });\n        break;\n      }\n      case 'ReturnStatement':\n        this.returnStatements.push(ast);\n        this.scan(ast.argument);\n        break;\n      case 'MemberExpression':\n        this.pushState(states.memberExpression);\n        this.scan(ast.object);\n        this.scan(ast.property);\n        this.popState(states.memberExpression);\n        break;\n      case 'ExpressionStatement':\n        this.scan(ast.expression);\n        break;\n      case 'SequenceExpression':\n        this.scan(ast.expressions);\n        break;\n      case 'CallExpression':\n        this.functionCalls.push({\n          context: this.currentContext,\n          ast,\n        });\n        this.scan(ast.arguments);\n        break;\n      case 'ArrayExpression':\n        this.scan(ast.elements);\n        break;\n      case 'ConditionalExpression':\n        this.scan(ast.test);\n        this.scan(ast.alternate);\n        this.scan(ast.consequent);\n        break;\n      case 'SwitchStatement':\n        this.scan(ast.discriminant);\n        this.scan(ast.cases);\n        break;\n      case 'SwitchCase':\n        this.scan(ast.test);\n        this.scan(ast.consequent);\n        break;\n\n      case 'ThisExpression':\n      case 'Literal':\n      case 'DebuggerStatement':\n      case 'EmptyStatement':\n      case 'BreakStatement':\n      case 'ContinueStatement':\n        break;\n      default:\n        throw new Error(`unhandled type \"${ast.type}\"`);\n    }\n  }\n}\n\nmodule.exports = {\n  FunctionTracer,\n};\n},{\"../utils\":114}],12:[function(require,module,exports){\nconst { glWiretap } = require('gl-wiretap');\nconst { utils } = require('../../utils');\n\nfunction toStringWithoutUtils(fn) {\n  return fn.toString()\n    .replace('=>', '')\n    .replace(/^function /, '')\n    .replace(/utils[.]/g, '/*utils.*/');\n}\n\nfunction glKernelString(Kernel, args, originKernel, setupContextString, destroyContextString) {\n  if (!originKernel.built) {\n    originKernel.build.apply(originKernel, args);\n  }\n  args = args ? Array.from(args).map(arg => {\n    switch (typeof arg) {\n      case 'boolean':\n        return new Boolean(arg);\n      case 'number':\n        return new Number(arg);\n      default:\n        return arg;\n    }\n  }) : null;\n  const uploadedValues = [];\n  const postResult = [];\n  const context = glWiretap(originKernel.context, {\n    useTrackablePrimitives: true,\n    onReadPixels: (targetName) => {\n      if (kernel.subKernels) {\n        if (!subKernelsResultVariableSetup) {\n          postResult.push(`    const result = { result: ${getRenderString(targetName, kernel)} };`);\n          subKernelsResultVariableSetup = true;\n        } else {\n          const property = kernel.subKernels[subKernelsResultIndex++].property;\n          postResult.push(`    result${isNaN(property) ? '.' + property : `[${property}]`} = ${getRenderString(targetName, kernel)};`);\n        }\n        if (subKernelsResultIndex === kernel.subKernels.length) {\n          postResult.push('    return result;');\n        }\n        return;\n      }\n      if (targetName) {\n        postResult.push(`    return ${getRenderString(targetName, kernel)};`);\n      } else {\n        postResult.push(`    return null;`);\n      }\n    },\n    onUnrecognizedArgumentLookup: (argument) => {\n      const argumentName = findKernelValue(argument, kernel.kernelArguments, [], context, uploadedValues);\n      if (argumentName) {\n        return argumentName;\n      }\n      const constantName = findKernelValue(argument, kernel.kernelConstants, constants ? Object.keys(constants).map(key => constants[key]) : [], context, uploadedValues);\n      if (constantName) {\n        return constantName;\n      }\n      return null;\n    }\n  });\n  let subKernelsResultVariableSetup = false;\n  let subKernelsResultIndex = 0;\n  const {\n    source,\n    canvas,\n    output,\n    pipeline,\n    graphical,\n    loopMaxIterations,\n    constants,\n    optimizeFloatMemory,\n    precision,\n    fixIntegerDivisionAccuracy,\n    functions,\n    nativeFunctions,\n    subKernels,\n    immutable,\n    argumentTypes,\n    constantTypes,\n    kernelArguments,\n    kernelConstants,\n    tactic,\n  } = originKernel;\n  const kernel = new Kernel(source, {\n    canvas,\n    context,\n    checkContext: false,\n    output,\n    pipeline,\n    graphical,\n    loopMaxIterations,\n    constants,\n    optimizeFloatMemory,\n    precision,\n    fixIntegerDivisionAccuracy,\n    functions,\n    nativeFunctions,\n    subKernels,\n    immutable,\n    argumentTypes,\n    constantTypes,\n    tactic,\n  });\n  let result = [];\n  context.setIndent(2);\n  kernel.build.apply(kernel, args);\n  result.push(context.toString());\n  context.reset();\n\n  kernel.kernelArguments.forEach((kernelArgument, i) => {\n    switch (kernelArgument.type) {\n      case 'Integer':\n      case 'Boolean':\n      case 'Number':\n      case 'Float':\n      case 'Array':\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n      case 'HTMLCanvas':\n      case 'HTMLImage':\n      case 'HTMLVideo':\n        context.insertVariable(`uploadValue_${kernelArgument.name}`, kernelArgument.uploadValue);\n        break;\n      case 'HTMLImageArray':\n        for (let imageIndex = 0; imageIndex < args[i].length; imageIndex++) {\n          const arg = args[i];\n          context.insertVariable(`uploadValue_${kernelArgument.name}[${imageIndex}]`, arg[imageIndex]);\n        }\n        break;\n      case 'Input':\n        context.insertVariable(`uploadValue_${kernelArgument.name}`, kernelArgument.uploadValue);\n        break;\n      case 'MemoryOptimizedNumberTexture':\n      case 'NumberTexture':\n      case 'Array1D(2)':\n      case 'Array1D(3)':\n      case 'Array1D(4)':\n      case 'Array2D(2)':\n      case 'Array2D(3)':\n      case 'Array2D(4)':\n      case 'Array3D(2)':\n      case 'Array3D(3)':\n      case 'Array3D(4)':\n      case 'ArrayTexture(1)':\n      case 'ArrayTexture(2)':\n      case 'ArrayTexture(3)':\n      case 'ArrayTexture(4)':\n        context.insertVariable(`uploadValue_${kernelArgument.name}`, args[i].texture);\n        break;\n      default:\n        throw new Error(`unhandled kernelArgumentType insertion for glWiretap of type ${kernelArgument.type}`);\n    }\n  });\n  result.push('/** start of injected functions **/');\n  result.push(`function ${toStringWithoutUtils(utils.flattenTo)}`);\n  result.push(`function ${toStringWithoutUtils(utils.flatten2dArrayTo)}`);\n  result.push(`function ${toStringWithoutUtils(utils.flatten3dArrayTo)}`);\n  result.push(`function ${toStringWithoutUtils(utils.flatten4dArrayTo)}`);\n  result.push(`function ${toStringWithoutUtils(utils.isArray)}`);\n  if (kernel.renderOutput !== kernel.renderTexture && kernel.formatValues) {\n    result.push(\n      `  const renderOutput = function ${toStringWithoutUtils(kernel.formatValues)};`\n    );\n  }\n  result.push('/** end of injected functions **/');\n  result.push(`  const innerKernel = function (${kernel.kernelArguments.map(kernelArgument => kernelArgument.varName).join(', ')}) {`);\n  context.setIndent(4);\n  kernel.run.apply(kernel, args);\n  if (kernel.renderKernels) {\n    kernel.renderKernels();\n  } else if (kernel.renderOutput) {\n    kernel.renderOutput();\n  }\n  result.push('    /** start setup uploads for kernel values **/');\n  kernel.kernelArguments.forEach(kernelArgument => {\n    result.push('    ' + kernelArgument.getStringValueHandler().split('\\n').join('\\n    '));\n  });\n  result.push('    /** end setup uploads for kernel values **/');\n  result.push(context.toString());\n  if (kernel.renderOutput === kernel.renderTexture) {\n    context.reset();\n    const framebufferName = context.getContextVariableName(kernel.framebuffer);\n    if (kernel.renderKernels) {\n      const results = kernel.renderKernels();\n      const textureName = context.getContextVariableName(kernel.texture.texture);\n      result.push(`    return {\n      result: {\n        texture: ${ textureName },\n        type: '${ results.result.type }',\n        toArray: ${ getToArrayString(results.result, textureName, framebufferName) }\n      },`);\n      const { subKernels, mappedTextures } = kernel;\n      for (let i = 0; i < subKernels.length; i++) {\n        const texture = mappedTextures[i];\n        const subKernel = subKernels[i];\n        const subKernelResult = results[subKernel.property];\n        const subKernelTextureName = context.getContextVariableName(texture.texture);\n        result.push(`\n      ${subKernel.property}: {\n        texture: ${ subKernelTextureName },\n        type: '${ subKernelResult.type }',\n        toArray: ${ getToArrayString(subKernelResult, subKernelTextureName, framebufferName) }\n      },`);\n      }\n      result.push(`    };`);\n    } else {\n      const rendered = kernel.renderOutput();\n      const textureName = context.getContextVariableName(kernel.texture.texture);\n      result.push(`    return {\n        texture: ${ textureName },\n        type: '${ rendered.type }',\n        toArray: ${ getToArrayString(rendered, textureName, framebufferName) }\n      };`);\n    }\n  }\n  result.push(`    ${destroyContextString ? '\\n' + destroyContextString + '    ': ''}`);\n  result.push(postResult.join('\\n'));\n  result.push('  };');\n  if (kernel.graphical) {\n    result.push(getGetPixelsString(kernel));\n    result.push(`  innerKernel.getPixels = getPixels;`);\n  }\n  result.push('  return innerKernel;');\n\n  let constantsUpload = [];\n  kernelConstants.forEach((kernelConstant) => {\n    constantsUpload.push(`${kernelConstant.getStringValueHandler()}`);\n  });\n  return `function kernel(settings) {\n  const { context, constants } = settings;\n  ${constantsUpload.join('')}\n  ${setupContextString ? setupContextString : ''}\n${result.join('\\n')}\n}`;\n}\n\nfunction getRenderString(targetName, kernel) {\n  const readBackValue = kernel.precision === 'single' ? targetName : `new Float32Array(${targetName}.buffer)`;\n  if (kernel.output[2]) {\n    return `renderOutput(${readBackValue}, ${kernel.output[0]}, ${kernel.output[1]}, ${kernel.output[2]})`;\n  }\n  if (kernel.output[1]) {\n    return `renderOutput(${readBackValue}, ${kernel.output[0]}, ${kernel.output[1]})`;\n  }\n\n  return `renderOutput(${readBackValue}, ${kernel.output[0]})`;\n}\n\nfunction getGetPixelsString(kernel) {\n  const getPixels = kernel.getPixels.toString();\n  const useFunctionKeyword = !/^function/.test(getPixels);\n  return utils.flattenFunctionToString(`${useFunctionKeyword ? 'function ' : ''}${ getPixels }`, {\n    findDependency: (object, name) => {\n      if (object === 'utils') {\n        return `const ${name} = ${utils[name].toString()};`;\n      }\n      return null;\n    },\n    thisLookup: (property) => {\n      if (property === 'context') {\n        return null;\n      }\n      if (kernel.hasOwnProperty(property)) {\n        return JSON.stringify(kernel[property]);\n      }\n      throw new Error(`unhandled thisLookup ${ property }`);\n    }\n  });\n}\n\nfunction getToArrayString(kernelResult, textureName, framebufferName) {\n  const toArray = kernelResult.toArray.toString();\n  const useFunctionKeyword = !/^function/.test(toArray);\n  const flattenedFunctions = utils.flattenFunctionToString(`${useFunctionKeyword ? 'function ' : ''}${ toArray }`, {\n    findDependency: (object, name) => {\n      if (object === 'utils') {\n        return `const ${name} = ${utils[name].toString()};`;\n      } else if (object === 'this') {\n        if (name === 'framebuffer') {\n          return '';\n        }\n        return `${useFunctionKeyword ? 'function ' : ''}${kernelResult[name].toString()}`;\n      } else {\n        throw new Error('unhandled fromObject');\n      }\n    },\n    thisLookup: (property, isDeclaration) => {\n      if (property === 'texture') {\n        return textureName;\n      }\n      if (property === 'context') {\n        if (isDeclaration) return null;\n        return 'gl';\n      }\n      if (kernelResult.hasOwnProperty(property)) {\n        return JSON.stringify(kernelResult[property]);\n      }\n      throw new Error(`unhandled thisLookup ${ property }`);\n    }\n  });\n  return `() => {\n  function framebuffer() { return ${framebufferName}; };\n  ${flattenedFunctions}\n  return toArray();\n  }`;\n}\n\nfunction findKernelValue(argument, kernelValues, values, context, uploadedValues) {\n  if (argument === null) return null;\n  if (kernelValues === null) return null;\n  switch (typeof argument) {\n    case 'boolean':\n    case 'number':\n      return null;\n  }\n  if (\n    typeof HTMLImageElement !== 'undefined' &&\n    argument instanceof HTMLImageElement\n  ) {\n    for (let i = 0; i < kernelValues.length; i++) {\n      const kernelValue = kernelValues[i];\n      if (kernelValue.type !== 'HTMLImageArray' && kernelValue) continue;\n      if (kernelValue.uploadValue !== argument) continue;\n      const variableIndex = values[i].indexOf(argument);\n      if (variableIndex === -1) continue;\n      const variableName = `uploadValue_${kernelValue.name}[${variableIndex}]`;\n      context.insertVariable(variableName, argument);\n      return variableName;\n    }\n  }\n\n  for (let i = 0; i < kernelValues.length; i++) {\n    const kernelValue = kernelValues[i];\n    if (argument !== kernelValue.uploadValue) continue;\n    const variable = `uploadValue_${kernelValue.name}`;\n    context.insertVariable(variable, kernelValue);\n    return variable;\n  }\n  return null;\n}\n\nmodule.exports = {\n  glKernelString\n};\n},{\"../../utils\":114,\"gl-wiretap\":3}],13:[function(require,module,exports){\nconst { Kernel } = require('../kernel');\nconst { utils } = require('../../utils');\nconst { GLTextureArray2Float } = require('./texture/array-2-float');\nconst { GLTextureArray2Float2D } = require('./texture/array-2-float-2d');\nconst { GLTextureArray2Float3D } = require('./texture/array-2-float-3d');\nconst { GLTextureArray3Float } = require('./texture/array-3-float');\nconst { GLTextureArray3Float2D } = require('./texture/array-3-float-2d');\nconst { GLTextureArray3Float3D } = require('./texture/array-3-float-3d');\nconst { GLTextureArray4Float } = require('./texture/array-4-float');\nconst { GLTextureArray4Float2D } = require('./texture/array-4-float-2d');\nconst { GLTextureArray4Float3D } = require('./texture/array-4-float-3d');\nconst { GLTextureFloat } = require('./texture/float');\nconst { GLTextureFloat2D } = require('./texture/float-2d');\nconst { GLTextureFloat3D } = require('./texture/float-3d');\nconst { GLTextureMemoryOptimized } = require('./texture/memory-optimized');\nconst { GLTextureMemoryOptimized2D } = require('./texture/memory-optimized-2d');\nconst { GLTextureMemoryOptimized3D } = require('./texture/memory-optimized-3d');\nconst { GLTextureUnsigned } = require('./texture/unsigned');\nconst { GLTextureUnsigned2D } = require('./texture/unsigned-2d');\nconst { GLTextureUnsigned3D } = require('./texture/unsigned-3d');\nconst { GLTextureGraphical } = require('./texture/graphical');\n\nclass GLKernel extends Kernel {\n  static get mode() {\n    return 'gpu';\n  }\n\n  static getIsFloatRead() {\n    const kernelString = `function kernelFunction() {\n      return 1;\n    }`;\n    const kernel = new this(kernelString, {\n      context: this.testContext,\n      canvas: this.testCanvas,\n      validate: false,\n      output: [1],\n      precision: 'single',\n      returnType: 'Number',\n      tactic: 'speed',\n    });\n    kernel.build();\n    kernel.run();\n    const result = kernel.renderOutput();\n    kernel.destroy(true);\n    return result[0] === 1;\n  }\n\n  static getIsIntegerDivisionAccurate() {\n    function kernelFunction(v1, v2) {\n      return v1[this.thread.x] / v2[this.thread.x];\n    }\n    const kernel = new this(kernelFunction.toString(), {\n      context: this.testContext,\n      canvas: this.testCanvas,\n      validate: false,\n      output: [2],\n      returnType: 'Number',\n      precision: 'unsigned',\n      tactic: 'speed',\n    });\n    const args = [\n      [6, 6030401],\n      [3, 3991]\n    ];\n    kernel.build.apply(kernel, args);\n    kernel.run.apply(kernel, args);\n    const result = kernel.renderOutput();\n    kernel.destroy(true);\n    return result[0] === 2 && result[1] === 1511;\n  }\n\n  static getIsSpeedTacticSupported() {\n    function kernelFunction(value) {\n      return value[this.thread.x];\n    }\n    const kernel = new this(kernelFunction.toString(), {\n      context: this.testContext,\n      canvas: this.testCanvas,\n      validate: false,\n      output: [4],\n      returnType: 'Number',\n      precision: 'unsigned',\n      tactic: 'speed',\n    });\n    const args = [\n      [0, 1, 2, 3]\n    ];\n    kernel.build.apply(kernel, args);\n    kernel.run.apply(kernel, args);\n    const result = kernel.renderOutput();\n    kernel.destroy(true);\n    return Math.round(result[0]) === 0 && Math.round(result[1]) === 1 && Math.round(result[2]) === 2 && Math.round(result[3]) === 3;\n  }\n\n  static get testCanvas() {\n    throw new Error(`\"testCanvas\" not defined on ${ this.name }`);\n  }\n\n  static get testContext() {\n    throw new Error(`\"testContext\" not defined on ${ this.name }`);\n  }\n\n  static getFeatures() {\n    const gl = this.testContext;\n    const isDrawBuffers = this.getIsDrawBuffers();\n    return Object.freeze({\n      isFloatRead: this.getIsFloatRead(),\n      isIntegerDivisionAccurate: this.getIsIntegerDivisionAccurate(),\n      isSpeedTacticSupported: this.getIsSpeedTacticSupported(),\n      isTextureFloat: this.getIsTextureFloat(),\n      isDrawBuffers,\n      kernelMap: isDrawBuffers,\n      channelCount: this.getChannelCount(),\n      maxTextureSize: this.getMaxTextureSize(),\n      lowIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_INT),\n      lowFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_FLOAT),\n      mediumIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_INT),\n      mediumFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT),\n      highIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_INT),\n      highFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT),\n    });\n  }\n\n  static setupFeatureChecks() {\n    throw new Error(`\"setupFeatureChecks\" not defined on ${ this.name }`);\n  }\n\n  static getSignature(kernel, argumentTypes) {\n    return kernel.getVariablePrecisionString() + (argumentTypes.length > 0 ? ':' + argumentTypes.join(',') : '');\n  }\n\n  setFixIntegerDivisionAccuracy(fix) {\n    this.fixIntegerDivisionAccuracy = fix;\n    return this;\n  }\n\n  setPrecision(flag) {\n    this.precision = flag;\n    return this;\n  }\n\n  setFloatTextures(flag) {\n    utils.warnDeprecated('method', 'setFloatTextures', 'setOptimizeFloatMemory');\n    this.floatTextures = flag;\n    return this;\n  }\n\n  static nativeFunctionArguments(source) {\n    const argumentTypes = [];\n    const argumentNames = [];\n    const states = [];\n    const isStartingVariableName = /^[a-zA-Z_]/;\n    const isVariableChar = /[a-zA-Z_0-9]/;\n    let i = 0;\n    let argumentName = null;\n    let argumentType = null;\n    while (i < source.length) {\n      const char = source[i];\n      const nextChar = source[i + 1];\n      const state = states.length > 0 ? states[states.length - 1] : null;\n\n      if (state === 'FUNCTION_ARGUMENTS' && char === '/' && nextChar === '*') {\n        states.push('MULTI_LINE_COMMENT');\n        i += 2;\n        continue;\n      } else if (state === 'MULTI_LINE_COMMENT' && char === '*' && nextChar === '/') {\n        states.pop();\n        i += 2;\n        continue;\n      }\n\n      else if (state === 'FUNCTION_ARGUMENTS' && char === '/' && nextChar === '/') {\n        states.push('COMMENT');\n        i += 2;\n        continue;\n      } else if (state === 'COMMENT' && char === '\\n') {\n        states.pop();\n        i++;\n        continue;\n      }\n\n      else if (state === null && char === '(') {\n        states.push('FUNCTION_ARGUMENTS');\n        i++;\n        continue;\n      } else if (state === 'FUNCTION_ARGUMENTS') {\n        if (char === ')') {\n          states.pop();\n          break;\n        }\n        if (char === 'f' && nextChar === 'l' && source[i + 2] === 'o' && source[i + 3] === 'a' && source[i + 4] === 't' && source[i + 5] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'float';\n          argumentName = '';\n          i += 6;\n          continue;\n        } else if (char === 'i' && nextChar === 'n' && source[i + 2] === 't' && source[i + 3] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'int';\n          argumentName = '';\n          i += 4;\n          continue;\n        } else if (char === 'v' && nextChar === 'e' && source[i + 2] === 'c' && source[i + 3] === '2' && source[i + 4] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'vec2';\n          argumentName = '';\n          i += 5;\n          continue;\n        } else if (char === 'v' && nextChar === 'e' && source[i + 2] === 'c' && source[i + 3] === '3' && source[i + 4] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'vec3';\n          argumentName = '';\n          i += 5;\n          continue;\n        } else if (char === 'v' && nextChar === 'e' && source[i + 2] === 'c' && source[i + 3] === '4' && source[i + 4] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'vec4';\n          argumentName = '';\n          i += 5;\n          continue;\n        }\n      }\n\n      else if (state === 'DECLARE_VARIABLE') {\n        if (argumentName === '') {\n          if (char === ' ') {\n            i++;\n            continue;\n          }\n          if (!isStartingVariableName.test(char)) {\n            throw new Error('variable name is not expected string');\n          }\n        }\n        argumentName += char;\n        if (!isVariableChar.test(nextChar)) {\n          states.pop();\n          argumentNames.push(argumentName);\n          argumentTypes.push(typeMap[argumentType]);\n        }\n      }\n\n      i++;\n    }\n    if (states.length > 0) {\n      throw new Error('GLSL function was not parsable');\n    }\n    return {\n      argumentNames,\n      argumentTypes,\n    };\n  }\n\n  static nativeFunctionReturnType(source) {\n    return typeMap[source.match(/int|float|vec[2-4]/)[0]];\n  }\n\n  static combineKernels(combinedKernel, lastKernel) {\n    combinedKernel.apply(null, arguments);\n    const {\n      texSize,\n      context,\n      threadDim\n    } = lastKernel.texSize;\n    let result;\n    if (lastKernel.precision === 'single') {\n      const w = texSize[0];\n      const h = Math.ceil(texSize[1] / 4);\n      result = new Float32Array(w * h * 4 * 4);\n      context.readPixels(0, 0, w, h * 4, context.RGBA, context.FLOAT, result);\n    } else {\n      const bytes = new Uint8Array(texSize[0] * texSize[1] * 4);\n      context.readPixels(0, 0, texSize[0], texSize[1], context.RGBA, context.UNSIGNED_BYTE, bytes);\n      result = new Float32Array(bytes.buffer);\n    }\n\n    result = result.subarray(0, threadDim[0] * threadDim[1] * threadDim[2]);\n\n    if (lastKernel.output.length === 1) {\n      return result;\n    } else if (lastKernel.output.length === 2) {\n      return utils.splitArray(result, lastKernel.output[0]);\n    } else if (lastKernel.output.length === 3) {\n      const cube = utils.splitArray(result, lastKernel.output[0] * lastKernel.output[1]);\n      return cube.map(function(x) {\n        return utils.splitArray(x, lastKernel.output[0]);\n      });\n    }\n  }\n\n  constructor(source, settings) {\n    super(source, settings);\n    this.transferValues = null;\n    this.formatValues = null;\n    this.TextureConstructor = null;\n    this.renderOutput = null;\n    this.renderRawOutput = null;\n    this.texSize = null;\n    this.translatedSource = null;\n    this.compiledFragmentShader = null;\n    this.compiledVertexShader = null;\n    this.switchingKernels = null;\n    this._textureSwitched = null;\n    this._mappedTextureSwitched = null;\n  }\n\n  checkTextureSize() {\n    const { features } = this.constructor;\n    if (this.texSize[0] > features.maxTextureSize || this.texSize[1] > features.maxTextureSize) {\n      throw new Error(`Texture size [${this.texSize[0]},${this.texSize[1]}] generated by kernel is larger than supported size [${features.maxTextureSize},${features.maxTextureSize}]`);\n    }\n  }\n\n  translateSource() {\n    throw new Error(`\"translateSource\" not defined on ${this.constructor.name}`);\n  }\n\n  pickRenderStrategy(args) {\n    if (this.graphical) {\n      this.renderRawOutput = this.readPackedPixelsToUint8Array;\n      this.transferValues = (pixels) => pixels;\n      this.TextureConstructor = GLTextureGraphical;\n      return null;\n    }\n    if (this.precision === 'unsigned') {\n      this.renderRawOutput = this.readPackedPixelsToUint8Array;\n      this.transferValues = this.readPackedPixelsToFloat32Array;\n      if (this.pipeline) {\n        this.renderOutput = this.renderTexture;\n        if (this.subKernels !== null) {\n          this.renderKernels = this.renderKernelsToTextures;\n        }\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer':\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureUnsigned3D;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureUnsigned2D;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureUnsigned;\n              return null;\n            }\n            case 'Array(2)':\n            case 'Array(3)':\n            case 'Array(4)':\n              return this.requestFallback(args);\n        }\n      } else {\n        if (this.subKernels !== null) {\n          this.renderKernels = this.renderKernelsToArrays;\n        }\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer':\n            this.renderOutput = this.renderValues;\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureUnsigned3D;\n              this.formatValues = utils.erect3DPackedFloat;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureUnsigned2D;\n              this.formatValues = utils.erect2DPackedFloat;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureUnsigned;\n              this.formatValues = utils.erectPackedFloat;\n              return null;\n            }\n            case 'Array(2)':\n            case 'Array(3)':\n            case 'Array(4)':\n              return this.requestFallback(args);\n        }\n      }\n    } else if (this.precision === 'single') {\n      this.renderRawOutput = this.readFloatPixelsToFloat32Array;\n      this.transferValues = this.readFloatPixelsToFloat32Array;\n      if (this.pipeline) {\n        this.renderOutput = this.renderTexture;\n        if (this.subKernels !== null) {\n          this.renderKernels = this.renderKernelsToTextures;\n        }\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer': {\n            if (this.optimizeFloatMemory) {\n              if (this.output[2] > 0) {\n                this.TextureConstructor = GLTextureMemoryOptimized3D;\n                return null;\n              } else if (this.output[1] > 0) {\n                this.TextureConstructor = GLTextureMemoryOptimized2D;\n                return null;\n              } else {\n                this.TextureConstructor = GLTextureMemoryOptimized;\n                return null;\n              }\n            } else {\n              if (this.output[2] > 0) {\n                this.TextureConstructor = GLTextureFloat3D;\n                return null;\n              } else if (this.output[1] > 0) {\n                this.TextureConstructor = GLTextureFloat2D;\n                return null;\n              } else {\n                this.TextureConstructor = GLTextureFloat;\n                return null;\n              }\n            }\n          }\n          case 'Array(2)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray2Float3D;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray2Float2D;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray2Float;\n              return null;\n            }\n          }\n          case 'Array(3)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray3Float3D;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray3Float2D;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray3Float;\n              return null;\n            }\n          }\n          case 'Array(4)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray4Float3D;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray4Float2D;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray4Float;\n              return null;\n            }\n          }\n        }\n      }\n      this.renderOutput = this.renderValues;\n      if (this.subKernels !== null) {\n        this.renderKernels = this.renderKernelsToArrays;\n      }\n      if (this.optimizeFloatMemory) {\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureMemoryOptimized3D;\n              this.formatValues = utils.erectMemoryOptimized3DFloat;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureMemoryOptimized2D;\n              this.formatValues = utils.erectMemoryOptimized2DFloat;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureMemoryOptimized;\n              this.formatValues = utils.erectMemoryOptimizedFloat;\n              return null;\n            }\n          }\n          case 'Array(2)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray2Float3D;\n              this.formatValues = utils.erect3DArray2;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray2Float2D;\n              this.formatValues = utils.erect2DArray2;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray2Float;\n              this.formatValues = utils.erectArray2;\n              return null;\n            }\n          }\n          case 'Array(3)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray3Float3D;\n              this.formatValues = utils.erect3DArray3;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray3Float2D;\n              this.formatValues = utils.erect2DArray3;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray3Float;\n              this.formatValues = utils.erectArray3;\n              return null;\n            }\n          }\n          case 'Array(4)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray4Float3D;\n              this.formatValues = utils.erect3DArray4;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray4Float2D;\n              this.formatValues = utils.erect2DArray4;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray4Float;\n              this.formatValues = utils.erectArray4;\n              return null;\n            }\n          }\n        }\n      } else {\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureFloat3D;\n              this.formatValues = utils.erect3DFloat;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureFloat2D;\n              this.formatValues = utils.erect2DFloat;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureFloat;\n              this.formatValues = utils.erectFloat;\n              return null;\n            }\n          }\n          case 'Array(2)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray2Float3D;\n              this.formatValues = utils.erect3DArray2;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray2Float2D;\n              this.formatValues = utils.erect2DArray2;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray2Float;\n              this.formatValues = utils.erectArray2;\n              return null;\n            }\n          }\n          case 'Array(3)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray3Float3D;\n              this.formatValues = utils.erect3DArray3;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray3Float2D;\n              this.formatValues = utils.erect2DArray3;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray3Float;\n              this.formatValues = utils.erectArray3;\n              return null;\n            }\n          }\n          case 'Array(4)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray4Float3D;\n              this.formatValues = utils.erect3DArray4;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray4Float2D;\n              this.formatValues = utils.erect2DArray4;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray4Float;\n              this.formatValues = utils.erectArray4;\n              return null;\n            }\n          }\n        }\n      }\n    } else {\n      throw new Error(`unhandled precision of \"${this.precision}\"`);\n    }\n\n    throw new Error(`unhandled return type \"${this.returnType}\"`);\n  }\n\n  getKernelString() {\n    throw new Error(`abstract method call`);\n  }\n\n  getMainResultTexture() {\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Float':\n      case 'Integer':\n      case 'Number':\n        return this.getMainResultNumberTexture();\n      case 'Array(2)':\n        return this.getMainResultArray2Texture();\n      case 'Array(3)':\n        return this.getMainResultArray3Texture();\n      case 'Array(4)':\n        return this.getMainResultArray4Texture();\n      default:\n        throw new Error(`unhandled returnType type ${ this.returnType }`);\n    }\n  }\n\n  getMainResultKernelNumberTexture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultSubKernelNumberTexture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultKernelArray2Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultSubKernelArray2Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultKernelArray3Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultSubKernelArray3Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultKernelArray4Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultSubKernelArray4Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultGraphical() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultMemoryOptimizedFloats() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultPackedPixels() {\n    throw new Error(`abstract method call`);\n  }\n\n  getMainResultString() {\n    if (this.graphical) {\n      return this.getMainResultGraphical();\n    } else if (this.precision === 'single') {\n      if (this.optimizeFloatMemory) {\n        return this.getMainResultMemoryOptimizedFloats();\n      }\n      return this.getMainResultTexture();\n    } else {\n      return this.getMainResultPackedPixels();\n    }\n  }\n\n  getMainResultNumberTexture() {\n    return utils.linesToString(this.getMainResultKernelNumberTexture()) +\n      utils.linesToString(this.getMainResultSubKernelNumberTexture());\n  }\n\n  getMainResultArray2Texture() {\n    return utils.linesToString(this.getMainResultKernelArray2Texture()) +\n      utils.linesToString(this.getMainResultSubKernelArray2Texture());\n  }\n\n  getMainResultArray3Texture() {\n    return utils.linesToString(this.getMainResultKernelArray3Texture()) +\n      utils.linesToString(this.getMainResultSubKernelArray3Texture());\n  }\n\n  getMainResultArray4Texture() {\n    return utils.linesToString(this.getMainResultKernelArray4Texture()) +\n      utils.linesToString(this.getMainResultSubKernelArray4Texture());\n  }\n\n  getFloatTacticDeclaration() {\n    const variablePrecision = this.getVariablePrecisionString(this.texSize, this.tactic);\n    return `precision ${variablePrecision} float;\\n`;\n  }\n\n  getIntTacticDeclaration() {\n    return `precision ${this.getVariablePrecisionString(this.texSize, this.tactic, true)} int;\\n`;\n  }\n\n  getSampler2DTacticDeclaration() {\n    return `precision ${this.getVariablePrecisionString(this.texSize, this.tactic)} sampler2D;\\n`;\n  }\n\n  getSampler2DArrayTacticDeclaration() {\n    return `precision ${this.getVariablePrecisionString(this.texSize, this.tactic)} sampler2DArray;\\n`;\n  }\n\n  renderTexture() {\n    return this.immutable ? this.texture.clone() : this.texture;\n  }\n  readPackedPixelsToUint8Array() {\n    if (this.precision !== 'unsigned') throw new Error('Requires this.precision to be \"unsigned\"');\n    const {\n      texSize,\n      context: gl\n    } = this;\n    const result = new Uint8Array(texSize[0] * texSize[1] * 4);\n    gl.readPixels(0, 0, texSize[0], texSize[1], gl.RGBA, gl.UNSIGNED_BYTE, result);\n    return result;\n  }\n\n  readPackedPixelsToFloat32Array() {\n    return new Float32Array(this.readPackedPixelsToUint8Array().buffer);\n  }\n\n  readFloatPixelsToFloat32Array() {\n    if (this.precision !== 'single') throw new Error('Requires this.precision to be \"single\"');\n    const {\n      texSize,\n      context: gl\n    } = this;\n    const w = texSize[0];\n    const h = texSize[1];\n    const result = new Float32Array(w * h * 4);\n    gl.readPixels(0, 0, w, h, gl.RGBA, gl.FLOAT, result);\n    return result;\n  }\n\n  getPixels(flip) {\n    const {\n      context: gl,\n      output\n    } = this;\n    const [width, height] = output;\n    const pixels = new Uint8Array(width * height * 4);\n    gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n    return new Uint8ClampedArray((flip ? pixels : utils.flipPixels(pixels, width, height)).buffer);\n  }\n\n  renderKernelsToArrays() {\n    const result = {\n      result: this.renderOutput(),\n    };\n    for (let i = 0; i < this.subKernels.length; i++) {\n      result[this.subKernels[i].property] = this.mappedTextures[i].toArray();\n    }\n    return result;\n  }\n\n  renderKernelsToTextures() {\n    const result = {\n      result: this.renderOutput(),\n    };\n    if (this.immutable) {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        result[this.subKernels[i].property] = this.mappedTextures[i].clone();\n      }\n    } else {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        result[this.subKernels[i].property] = this.mappedTextures[i];\n      }\n    }\n    return result;\n  }\n\n  resetSwitchingKernels() {\n    const existingValue = this.switchingKernels;\n    this.switchingKernels = null;\n    return existingValue;\n  }\n\n  setOutput(output) {\n    const newOutput = this.toKernelOutput(output);\n    if (this.program) {\n      if (!this.dynamicOutput) {\n        throw new Error('Resizing a kernel with dynamicOutput: false is not possible');\n      }\n      const newThreadDim = [newOutput[0], newOutput[1] || 1, newOutput[2] || 1];\n      const newTexSize = utils.getKernelTextureSize({\n        optimizeFloatMemory: this.optimizeFloatMemory,\n        precision: this.precision,\n      }, newThreadDim);\n      const oldTexSize = this.texSize;\n      if (oldTexSize) {\n        const oldPrecision = this.getVariablePrecisionString(oldTexSize, this.tactic);\n        const newPrecision = this.getVariablePrecisionString(newTexSize, this.tactic);\n        if (oldPrecision !== newPrecision) {\n          if (this.debug) {\n            console.warn('Precision requirement changed, asking GPU instance to recompile');\n          }\n          this.switchKernels({\n            type: 'outputPrecisionMismatch',\n            precision: newPrecision,\n            needed: output\n          });\n          return;\n        }\n      }\n      this.output = newOutput;\n      this.threadDim = newThreadDim;\n      this.texSize = newTexSize;\n      const { context: gl } = this;\n      gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n      this.updateMaxTexSize();\n      this.framebuffer.width = this.texSize[0];\n      this.framebuffer.height = this.texSize[1];\n      gl.viewport(0, 0, this.maxTexSize[0], this.maxTexSize[1]);\n      this.canvas.width = this.maxTexSize[0];\n      this.canvas.height = this.maxTexSize[1];\n      if (this.texture) {\n        this.texture.delete();\n      }\n      this.texture = null;\n      this._setupOutputTexture();\n      if (this.mappedTextures && this.mappedTextures.length > 0) {\n        for (let i = 0; i < this.mappedTextures.length; i++) {\n          this.mappedTextures[i].delete();\n        }\n        this.mappedTextures = null;\n        this._setupSubOutputTextures();\n      }\n    } else {\n      this.output = newOutput;\n    }\n    return this;\n  }\n  renderValues() {\n    return this.formatValues(\n      this.transferValues(),\n      this.output[0],\n      this.output[1],\n      this.output[2]\n    );\n  }\n  switchKernels(reason) {\n    if (this.switchingKernels) {\n      this.switchingKernels.push(reason);\n    } else {\n      this.switchingKernels = [reason];\n    }\n  }\n  getVariablePrecisionString(textureSize = this.texSize, tactic = this.tactic, isInt = false) {\n    if (!tactic) {\n      if (!this.constructor.features.isSpeedTacticSupported) return 'highp';\n      const low = this.constructor.features[isInt ? 'lowIntPrecision' : 'lowFloatPrecision'];\n      const medium = this.constructor.features[isInt ? 'mediumIntPrecision' : 'mediumFloatPrecision'];\n      const high = this.constructor.features[isInt ? 'highIntPrecision' : 'highFloatPrecision'];\n      const requiredSize = Math.log2(textureSize[0] * textureSize[1]);\n      if (requiredSize <= low.rangeMax) {\n        return 'lowp';\n      } else if (requiredSize <= medium.rangeMax) {\n        return 'mediump';\n      } else if (requiredSize <= high.rangeMax) {\n        return 'highp';\n      } else {\n        throw new Error(`The required size exceeds that of the ability of your system`);\n      }\n    }\n    switch (tactic) {\n      case 'speed':\n        return 'lowp';\n      case 'balanced':\n        return 'mediump';\n      case 'precision':\n        return 'highp';\n      default:\n        throw new Error(`Unknown tactic \"${tactic}\" use \"speed\", \"balanced\", \"precision\", or empty for auto`);\n    }\n  }\n\n  updateTextureArgumentRefs(kernelValue, arg) {\n    if (!this.immutable) return;\n    if (this.texture.texture === arg.texture) {\n      const { prevArg } = kernelValue;\n      if (prevArg) {\n        if (prevArg.texture._refs === 1) {\n          this.texture.delete();\n          this.texture = prevArg.clone();\n          this._textureSwitched = true;\n        }\n        prevArg.delete();\n      }\n      kernelValue.prevArg = arg.clone();\n    } else if (this.mappedTextures && this.mappedTextures.length > 0) {\n      const { mappedTextures } = this;\n      for (let i = 0; i < mappedTextures.length; i++) {\n        const mappedTexture = mappedTextures[i];\n        if (mappedTexture.texture === arg.texture) {\n          const { prevArg } = kernelValue;\n          if (prevArg) {\n            if (prevArg.texture._refs === 1) {\n              mappedTexture.delete();\n              mappedTextures[i] = prevArg.clone();\n              this._mappedTextureSwitched[i] = true;\n            }\n            prevArg.delete();\n          }\n          kernelValue.prevArg = arg.clone();\n          return;\n        }\n      }\n    }\n  }\n\n  onActivate(previousKernel) {\n    this._textureSwitched = true;\n    this.texture = previousKernel.texture;\n    if (this.mappedTextures) {\n      for (let i = 0; i < this.mappedTextures.length; i++) {\n        this._mappedTextureSwitched[i] = true;\n      }\n      this.mappedTextures = previousKernel.mappedTextures;\n    }\n  }\n\n  initCanvas() {}\n}\n\nconst typeMap = {\n  int: 'Integer',\n  float: 'Number',\n  vec2: 'Array(2)',\n  vec3: 'Array(3)',\n  vec4: 'Array(4)',\n};\n\nmodule.exports = {\n  GLKernel\n};\n},{\"../../utils\":114,\"../kernel\":36,\"./texture/array-2-float\":16,\"./texture/array-2-float-2d\":14,\"./texture/array-2-float-3d\":15,\"./texture/array-3-float\":19,\"./texture/array-3-float-2d\":17,\"./texture/array-3-float-3d\":18,\"./texture/array-4-float\":22,\"./texture/array-4-float-2d\":20,\"./texture/array-4-float-3d\":21,\"./texture/float\":25,\"./texture/float-2d\":23,\"./texture/float-3d\":24,\"./texture/graphical\":26,\"./texture/memory-optimized\":30,\"./texture/memory-optimized-2d\":28,\"./texture/memory-optimized-3d\":29,\"./texture/unsigned\":33,\"./texture/unsigned-2d\":31,\"./texture/unsigned-3d\":32}],14:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray2Float2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(2)';\n  }\n  toArray() {\n    return utils.erect2DArray2(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray2Float2D\n};\n},{\"../../../utils\":114,\"./float\":25}],15:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray2Float3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(2)';\n  }\n  toArray() {\n    return utils.erect3DArray2(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray2Float3D\n};\n},{\"../../../utils\":114,\"./float\":25}],16:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray2Float extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(2)';\n  }\n  toArray() {\n    return utils.erectArray2(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray2Float\n};\n},{\"../../../utils\":114,\"./float\":25}],17:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray3Float2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(3)';\n  }\n  toArray() {\n    return utils.erect2DArray3(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray3Float2D\n};\n},{\"../../../utils\":114,\"./float\":25}],18:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray3Float3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(3)';\n  }\n  toArray() {\n    return utils.erect3DArray3(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray3Float3D\n};\n},{\"../../../utils\":114,\"./float\":25}],19:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray3Float extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(3)';\n  }\n  toArray() {\n    return utils.erectArray3(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray3Float\n};\n},{\"../../../utils\":114,\"./float\":25}],20:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray4Float2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(4)';\n  }\n  toArray() {\n    return utils.erect2DArray4(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray4Float2D\n};\n},{\"../../../utils\":114,\"./float\":25}],21:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray4Float3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(4)';\n  }\n  toArray() {\n    return utils.erect3DArray4(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray4Float3D\n};\n},{\"../../../utils\":114,\"./float\":25}],22:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray4Float extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(4)';\n  }\n  toArray() {\n    return utils.erectArray4(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray4Float\n};\n},{\"../../../utils\":114,\"./float\":25}],23:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureFloat2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(1)';\n  }\n  toArray() {\n    return utils.erect2DFloat(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureFloat2D\n};\n},{\"../../../utils\":114,\"./float\":25}],24:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureFloat3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(1)';\n  }\n  toArray() {\n    return utils.erect3DFloat(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureFloat3D\n};\n},{\"../../../utils\":114,\"./float\":25}],25:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTexture } = require('./index');\n\nclass GLTextureFloat extends GLTexture {\n  get textureType() {\n    return this.context.FLOAT;\n  }\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(1)';\n  }\n  renderRawOutput() {\n    const gl = this.context;\n    const size = this.size;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer());\n    gl.framebufferTexture2D(\n      gl.FRAMEBUFFER,\n      gl.COLOR_ATTACHMENT0,\n      gl.TEXTURE_2D,\n      this.texture,\n      0\n    );\n    const result = new Float32Array(size[0] * size[1] * 4);\n    gl.readPixels(0, 0, size[0], size[1], gl.RGBA, gl.FLOAT, result);\n    return result;\n  }\n  renderValues() {\n    if (this._deleted) return null;\n    return this.renderRawOutput();\n  }\n  toArray() {\n    return utils.erectFloat(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureFloat\n};\n},{\"../../../utils\":114,\"./index\":27}],26:[function(require,module,exports){\nconst { GLTextureUnsigned } = require('./unsigned');\n\nclass GLTextureGraphical extends GLTextureUnsigned {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(4)';\n  }\n  toArray() {\n    return this.renderValues();\n  }\n}\n\nmodule.exports = {\n  GLTextureGraphical\n};\n},{\"./unsigned\":33}],27:[function(require,module,exports){\nconst { Texture } = require('../../../texture');\n\nclass GLTexture extends Texture {\n  get textureType() {\n    throw new Error(`\"textureType\" not implemented on ${ this.name }`);\n  }\n\n  clone() {\n    return new this.constructor(this);\n  }\n\n  beforeMutate() {\n    if (this.texture._refs > 1) {\n      this.newTexture();\n      return true;\n    }\n    return false;\n  }\n\n  cloneTexture() {\n    this.texture._refs--;\n    const { context: gl, size, texture, kernel } = this;\n    if (kernel.debug) {\n      console.warn('cloning internal texture');\n    }\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer());\n    selectTexture(gl, texture);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    const target = gl.createTexture();\n    selectTexture(gl, target);\n    gl.texImage2D(gl.TEXTURE_2D, 0, this.internalFormat, size[0], size[1], 0, this.textureFormat, this.textureType, null);\n    gl.copyTexSubImage2D(gl.TEXTURE_2D, 0, 0, 0, 0, 0, size[0], size[1]);\n    target._refs = 1;\n    this.texture = target;\n  }\n\n  newTexture() {\n    this.texture._refs--;\n    const gl = this.context;\n    const size = this.size;\n    const kernel = this.kernel;\n    if (kernel.debug) {\n      console.warn('new internal texture');\n    }\n    const target = gl.createTexture();\n    selectTexture(gl, target);\n    gl.texImage2D(gl.TEXTURE_2D, 0, this.internalFormat, size[0], size[1], 0, this.textureFormat, this.textureType, null);\n    target._refs = 1;\n    this.texture = target;\n  }\n\n  clear() {\n    if (this.texture._refs) {\n      this.texture._refs--;\n      const gl = this.context;\n      const target = this.texture = gl.createTexture();\n      selectTexture(gl, target);\n      const size = this.size;\n      target._refs = 1;\n      gl.texImage2D(gl.TEXTURE_2D, 0, this.internalFormat, size[0], size[1], 0, this.textureFormat, this.textureType, null);\n    }\n    const { context: gl, texture } = this;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer());\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    selectTexture(gl, texture);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    gl.clearColor(0, 0, 0, 0);\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n  }\n\n  delete() {\n    if (this._deleted) return;\n    this._deleted = true;\n    if (this.texture._refs) {\n      this.texture._refs--;\n      if (this.texture._refs) return;\n    }\n    this.context.deleteTexture(this.texture);\n  }\n\n  framebuffer() {\n    if (!this._framebuffer) {\n      this._framebuffer = this.kernel.getRawValueFramebuffer(this.size[0], this.size[1]);\n    }\n    return this._framebuffer;\n  }\n}\n\nfunction selectTexture(gl, texture) {\n  gl.activeTexture(gl.TEXTURE15);\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n}\n\nmodule.exports = { GLTexture };\n},{\"../../../texture\":113}],28:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureMemoryOptimized2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'MemoryOptimizedNumberTexture';\n  }\n  toArray() {\n    return utils.erectMemoryOptimized2DFloat(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureMemoryOptimized2D\n};\n},{\"../../../utils\":114,\"./float\":25}],29:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureMemoryOptimized3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'MemoryOptimizedNumberTexture';\n  }\n  toArray() {\n    return utils.erectMemoryOptimized3DFloat(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureMemoryOptimized3D\n};\n},{\"../../../utils\":114,\"./float\":25}],30:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureMemoryOptimized extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'MemoryOptimizedNumberTexture';\n  }\n  toArray() {\n    return utils.erectMemoryOptimizedFloat(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureMemoryOptimized\n};\n},{\"../../../utils\":114,\"./float\":25}],31:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureUnsigned } = require('./unsigned');\n\nclass GLTextureUnsigned2D extends GLTextureUnsigned {\n  constructor(settings) {\n    super(settings);\n    this.type = 'NumberTexture';\n  }\n  toArray() {\n    return utils.erect2DPackedFloat(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureUnsigned2D\n};\n},{\"../../../utils\":114,\"./unsigned\":33}],32:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureUnsigned } = require('./unsigned');\n\nclass GLTextureUnsigned3D extends GLTextureUnsigned {\n  constructor(settings) {\n    super(settings);\n    this.type = 'NumberTexture';\n  }\n  toArray() {\n    return utils.erect3DPackedFloat(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureUnsigned3D\n};\n},{\"../../../utils\":114,\"./unsigned\":33}],33:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTexture } = require('./index');\n\nclass GLTextureUnsigned extends GLTexture {\n  get textureType() {\n    return this.context.UNSIGNED_BYTE;\n  }\n  constructor(settings) {\n    super(settings);\n    this.type = 'NumberTexture';\n  }\n  renderRawOutput() {\n    const { context: gl } = this;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer());\n    gl.framebufferTexture2D(\n      gl.FRAMEBUFFER,\n      gl.COLOR_ATTACHMENT0,\n      gl.TEXTURE_2D,\n      this.texture,\n      0\n    );\n    const result = new Uint8Array(this.size[0] * this.size[1] * 4);\n    gl.readPixels(0, 0, this.size[0], this.size[1], gl.RGBA, gl.UNSIGNED_BYTE, result);\n    return result;\n  }\n  renderValues() {\n    if (this._deleted) return null;\n    return new Float32Array(this.renderRawOutput().buffer);\n  }\n  toArray() {\n    return utils.erectPackedFloat(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureUnsigned\n};\n},{\"../../../utils\":114,\"./index\":27}],34:[function(require,module,exports){\nconst getContext = require('gl');\nconst { WebGLKernel } = require('../web-gl/kernel');\nconst { glKernelString } = require('../gl/kernel-string');\n\nlet isSupported = null;\nlet testCanvas = null;\nlet testContext = null;\nlet testExtensions = null;\nlet features = null;\n\nclass HeadlessGLKernel extends WebGLKernel {\n  static get isSupported() {\n    if (isSupported !== null) return isSupported;\n    this.setupFeatureChecks();\n    isSupported = testContext !== null;\n    return isSupported;\n  }\n\n  static setupFeatureChecks() {\n    testCanvas = null;\n    testExtensions = null;\n    if (typeof getContext !== 'function') return;\n    try { \n      testContext = getContext(2, 2, {\n        preserveDrawingBuffer: true\n      });\n      if (!testContext || !testContext.getExtension) return;\n      testExtensions = {\n        STACKGL_resize_drawingbuffer: testContext.getExtension('STACKGL_resize_drawingbuffer'),\n        STACKGL_destroy_context: testContext.getExtension('STACKGL_destroy_context'),\n        OES_texture_float: testContext.getExtension('OES_texture_float'),\n        OES_texture_float_linear: testContext.getExtension('OES_texture_float_linear'),\n        OES_element_index_uint: testContext.getExtension('OES_element_index_uint'),\n        WEBGL_draw_buffers: testContext.getExtension('WEBGL_draw_buffers'),\n        WEBGL_color_buffer_float: testContext.getExtension('WEBGL_color_buffer_float'),\n      };\n      features = this.getFeatures();\n    } catch (e) {\n      console.warn(e);\n    }\n  }\n\n  static isContextMatch(context) {\n    try {\n      return context.getParameter(context.RENDERER) === 'ANGLE';\n    } catch (e) {\n      return false;\n    }\n  }\n\n  static getIsTextureFloat() {\n    return Boolean(testExtensions.OES_texture_float);\n  }\n\n  static getIsDrawBuffers() {\n    return Boolean(testExtensions.WEBGL_draw_buffers);\n  }\n\n  static getChannelCount() {\n    return testExtensions.WEBGL_draw_buffers ?\n      testContext.getParameter(testExtensions.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL) :\n      1;\n  }\n\n  static getMaxTextureSize() {\n    return testContext.getParameter(testContext.MAX_TEXTURE_SIZE);\n  }\n\n  static get testCanvas() {\n    return testCanvas;\n  }\n\n  static get testContext() {\n    return testContext;\n  }\n\n  static get features() {\n    return features;\n  }\n\n  initCanvas() {\n    return {};\n  }\n\n  initContext() {\n    return getContext(2, 2, {\n      preserveDrawingBuffer: true\n    });\n  }\n\n  initExtensions() {\n    this.extensions = {\n      STACKGL_resize_drawingbuffer: this.context.getExtension('STACKGL_resize_drawingbuffer'),\n      STACKGL_destroy_context: this.context.getExtension('STACKGL_destroy_context'),\n      OES_texture_float: this.context.getExtension('OES_texture_float'),\n      OES_texture_float_linear: this.context.getExtension('OES_texture_float_linear'),\n      OES_element_index_uint: this.context.getExtension('OES_element_index_uint'),\n      WEBGL_draw_buffers: this.context.getExtension('WEBGL_draw_buffers'),\n    };\n  }\n\n  build() {\n    super.build.apply(this, arguments);\n    if (!this.fallbackRequested) {\n      this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0], this.maxTexSize[1]);\n    }\n  }\n\n  destroyExtensions() {\n    this.extensions.STACKGL_resize_drawingbuffer = null;\n    this.extensions.STACKGL_destroy_context = null;\n    this.extensions.OES_texture_float = null;\n    this.extensions.OES_texture_float_linear = null;\n    this.extensions.OES_element_index_uint = null;\n    this.extensions.WEBGL_draw_buffers = null;\n  }\n\n  static destroyContext(context) {\n    const extension = context.getExtension('STACKGL_destroy_context');\n    if (extension && extension.destroy) {\n      extension.destroy();\n    }\n  }\n\n  toString() {\n    const setupContextString = `const gl = context || require('gl')(1, 1);\\n`;\n    const destroyContextString = `    if (!context) { gl.getExtension('STACKGL_destroy_context').destroy(); }\\n`;\n    return glKernelString(this.constructor, arguments, this, setupContextString, destroyContextString);\n  }\n\n  setOutput(output) {\n    super.setOutput(output);\n    if (this.graphical && this.extensions.STACKGL_resize_drawingbuffer) {\n      this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0], this.maxTexSize[1]);\n    }\n    return this;\n  }\n}\n\nmodule.exports = {\n  HeadlessGLKernel\n};\n},{\"../gl/kernel-string\":12,\"../web-gl/kernel\":70,\"gl\":2}],35:[function(require,module,exports){\nclass KernelValue {\n  constructor(value, settings) {\n    const {\n      name,\n      kernel,\n      context,\n      checkContext,\n      onRequestContextHandle,\n      onUpdateValueMismatch,\n      origin,\n      strictIntegers,\n      type,\n      tactic,\n    } = settings;\n    if (!name) {\n      throw new Error('name not set');\n    }\n    if (!type) {\n      throw new Error('type not set');\n    }\n    if (!origin) {\n      throw new Error('origin not set');\n    }\n    if (origin !== 'user' && origin !== 'constants') {\n      throw new Error(`origin must be \"user\" or \"constants\" value is \"${ origin }\"`);\n    }\n    if (!onRequestContextHandle) {\n      throw new Error('onRequestContextHandle is not set');\n    }\n    this.name = name;\n    this.origin = origin;\n    this.tactic = tactic;\n    this.varName = origin === 'constants' ? `constants.${name}` : name;\n    this.kernel = kernel;\n    this.strictIntegers = strictIntegers;\n    this.type = value.type || type;\n    this.size = value.size || null;\n    this.index = null;\n    this.context = context;\n    this.checkContext = checkContext !== null && checkContext !== undefined ? checkContext : true;\n    this.contextHandle = null;\n    this.onRequestContextHandle = onRequestContextHandle;\n    this.onUpdateValueMismatch = onUpdateValueMismatch;\n    this.forceUploadEachRun = null;\n  }\n\n  get id() {\n    return `${this.origin}_${name}`;\n  }\n\n  getSource() {\n    throw new Error(`\"getSource\" not defined on ${ this.constructor.name }`);\n  }\n\n  updateValue(value) {\n    throw new Error(`\"updateValue\" not defined on ${ this.constructor.name }`);\n  }\n}\n\nmodule.exports = {\n  KernelValue\n};\n},{}],36:[function(require,module,exports){\nconst { utils } = require('../utils');\nconst { Input } = require('../input');\n\nclass Kernel {\n  static get isSupported() {\n    throw new Error(`\"isSupported\" not implemented on ${ this.name }`);\n  }\n\n  static isContextMatch(context) {\n    throw new Error(`\"isContextMatch\" not implemented on ${ this.name }`);\n  }\n\n  static getFeatures() {\n    throw new Error(`\"getFeatures\" not implemented on ${ this.name }`);\n  }\n\n  static destroyContext(context) {\n    throw new Error(`\"destroyContext\" called on ${ this.name }`);\n  }\n\n  static nativeFunctionArguments() {\n    throw new Error(`\"nativeFunctionArguments\" called on ${ this.name }`);\n  }\n\n  static nativeFunctionReturnType() {\n    throw new Error(`\"nativeFunctionReturnType\" called on ${ this.name }`);\n  }\n\n  static combineKernels() {\n    throw new Error(`\"combineKernels\" called on ${ this.name }`);\n  }\n\n  constructor(source, settings) {\n    if (typeof source !== 'object') {\n      if (typeof source !== 'string') {\n        throw new Error('source not a string');\n      }\n      if (!utils.isFunctionString(source)) {\n        throw new Error('source not a function string');\n      }\n    }\n    this.useLegacyEncoder = false;\n    this.fallbackRequested = false;\n    this.onRequestFallback = null;\n\n    this.argumentNames = typeof source === 'string' ? utils.getArgumentNamesFromString(source) : null;\n    this.argumentTypes = null;\n    this.argumentSizes = null;\n    this.argumentBitRatios = null;\n    this.kernelArguments = null;\n    this.kernelConstants = null;\n    this.forceUploadKernelConstants = null;\n\n\n    this.source = source;\n\n    this.output = null;\n\n    this.debug = false;\n\n    this.graphical = false;\n\n    this.loopMaxIterations = 0;\n\n    this.constants = null;\n\n    this.constantTypes = null;\n\n    this.constantBitRatios = null;\n\n    this.dynamicArguments = false;\n\n    this.dynamicOutput = false;\n\n    this.canvas = null;\n\n    this.context = null;\n\n    this.checkContext = null;\n\n    this.gpu = null;\n\n    this.functions = null;\n\n    this.nativeFunctions = null;\n\n    this.injectedNative = null;\n\n    this.subKernels = null;\n\n    this.validate = true;\n\n    this.immutable = false;\n\n    this.pipeline = false;\n\n    this.precision = null;\n\n    this.tactic = null;\n\n    this.plugins = null;\n\n    this.returnType = null;\n    this.leadingReturnStatement = null;\n    this.followingReturnStatement = null;\n    this.optimizeFloatMemory = null;\n    this.strictIntegers = false;\n    this.fixIntegerDivisionAccuracy = null;\n    this.built = false;\n    this.signature = null;\n  }\n\n  mergeSettings(settings) {\n    for (let p in settings) {\n      if (!settings.hasOwnProperty(p) || !this.hasOwnProperty(p)) continue;\n      switch (p) {\n        case 'output':\n          if (!Array.isArray(settings.output)) {\n            this.setOutput(settings.output); \n            continue;\n          }\n          break;\n        case 'functions':\n          this.functions = [];\n          for (let i = 0; i < settings.functions.length; i++) {\n            this.addFunction(settings.functions[i]);\n          }\n          continue;\n        case 'graphical':\n          if (settings[p] && !settings.hasOwnProperty('precision')) {\n            this.precision = 'unsigned';\n          }\n          this[p] = settings[p];\n          continue;\n        case 'nativeFunctions':\n          if (!settings.nativeFunctions) continue;\n          this.nativeFunctions = [];\n          for (let i = 0; i < settings.nativeFunctions.length; i++) {\n            const s = settings.nativeFunctions[i];\n            const { name, source } = s;\n            this.addNativeFunction(name, source, s);\n          }\n          continue;\n      }\n      this[p] = settings[p];\n    }\n\n    if (!this.canvas) this.canvas = this.initCanvas();\n    if (!this.context) this.context = this.initContext();\n    if (!this.plugins) this.plugins = this.initPlugins(settings);\n  }\n  build() {\n    throw new Error(`\"build\" not defined on ${ this.constructor.name }`);\n  }\n\n  run() {\n    throw new Error(`\"run\" not defined on ${ this.constructor.name }`)\n  }\n\n  initCanvas() {\n    throw new Error(`\"initCanvas\" not defined on ${ this.constructor.name }`);\n  }\n\n  initContext() {\n    throw new Error(`\"initContext\" not defined on ${ this.constructor.name }`);\n  }\n\n  initPlugins(settings) {\n    throw new Error(`\"initPlugins\" not defined on ${ this.constructor.name }`);\n  }\n\n  addFunction(source, settings = {}) {\n    if (source.name && source.source && source.argumentTypes && 'returnType' in source) {\n      this.functions.push(source);\n    } else if ('settings' in source && 'source' in source) {\n      this.functions.push(this.functionToIGPUFunction(source.source, source.settings));\n    } else if (typeof source === 'string' || typeof source === 'function') {\n      this.functions.push(this.functionToIGPUFunction(source, settings));\n    } else {\n      throw new Error(`function not properly defined`);\n    }\n    return this;\n  }\n\n  addNativeFunction(name, source, settings = {}) {\n    const { argumentTypes, argumentNames } = settings.argumentTypes ?\n      splitArgumentTypes(settings.argumentTypes) :\n      this.constructor.nativeFunctionArguments(source) || {};\n    this.nativeFunctions.push({\n      name,\n      source,\n      settings,\n      argumentTypes,\n      argumentNames,\n      returnType: settings.returnType || this.constructor.nativeFunctionReturnType(source)\n    });\n    return this;\n  }\n\n  setupArguments(args) {\n    this.kernelArguments = [];\n    if (!this.argumentTypes) {\n      if (!this.argumentTypes) {\n        this.argumentTypes = [];\n        for (let i = 0; i < args.length; i++) {\n          const argType = utils.getVariableType(args[i], this.strictIntegers);\n          const type = argType === 'Integer' ? 'Number' : argType;\n          this.argumentTypes.push(type);\n          this.kernelArguments.push({\n            type\n          });\n        }\n      }\n    } else {\n      for (let i = 0; i < this.argumentTypes.length; i++) {\n        this.kernelArguments.push({\n          type: this.argumentTypes[i]\n        });\n      }\n    }\n\n    this.argumentSizes = new Array(args.length);\n    this.argumentBitRatios = new Int32Array(args.length);\n\n    for (let i = 0; i < args.length; i++) {\n      const arg = args[i];\n      this.argumentSizes[i] = arg.constructor === Input ? arg.size : null;\n      this.argumentBitRatios[i] = this.getBitRatio(arg);\n    }\n\n    if (this.argumentNames.length !== args.length) {\n      throw new Error(`arguments are miss-aligned`);\n    }\n  }\n\n  setupConstants() {\n    this.kernelConstants = [];\n    let needsConstantTypes = this.constantTypes === null;\n    if (needsConstantTypes) {\n      this.constantTypes = {};\n    }\n    this.constantBitRatios = {};\n    if (this.constants) {\n      for (let name in this.constants) {\n        if (needsConstantTypes) {\n          const type = utils.getVariableType(this.constants[name], this.strictIntegers);\n          this.constantTypes[name] = type;\n          this.kernelConstants.push({\n            name,\n            type\n          });\n        } else {\n          this.kernelConstants.push({\n            name,\n            type: this.constantTypes[name]\n          });\n        }\n        this.constantBitRatios[name] = this.getBitRatio(this.constants[name]);\n      }\n    }\n  }\n\n  setOptimizeFloatMemory(flag) {\n    this.optimizeFloatMemory = flag;\n    return this;\n  }\n\n  toKernelOutput(output) {\n    if (output.hasOwnProperty('x')) {\n      if (output.hasOwnProperty('y')) {\n        if (output.hasOwnProperty('z')) {\n          return [output.x, output.y, output.z];\n        } else {\n          return [output.x, output.y];\n        }\n      } else {\n        return [output.x];\n      }\n    } else {\n      return output;\n    }\n  }\n\n  setOutput(output) {\n    this.output = this.toKernelOutput(output);\n    return this;\n  }\n\n  setDebug(flag) {\n    this.debug = flag;\n    return this;\n  }\n\n  setGraphical(flag) {\n    this.graphical = flag;\n    this.precision = 'unsigned';\n    return this;\n  }\n\n  setLoopMaxIterations(max) {\n    this.loopMaxIterations = max;\n    return this;\n  }\n\n  setConstants(constants) {\n    this.constants = constants;\n    return this;\n  }\n\n  setConstantTypes(constantTypes) {\n    this.constantTypes = constantTypes;\n    return this;\n  }\n\n  setFunctions(functions) {\n    for (let i = 0; i < functions.length; i++) {\n      this.addFunction(functions[i]);\n    }\n    return this;\n  }\n\n  setNativeFunctions(nativeFunctions) {\n    for (let i = 0; i < nativeFunctions.length; i++) {\n      const settings = nativeFunctions[i];\n      const { name, source } = settings;\n      this.addNativeFunction(name, source, settings);\n    }\n    return this;\n  }\n\n  setInjectedNative(injectedNative) {\n    this.injectedNative = injectedNative;\n    return this;\n  }\n\n  setPipeline(flag) {\n    this.pipeline = flag;\n    return this;\n  }\n\n  setPrecision(flag) {\n    this.precision = flag;\n    return this;\n  }\n\n  setDimensions(flag) {\n    utils.warnDeprecated('method', 'setDimensions', 'setOutput');\n    this.output = flag;\n    return this;\n  }\n\n  setOutputToTexture(flag) {\n    utils.warnDeprecated('method', 'setOutputToTexture', 'setPipeline');\n    this.pipeline = flag;\n    return this;\n  }\n\n  setImmutable(flag) {\n    this.immutable = flag;\n    return this;\n  }\n\n  setCanvas(canvas) {\n    this.canvas = canvas;\n    return this;\n  }\n\n  setStrictIntegers(flag) {\n    this.strictIntegers = flag;\n    return this;\n  }\n\n  setDynamicOutput(flag) {\n    this.dynamicOutput = flag;\n    return this;\n  }\n\n  setHardcodeConstants(flag) {\n    utils.warnDeprecated('method', 'setHardcodeConstants');\n    this.setDynamicOutput(flag);\n    this.setDynamicArguments(flag);\n    return this;\n  }\n\n  setDynamicArguments(flag) {\n    this.dynamicArguments = flag;\n    return this;\n  }\n\n  setUseLegacyEncoder(flag) {\n    this.useLegacyEncoder = flag;\n    return this;\n  }\n\n  setWarnVarUsage(flag) {\n    utils.warnDeprecated('method', 'setWarnVarUsage');\n    return this;\n  }\n\n  getCanvas() {\n    utils.warnDeprecated('method', 'getCanvas');\n    return this.canvas;\n  }\n\n  getWebGl() {\n    utils.warnDeprecated('method', 'getWebGl');\n    return this.context;\n  }\n\n  setContext(context) {\n    this.context = context;\n    return this;\n  }\n\n  setArgumentTypes(argumentTypes) {\n    if (Array.isArray(argumentTypes)) {\n      this.argumentTypes = argumentTypes;\n    } else {\n      this.argumentTypes = [];\n      for (const p in argumentTypes) {\n        if (!argumentTypes.hasOwnProperty(p)) continue;\n        const argumentIndex = this.argumentNames.indexOf(p);\n        if (argumentIndex === -1) throw new Error(`unable to find argument ${ p }`);\n        this.argumentTypes[argumentIndex] = argumentTypes[p];\n      }\n    }\n    return this;\n  }\n\n  setTactic(tactic) {\n    this.tactic = tactic;\n    return this;\n  }\n\n  requestFallback(args) {\n    if (!this.onRequestFallback) {\n      throw new Error(`\"onRequestFallback\" not defined on ${ this.constructor.name }`);\n    }\n    this.fallbackRequested = true;\n    return this.onRequestFallback(args);\n  }\n\n  validateSettings() {\n    throw new Error(`\"validateSettings\" not defined on ${ this.constructor.name }`);\n  }\n\n  addSubKernel(subKernel) {\n    if (this.subKernels === null) {\n      this.subKernels = [];\n    }\n    if (!subKernel.source) throw new Error('subKernel missing \"source\" property');\n    if (!subKernel.property && isNaN(subKernel.property)) throw new Error('subKernel missing \"property\" property');\n    if (!subKernel.name) throw new Error('subKernel missing \"name\" property');\n    this.subKernels.push(subKernel);\n    return this;\n  }\n\n  destroy(removeCanvasReferences) {\n    throw new Error(`\"destroy\" called on ${ this.constructor.name }`);\n  }\n\n  getBitRatio(value) {\n    if (this.precision === 'single') {\n      return 4;\n    } else if (Array.isArray(value[0])) {\n      return this.getBitRatio(value[0]);\n    } else if (value.constructor === Input) {\n      return this.getBitRatio(value.value);\n    }\n    switch (value.constructor) {\n      case Uint8ClampedArray:\n      case Uint8Array:\n      case Int8Array:\n        return 1;\n      case Uint16Array:\n      case Int16Array:\n        return 2;\n      case Float32Array:\n      case Int32Array:\n      default:\n        return 4;\n    }\n  }\n\n  getPixels(flip) {\n    throw new Error(`\"getPixels\" called on ${ this.constructor.name }`);\n  }\n\n  checkOutput() {\n    if (!this.output || !utils.isArray(this.output)) throw new Error('kernel.output not an array');\n    if (this.output.length < 1) throw new Error('kernel.output is empty, needs at least 1 value');\n    for (let i = 0; i < this.output.length; i++) {\n      if (isNaN(this.output[i]) || this.output[i] < 1) {\n        throw new Error(`${ this.constructor.name }.output[${ i }] incorrectly defined as \\`${ this.output[i] }\\`, needs to be numeric, and greater than 0`);\n      }\n    }\n  }\n\n  prependString(value) {\n    throw new Error(`\"prependString\" called on ${ this.constructor.name }`);\n  }\n\n  hasPrependString(value) {\n    throw new Error(`\"hasPrependString\" called on ${ this.constructor.name }`);\n  }\n\n  toJSON() {\n    return {\n      settings: {\n        output: this.output,\n        pipeline: this.pipeline,\n        argumentNames: this.argumentNames,\n        argumentsTypes: this.argumentTypes,\n        constants: this.constants,\n        pluginNames: this.plugins ? this.plugins.map(plugin => plugin.name) : null,\n        returnType: this.returnType,\n      }\n    };\n  }\n\n  buildSignature(args) {\n    const Constructor = this.constructor;\n    this.signature = Constructor.getSignature(this, Constructor.getArgumentTypes(this, args));\n  }\n\n  static getArgumentTypes(kernel, args) {\n    const argumentTypes = new Array(args.length);\n    for (let i = 0; i < args.length; i++) {\n      const arg = args[i];\n      const type = kernel.argumentTypes[i];\n      if (arg.type) {\n        argumentTypes[i] = arg.type;\n      } else {\n        switch (type) {\n          case 'Number':\n          case 'Integer':\n          case 'Float':\n          case 'ArrayTexture(1)':\n            argumentTypes[i] = utils.getVariableType(arg);\n            break;\n          default:\n            argumentTypes[i] = type;\n        }\n      }\n    }\n    return argumentTypes;\n  }\n\n  static getSignature(kernel, argumentTypes) {\n    throw new Error(`\"getSignature\" not implemented on ${ this.name }`);\n  }\n\n  functionToIGPUFunction(source, settings = {}) {\n    if (typeof source !== 'string' && typeof source !== 'function') throw new Error('source not a string or function');\n    const sourceString = typeof source === 'string' ? source : source.toString();\n    let argumentTypes = [];\n\n    if (Array.isArray(settings.argumentTypes)) {\n      argumentTypes = settings.argumentTypes;\n    } else if (typeof settings.argumentTypes === 'object') {\n      argumentTypes = utils.getArgumentNamesFromString(sourceString)\n        .map(name => settings.argumentTypes[name]) || [];\n    } else {\n      argumentTypes = settings.argumentTypes || [];\n    }\n\n    return {\n      name: utils.getFunctionNameFromString(sourceString) || null,\n      source: sourceString,\n      argumentTypes,\n      returnType: settings.returnType || null,\n    };\n  }\n\n  onActivate(previousKernel) {}\n}\n\nfunction splitArgumentTypes(argumentTypesObject) {\n  const argumentNames = Object.keys(argumentTypesObject);\n  const argumentTypes = [];\n  for (let i = 0; i < argumentNames.length; i++) {\n    const argumentName = argumentNames[i];\n    argumentTypes.push(argumentTypesObject[argumentName]);\n  }\n  return { argumentTypes, argumentNames };\n}\n\nmodule.exports = {\n  Kernel\n};\n},{\"../input\":110,\"../utils\":114}],37:[function(require,module,exports){\nconst fragmentShader = `__HEADER__;\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nconst int LOOP_MAX = __LOOP_MAX__;\n\n__PLUGINS__;\n__CONSTANTS__;\n\nvarying vec2 vTexCoord;\n\nfloat acosh(float x) {\n  return log(x + sqrt(x * x - 1.0));\n}\n\nfloat sinh(float x) {\n  return (pow(${Math.E}, x) - pow(${Math.E}, -x)) / 2.0;\n}\n\nfloat asinh(float x) {\n  return log(x + sqrt(x * x + 1.0));\n}\n\nfloat atan2(float v1, float v2) {\n  if (v1 == 0.0 || v2 == 0.0) return 0.0;\n  return atan(v1 / v2);\n}\n\nfloat atanh(float x) {\n  x = (x + 1.0) / (x - 1.0);\n  if (x < 0.0) {\n    return 0.5 * log(-x);\n  }\n  return 0.5 * log(x);\n}\n\nfloat cbrt(float x) {\n  if (x >= 0.0) {\n    return pow(x, 1.0 / 3.0);\n  } else {\n    return -pow(x, 1.0 / 3.0);\n  }\n}\n\nfloat cosh(float x) {\n  return (pow(${Math.E}, x) + pow(${Math.E}, -x)) / 2.0; \n}\n\nfloat expm1(float x) {\n  return pow(${Math.E}, x) - 1.0; \n}\n\nfloat fround(highp float x) {\n  return x;\n}\n\nfloat imul(float v1, float v2) {\n  return float(int(v1) * int(v2));\n}\n\nfloat log10(float x) {\n  return log2(x) * (1.0 / log2(10.0));\n}\n\nfloat log1p(float x) {\n  return log(1.0 + x);\n}\n\nfloat _pow(float v1, float v2) {\n  if (v2 == 0.0) return 1.0;\n  return pow(v1, v2);\n}\n\nfloat tanh(float x) {\n  float e = exp(2.0 * x);\n  return (e - 1.0) / (e + 1.0);\n}\n\nfloat trunc(float x) {\n  if (x >= 0.0) {\n    return floor(x); \n  } else {\n    return ceil(x);\n  }\n}\n\nvec4 _round(vec4 x) {\n  return floor(x + 0.5);\n}\n\nfloat _round(float x) {\n  return floor(x + 0.5);\n}\n\nconst int BIT_COUNT = 32;\nint modi(int x, int y) {\n  return x - y * (x / y);\n}\n\nint bitwiseOr(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseXOR(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseAnd(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 && b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseNot(int a) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (modi(a, 2) == 0) {\n      result += n;    \n    }\n    a = a / 2;\n    n = n * 2;\n  }\n  return result;\n}\nint bitwiseZeroFillLeftShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n *= 2;\n  }\n\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nint bitwiseSignedRightShift(int num, int shifts) {\n  return int(floor(float(num) / pow(2.0, float(shifts))));\n}\n\nint bitwiseZeroFillRightShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n /= 2;\n  }\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nfloat integerMod(float x, float y) {\n  float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nint integerMod(int x, int y) {\n  return x - (y * int(x / y));\n}\n\n__DIVIDE_WITH_INTEGER_CHECK__;\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY\\'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nfloat decode32(vec4 texel) {\n  __DECODE32_ENDIANNESS__;\n  texel *= 255.0;\n  vec2 gte128;\n  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(_round(exponent));\n  texel.b = texel.b - 128.0 * gte128.x;\n  res = dot(texel, SCALE_FACTOR) * exp2(_round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nfloat decode16(vec4 texel, int index) {\n  int channel = integerMod(index, 2);\n  if (channel == 0) return texel.r * 255.0 + texel.g * 65280.0;\n  if (channel == 1) return texel.b * 255.0 + texel.a * 65280.0;\n  return 0.0;\n}\n\nfloat decode8(vec4 texel, int index) {\n  int channel = integerMod(index, 4);\n  if (channel == 0) return texel.r * 255.0;\n  if (channel == 1) return texel.g * 255.0;\n  if (channel == 2) return texel.b * 255.0;\n  if (channel == 3) return texel.a * 255.0;\n  return 0.0;\n}\n\nvec4 legacyEncode32(float f) {\n  float F = abs(f);\n  float sign = f < 0.0 ? 1.0 : 0.0;\n  float exponent = floor(log2(F));\n  float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  texel.rg = integerMod(texel.rg, 256.0);\n  texel.b = integerMod(texel.b, 128.0);\n  texel.a = exponent*0.5 + 63.5;\n  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  texel = floor(texel);\n  texel *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return texel;\n}\n\n// https://github.com/gpujs/gpu.js/wiki/Encoder-details\nvec4 encode32(float value) {\n  if (value == 0.0) return vec4(0, 0, 0, 0);\n\n  float exponent;\n  float mantissa;\n  vec4  result;\n  float sgn;\n\n  sgn = step(0.0, -value);\n  value = abs(value);\n\n  exponent = floor(log2(value));\n\n  mantissa = value*pow(2.0, -exponent)-1.0;\n  exponent = exponent+127.0;\n  result   = vec4(0,0,0,0);\n\n  result.a = floor(exponent/2.0);\n  exponent = exponent - result.a*2.0;\n  result.a = result.a + 128.0*sgn;\n\n  result.b = floor(mantissa * 128.0);\n  mantissa = mantissa - result.b / 128.0;\n  result.b = result.b + exponent*128.0;\n\n  result.g = floor(mantissa*32768.0);\n  mantissa = mantissa - result.g/32768.0;\n\n  result.r = floor(mantissa*8388608.0);\n  return result/255.0;\n}\n// Dragons end here\n\nint index;\nivec3 threadId;\n\nivec3 indexTo3D(int idx, ivec3 texDim) {\n  int z = int(idx / (texDim.x * texDim.y));\n  idx -= z * int(texDim.x * texDim.y);\n  int y = int(idx / texDim.x);\n  int x = int(integerMod(idx, texDim.x));\n  return ivec3(x, y, z);\n}\n\nfloat get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  return decode32(texel);\n}\n\nfloat get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x * 2;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize.x * 2, texSize.y));\n  return decode16(texel, index);\n}\n\nfloat get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x * 4;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize.x * 4, texSize.y));\n  return decode8(texel, index);\n}\n\nfloat getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 4);\n  index = index / 4;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  if (channel == 0) return texel.r;\n  if (channel == 1) return texel.g;\n  if (channel == 2) return texel.b;\n  if (channel == 3) return texel.a;\n  return 0.0;\n}\n\nvec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture2D(tex, st / vec2(texSize));\n}\n\nfloat getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return result[0];\n}\n\nvec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec2(result[0], result[1]);\n}\n\nvec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int channel = integerMod(index, 2);\n  index = index / 2;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  if (channel == 0) return vec2(texel.r, texel.g);\n  if (channel == 1) return vec2(texel.b, texel.a);\n  return vec2(0.0, 0.0);\n}\n\nvec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec3(result[0], result[1], result[2]);\n}\n\nvec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));\n  int vectorIndex = fieldIndex / 4;\n  int vectorOffset = fieldIndex - vectorIndex * 4;\n  int readY = vectorIndex / texSize.x;\n  int readX = vectorIndex - readY * texSize.x;\n  vec4 tex1 = texture2D(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));\n  \n  if (vectorOffset == 0) {\n    return tex1.xyz;\n  } else if (vectorOffset == 1) {\n    return tex1.yzw;\n  } else {\n    readX++;\n    if (readX >= texSize.x) {\n      readX = 0;\n      readY++;\n    }\n    vec4 tex2 = texture2D(tex, vec2(readX, readY) / vec2(texSize));\n    if (vectorOffset == 2) {\n      return vec3(tex1.z, tex1.w, tex2.x);\n    } else {\n      return vec3(tex1.w, tex2.x, tex2.y);\n    }\n  }\n}\n\nvec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  return getImage2D(tex, texSize, texDim, z, y, x);\n}\n\nvec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  return vec4(texel.r, texel.g, texel.b, texel.a);\n}\n\nvec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\nvoid color(sampler2D image) {\n  actualColor = texture2D(image, vTexCoord);\n}\n\nfloat modulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -mod(number, divisor);\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return mod(number, divisor);\n}\n\n__INJECTED_NATIVE__;\n__MAIN_CONSTANTS__;\n__MAIN_ARGUMENTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}`;\n\nmodule.exports = {\n  fragmentShader\n};\n},{}],38:[function(require,module,exports){\nconst { utils } = require('../../utils');\nconst { FunctionNode } = require('../function-node');\n\nclass WebGLFunctionNode extends FunctionNode {\n  constructor(source, settings) {\n    super(source, settings);\n    if (settings && settings.hasOwnProperty('fixIntegerDivisionAccuracy')) {\n      this.fixIntegerDivisionAccuracy = settings.fixIntegerDivisionAccuracy;\n    }\n  }\n\n  astConditionalExpression(ast, retArr) {\n    if (ast.type !== 'ConditionalExpression') {\n      throw this.astErrorOutput('Not a conditional expression', ast);\n    }\n    const consequentType = this.getType(ast.consequent);\n    const alternateType = this.getType(ast.alternate);\n    if (consequentType === null && alternateType === null) {\n      retArr.push('if (');\n      this.astGeneric(ast.test, retArr);\n      retArr.push(') {');\n      this.astGeneric(ast.consequent, retArr);\n      retArr.push(';');\n      retArr.push('} else {');\n      this.astGeneric(ast.alternate, retArr);\n      retArr.push(';');\n      retArr.push('}');\n      return retArr;\n    }\n    retArr.push('(');\n    this.astGeneric(ast.test, retArr);\n    retArr.push('?');\n    this.astGeneric(ast.consequent, retArr);\n    retArr.push(':');\n    this.astGeneric(ast.alternate, retArr);\n    retArr.push(')');\n    return retArr;\n  }\n\n  astFunction(ast, retArr) {\n    if (this.isRootKernel) {\n      retArr.push('void');\n    } else {\n      if (!this.returnType) {\n        const lastReturn = this.findLastReturn();\n        if (lastReturn) {\n          this.returnType = this.getType(ast.body);\n          if (this.returnType === 'LiteralInteger') {\n            this.returnType = 'Number';\n          }\n        }\n      }\n\n      const { returnType } = this;\n      if (!returnType) {\n        retArr.push('void');\n      } else {\n        const type = typeMap[returnType];\n        if (!type) {\n          throw new Error(`unknown type ${returnType}`);\n        }\n        retArr.push(type);\n      }\n    }\n    retArr.push(' ');\n    retArr.push(this.name);\n    retArr.push('(');\n\n    if (!this.isRootKernel) {\n      for (let i = 0; i < this.argumentNames.length; ++i) {\n        const argumentName = this.argumentNames[i];\n\n        if (i > 0) {\n          retArr.push(', ');\n        }\n        let argumentType = this.argumentTypes[this.argumentNames.indexOf(argumentName)];\n        if (!argumentType) {\n          throw this.astErrorOutput(`Unknown argument ${argumentName} type`, ast);\n        }\n        if (argumentType === 'LiteralInteger') {\n          this.argumentTypes[i] = argumentType = 'Number';\n        }\n        const type = typeMap[argumentType];\n        if (!type) {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        const name = utils.sanitizeName(argumentName);\n        if (type === 'sampler2D' || type === 'sampler2DArray') {\n          retArr.push(`${type} user_${name},ivec2 user_${name}Size,ivec3 user_${name}Dim`);\n        } else {\n          retArr.push(`${type} user_${name}`);\n        }\n      }\n    }\n\n    retArr.push(') {\\n');\n\n    for (let i = 0; i < ast.body.body.length; ++i) {\n      this.astGeneric(ast.body.body[i], retArr);\n      retArr.push('\\n');\n    }\n\n    retArr.push('}\\n');\n    return retArr;\n  }\n\n  astReturnStatement(ast, retArr) {\n    if (!ast.argument) throw this.astErrorOutput('Unexpected return statement', ast);\n    this.pushState('skip-literal-correction');\n    const type = this.getType(ast.argument);\n    this.popState('skip-literal-correction');\n\n    const result = [];\n\n    if (!this.returnType) {\n      if (type === 'LiteralInteger' || type === 'Integer') {\n        this.returnType = 'Number';\n      } else {\n        this.returnType = type;\n      }\n    }\n\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Number':\n      case 'Float':\n        switch (type) {\n          case 'Integer':\n            result.push('float(');\n            this.astGeneric(ast.argument, result);\n            result.push(')');\n            break;\n          case 'LiteralInteger':\n            this.castLiteralToFloat(ast.argument, result);\n\n            if (this.getType(ast) === 'Integer') {\n              result.unshift('float(');\n              result.push(')');\n            }\n            break;\n          default:\n            this.astGeneric(ast.argument, result);\n        }\n        break;\n      case 'Integer':\n        switch (type) {\n          case 'Float':\n          case 'Number':\n            this.castValueToInteger(ast.argument, result);\n            break;\n          case 'LiteralInteger':\n            this.castLiteralToInteger(ast.argument, result);\n            break;\n          default:\n            this.astGeneric(ast.argument, result);\n        }\n        break;\n      case 'Array(4)':\n      case 'Array(3)':\n      case 'Array(2)':\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n      case 'Input':\n        this.astGeneric(ast.argument, result);\n        break;\n      default:\n        throw this.astErrorOutput(`unhandled return type ${this.returnType}`, ast);\n    }\n\n    if (this.isRootKernel) {\n      retArr.push(`kernelResult = ${ result.join('') };`);\n      retArr.push('return;');\n    } else if (this.isSubKernel) {\n      retArr.push(`subKernelResult_${ this.name } = ${ result.join('') };`);\n      retArr.push(`return subKernelResult_${ this.name };`);\n    } else {\n      retArr.push(`return ${ result.join('') };`);\n    }\n    return retArr;\n  }\n\n  astLiteral(ast, retArr) {\n    if (isNaN(ast.value)) {\n      throw this.astErrorOutput(\n        'Non-numeric literal not supported : ' + ast.value,\n        ast\n      );\n    }\n\n    const key = this.astKey(ast);\n    if (Number.isInteger(ast.value)) {\n      if (this.isState('casting-to-integer') || this.isState('building-integer')) {\n        this.literalTypes[key] = 'Integer';\n        retArr.push(`${ast.value}`);\n      } else if (this.isState('casting-to-float') || this.isState('building-float')) {\n        this.literalTypes[key] = 'Number';\n        retArr.push(`${ast.value}.0`);\n      } else {\n        this.literalTypes[key] = 'Number';\n        retArr.push(`${ast.value}.0`);\n      }\n    } else if (this.isState('casting-to-integer') || this.isState('building-integer')) {\n      this.literalTypes[key] = 'Integer';\n      retArr.push(Math.round(ast.value));\n    } else {\n      this.literalTypes[key] = 'Number';\n      retArr.push(`${ast.value}`);\n    }\n    return retArr;\n  }\n\n  astBinaryExpression(ast, retArr) {\n    if (this.checkAndUpconvertOperator(ast, retArr)) {\n      return retArr;\n    }\n\n    if (this.fixIntegerDivisionAccuracy && ast.operator === '/') {\n      retArr.push('divWithIntCheck(');\n      this.pushState('building-float');\n      switch (this.getType(ast.left)) {\n        case 'Integer':\n          this.castValueToFloat(ast.left, retArr);\n          break;\n        case 'LiteralInteger':\n          this.castLiteralToFloat(ast.left, retArr);\n          break;\n        default:\n          this.astGeneric(ast.left, retArr);\n      }\n      retArr.push(', ');\n      switch (this.getType(ast.right)) {\n        case 'Integer':\n          this.castValueToFloat(ast.right, retArr);\n          break;\n        case 'LiteralInteger':\n          this.castLiteralToFloat(ast.right, retArr);\n          break;\n        default:\n          this.astGeneric(ast.right, retArr);\n      }\n      this.popState('building-float');\n      retArr.push(')');\n      return retArr;\n    }\n\n    retArr.push('(');\n    const leftType = this.getType(ast.left) || 'Number';\n    const rightType = this.getType(ast.right) || 'Number';\n    if (!leftType || !rightType) {\n      throw this.astErrorOutput(`Unhandled binary expression`, ast);\n    }\n    const key = leftType + ' & ' + rightType;\n    switch (key) {\n      case 'Integer & Integer':\n        this.pushState('building-integer');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.astGeneric(ast.right, retArr);\n        this.popState('building-integer');\n        break;\n      case 'Number & Float':\n      case 'Float & Number':\n      case 'Float & Float':\n      case 'Number & Number':\n        this.pushState('building-float');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.astGeneric(ast.right, retArr);\n        this.popState('building-float');\n        break;\n      case 'LiteralInteger & LiteralInteger':\n        if (this.isState('casting-to-integer') || this.isState('building-integer')) {\n          this.pushState('building-integer');\n          this.astGeneric(ast.left, retArr);\n          retArr.push(operatorMap[ast.operator] || ast.operator);\n          this.astGeneric(ast.right, retArr);\n          this.popState('building-integer');\n        } else {\n          this.pushState('building-float');\n          this.castLiteralToFloat(ast.left, retArr);\n          retArr.push(operatorMap[ast.operator] || ast.operator);\n          this.castLiteralToFloat(ast.right, retArr);\n          this.popState('building-float');\n        }\n        break;\n\n      case 'Integer & Float':\n      case 'Integer & Number':\n        if (ast.operator === '>' || ast.operator === '<' && ast.right.type === 'Literal') {\n          if (!Number.isInteger(ast.right.value)) {\n            this.pushState('building-float');\n            this.castValueToFloat(ast.left, retArr);\n            retArr.push(operatorMap[ast.operator] || ast.operator);\n            this.astGeneric(ast.right, retArr);\n            this.popState('building-float');\n            break;\n          }\n        }\n        this.pushState('building-integer');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.pushState('casting-to-integer');\n        if (ast.right.type === 'Literal') {\n          const literalResult = [];\n          this.astGeneric(ast.right, literalResult);\n          const literalType = this.getType(ast.right);\n          if (literalType === 'Integer') {\n            retArr.push(literalResult.join(''));\n          } else {\n            throw this.astErrorOutput(`Unhandled binary expression with literal`, ast);\n          }\n        } else {\n          retArr.push('int(');\n          this.astGeneric(ast.right, retArr);\n          retArr.push(')');\n        }\n        this.popState('casting-to-integer');\n        this.popState('building-integer');\n        break;\n      case 'Integer & LiteralInteger':\n        this.pushState('building-integer');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.castLiteralToInteger(ast.right, retArr);\n        this.popState('building-integer');\n        break;\n\n      case 'Number & Integer':\n        this.pushState('building-float');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.castValueToFloat(ast.right, retArr);\n        this.popState('building-float');\n        break;\n      case 'Float & LiteralInteger':\n      case 'Number & LiteralInteger':\n        this.pushState('building-float');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.castLiteralToFloat(ast.right, retArr);\n        this.popState('building-float');\n        break;\n      case 'LiteralInteger & Float':\n      case 'LiteralInteger & Number':\n        if (this.isState('casting-to-integer')) {\n          this.pushState('building-integer');\n          this.castLiteralToInteger(ast.left, retArr);\n          retArr.push(operatorMap[ast.operator] || ast.operator);\n          this.castValueToInteger(ast.right, retArr);\n          this.popState('building-integer');\n        } else {\n          this.pushState('building-float');\n          this.astGeneric(ast.left, retArr);\n          retArr.push(operatorMap[ast.operator] || ast.operator);\n          this.pushState('casting-to-float');\n          this.astGeneric(ast.right, retArr);\n          this.popState('casting-to-float');\n          this.popState('building-float');\n        }\n        break;\n      case 'LiteralInteger & Integer':\n        this.pushState('building-integer');\n        this.castLiteralToInteger(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.astGeneric(ast.right, retArr);\n        this.popState('building-integer');\n        break;\n\n      case 'Boolean & Boolean':\n        this.pushState('building-boolean');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.astGeneric(ast.right, retArr);\n        this.popState('building-boolean');\n        break;\n\n      case 'Float & Integer':\n        this.pushState('building-float');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.castValueToFloat(ast.right, retArr);\n        this.popState('building-float');\n        break;\n\n      default:\n        throw this.astErrorOutput(`Unhandled binary expression between ${key}`, ast);\n    }\n    retArr.push(')');\n\n    return retArr;\n  }\n\n  checkAndUpconvertOperator(ast, retArr) {\n    const bitwiseResult = this.checkAndUpconvertBitwiseOperators(ast, retArr);\n    if (bitwiseResult) {\n      return bitwiseResult;\n    }\n    const upconvertableOperators = {\n      '%': this.fixIntegerDivisionAccuracy ? 'integerCorrectionModulo' : 'modulo',\n      '**': 'pow',\n    };\n    const foundOperator = upconvertableOperators[ast.operator];\n    if (!foundOperator) return null;\n    retArr.push(foundOperator);\n    retArr.push('(');\n    switch (this.getType(ast.left)) {\n      case 'Integer':\n        this.castValueToFloat(ast.left, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToFloat(ast.left, retArr);\n        break;\n      default:\n        this.astGeneric(ast.left, retArr);\n    }\n    retArr.push(',');\n    switch (this.getType(ast.right)) {\n      case 'Integer':\n        this.castValueToFloat(ast.right, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToFloat(ast.right, retArr);\n        break;\n      default:\n        this.astGeneric(ast.right, retArr);\n    }\n    retArr.push(')');\n    return retArr;\n  }\n\n  checkAndUpconvertBitwiseOperators(ast, retArr) {\n    const upconvertableOperators = {\n      '&': 'bitwiseAnd',\n      '|': 'bitwiseOr',\n      '^': 'bitwiseXOR',\n      '<<': 'bitwiseZeroFillLeftShift',\n      '>>': 'bitwiseSignedRightShift',\n      '>>>': 'bitwiseZeroFillRightShift',\n    };\n    const foundOperator = upconvertableOperators[ast.operator];\n    if (!foundOperator) return null;\n    retArr.push(foundOperator);\n    retArr.push('(');\n    const leftType = this.getType(ast.left);\n    switch (leftType) {\n      case 'Number':\n      case 'Float':\n        this.castValueToInteger(ast.left, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToInteger(ast.left, retArr);\n        break;\n      default:\n        this.astGeneric(ast.left, retArr);\n    }\n    retArr.push(',');\n    const rightType = this.getType(ast.right);\n    switch (rightType) {\n      case 'Number':\n      case 'Float':\n        this.castValueToInteger(ast.right, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToInteger(ast.right, retArr);\n        break;\n      default:\n        this.astGeneric(ast.right, retArr);\n    }\n    retArr.push(')');\n    return retArr;\n  }\n\n  checkAndUpconvertBitwiseUnary(ast, retArr) {\n    const upconvertableOperators = {\n      '~': 'bitwiseNot',\n    };\n    const foundOperator = upconvertableOperators[ast.operator];\n    if (!foundOperator) return null;\n    retArr.push(foundOperator);\n    retArr.push('(');\n    switch (this.getType(ast.argument)) {\n      case 'Number':\n      case 'Float':\n        this.castValueToInteger(ast.argument, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToInteger(ast.argument, retArr);\n        break;\n      default:\n        this.astGeneric(ast.argument, retArr);\n    }\n    retArr.push(')');\n    return retArr;\n  }\n\n  castLiteralToInteger(ast, retArr) {\n    this.pushState('casting-to-integer');\n    this.astGeneric(ast, retArr);\n    this.popState('casting-to-integer');\n    return retArr;\n  }\n\n  castLiteralToFloat(ast, retArr) {\n    this.pushState('casting-to-float');\n    this.astGeneric(ast, retArr);\n    this.popState('casting-to-float');\n    return retArr;\n  }\n\n  castValueToInteger(ast, retArr) {\n    this.pushState('casting-to-integer');\n    retArr.push('int(');\n    this.astGeneric(ast, retArr);\n    retArr.push(')');\n    this.popState('casting-to-integer');\n    return retArr;\n  }\n\n  castValueToFloat(ast, retArr) {\n    this.pushState('casting-to-float');\n    retArr.push('float(');\n    this.astGeneric(ast, retArr);\n    retArr.push(')');\n    this.popState('casting-to-float');\n    return retArr;\n  }\n\n  astIdentifierExpression(idtNode, retArr) {\n    if (idtNode.type !== 'Identifier') {\n      throw this.astErrorOutput('IdentifierExpression - not an Identifier', idtNode);\n    }\n\n    const type = this.getType(idtNode);\n\n    const name = utils.sanitizeName(idtNode.name);\n    if (idtNode.name === 'Infinity') {\n      retArr.push('3.402823466e+38');\n    } else if (type === 'Boolean') {\n      if (this.argumentNames.indexOf(name) > -1) {\n        retArr.push(`bool(user_${name})`);\n      } else {\n        retArr.push(`user_${name}`);\n      }\n    } else {\n      retArr.push(`user_${name}`);\n    }\n\n    return retArr;\n  }\n\n  astForStatement(forNode, retArr) {\n    if (forNode.type !== 'ForStatement') {\n      throw this.astErrorOutput('Invalid for statement', forNode);\n    }\n\n    const initArr = [];\n    const testArr = [];\n    const updateArr = [];\n    const bodyArr = [];\n    let isSafe = null;\n\n    if (forNode.init) {\n      const { declarations } = forNode.init;\n      if (declarations.length > 1) {\n        isSafe = false;\n      }\n      this.astGeneric(forNode.init, initArr);\n      for (let i = 0; i < declarations.length; i++) {\n        if (declarations[i].init && declarations[i].init.type !== 'Literal') {\n          isSafe = false;\n        }\n      }\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.test) {\n      this.astGeneric(forNode.test, testArr);\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.update) {\n      this.astGeneric(forNode.update, updateArr);\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.body) {\n      this.pushState('loop-body');\n      this.astGeneric(forNode.body, bodyArr);\n      this.popState('loop-body');\n    }\n\n    if (isSafe === null) {\n      isSafe = this.isSafe(forNode.init) && this.isSafe(forNode.test);\n    }\n\n    if (isSafe) {\n      const initString = initArr.join('');\n      const initNeedsSemiColon = initString[initString.length - 1] !== ';';\n      retArr.push(`for (${initString}${initNeedsSemiColon ? ';' : ''}${testArr.join('')};${updateArr.join('')}){\\n`);\n      retArr.push(bodyArr.join(''));\n      retArr.push('}\\n');\n    } else {\n      const iVariableName = this.getInternalVariableName('safeI');\n      if (initArr.length > 0) {\n        retArr.push(initArr.join(''), '\\n');\n      }\n      retArr.push(`for (int ${iVariableName}=0;${iVariableName}<LOOP_MAX;${iVariableName}++){\\n`);\n      if (testArr.length > 0) {\n        retArr.push(`if (!${testArr.join('')}) break;\\n`);\n      }\n      retArr.push(bodyArr.join(''));\n      retArr.push(`\\n${updateArr.join('')};`);\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astWhileStatement(whileNode, retArr) {\n    if (whileNode.type !== 'WhileStatement') {\n      throw this.astErrorOutput('Invalid while statement', whileNode);\n    }\n\n    const iVariableName = this.getInternalVariableName('safeI');\n    retArr.push(`for (int ${iVariableName}=0;${iVariableName}<LOOP_MAX;${iVariableName}++){\\n`);\n    retArr.push('if (!');\n    this.astGeneric(whileNode.test, retArr);\n    retArr.push(') break;\\n');\n    this.astGeneric(whileNode.body, retArr);\n    retArr.push('}\\n');\n\n    return retArr;\n  }\n\n  astDoWhileStatement(doWhileNode, retArr) {\n    if (doWhileNode.type !== 'DoWhileStatement') {\n      throw this.astErrorOutput('Invalid while statement', doWhileNode);\n    }\n\n    const iVariableName = this.getInternalVariableName('safeI');\n    retArr.push(`for (int ${iVariableName}=0;${iVariableName}<LOOP_MAX;${iVariableName}++){\\n`);\n    this.astGeneric(doWhileNode.body, retArr);\n    retArr.push('if (!');\n    this.astGeneric(doWhileNode.test, retArr);\n    retArr.push(') break;\\n');\n    retArr.push('}\\n');\n\n    return retArr;\n  }\n\n\n  astAssignmentExpression(assNode, retArr) {\n    if (assNode.operator === '%=') {\n      this.astGeneric(assNode.left, retArr);\n      retArr.push('=');\n      retArr.push('mod(');\n      this.astGeneric(assNode.left, retArr);\n      retArr.push(',');\n      this.astGeneric(assNode.right, retArr);\n      retArr.push(')');\n    } else if (assNode.operator === '**=') {\n      this.astGeneric(assNode.left, retArr);\n      retArr.push('=');\n      retArr.push('pow(');\n      this.astGeneric(assNode.left, retArr);\n      retArr.push(',');\n      this.astGeneric(assNode.right, retArr);\n      retArr.push(')');\n    } else {\n      const leftType = this.getType(assNode.left);\n      const rightType = this.getType(assNode.right);\n      this.astGeneric(assNode.left, retArr);\n      retArr.push(assNode.operator);\n      if (leftType !== 'Integer' && rightType === 'Integer') {\n        retArr.push('float(');\n        this.astGeneric(assNode.right, retArr);\n        retArr.push(')');\n      } else {\n        this.astGeneric(assNode.right, retArr);\n      }\n      return retArr;\n    }\n  }\n\n  astBlockStatement(bNode, retArr) {\n    if (this.isState('loop-body')) {\n      this.pushState('block-body'); \n      for (let i = 0; i < bNode.body.length; i++) {\n        this.astGeneric(bNode.body[i], retArr);\n      }\n      this.popState('block-body');\n    } else {\n      retArr.push('{\\n');\n      for (let i = 0; i < bNode.body.length; i++) {\n        this.astGeneric(bNode.body[i], retArr);\n      }\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astVariableDeclaration(varDecNode, retArr) {\n    const declarations = varDecNode.declarations;\n    if (!declarations || !declarations[0] || !declarations[0].init) {\n      throw this.astErrorOutput('Unexpected expression', varDecNode);\n    }\n    const result = [];\n    let lastType = null;\n    const declarationSets = [];\n    let declarationSet = [];\n    for (let i = 0; i < declarations.length; i++) {\n      const declaration = declarations[i];\n      const init = declaration.init;\n      const info = this.getDeclaration(declaration.id);\n      const actualType = this.getType(declaration.init);\n      let type = actualType;\n      if (type === 'LiteralInteger') {\n        if (info.suggestedType === 'Integer') {\n          type = 'Integer';\n        } else {\n          type = 'Number';\n        }\n      }\n      const markupType = typeMap[type];\n      if (!markupType) {\n        throw this.astErrorOutput(`Markup type ${ type } not handled`, varDecNode);\n      }\n      const declarationResult = [];\n      if (actualType === 'Integer' && type === 'Integer') {\n        info.valueType = 'Number';\n        if (i === 0 || lastType === null) {\n          declarationResult.push('float ');\n        } else if (type !== lastType) {\n          throw new Error('Unhandled declaration');\n        }\n        lastType = type;\n        declarationResult.push(`user_${utils.sanitizeName(declaration.id.name)}=`);\n        declarationResult.push('float(');\n        this.astGeneric(init, declarationResult);\n        declarationResult.push(')');\n      } else {\n        info.valueType = type;\n        if (i === 0 || lastType === null) {\n          declarationResult.push(`${markupType} `);\n        } else if (type !== lastType) {\n          declarationSets.push(declarationSet.join(','));\n          declarationSet = [];\n          declarationResult.push(`${markupType} `);\n        }\n        lastType = type;\n        declarationResult.push(`user_${utils.sanitizeName(declaration.id.name)}=`);\n        if (actualType === 'Number' && type === 'Integer') {\n          if (init.left && init.left.type === 'Literal') {\n            this.astGeneric(init, declarationResult);\n          } else {\n            declarationResult.push('int(');\n            this.astGeneric(init, declarationResult);\n            declarationResult.push(')');\n          }\n        } else if (actualType === 'LiteralInteger' && type === 'Integer') {\n          this.castLiteralToInteger(init, declarationResult);\n        } else {\n          this.astGeneric(init, declarationResult);\n        }\n      }\n      declarationSet.push(declarationResult.join(''));\n    }\n\n    if (declarationSet.length > 0) {\n      declarationSets.push(declarationSet.join(','));\n    }\n\n    result.push(declarationSets.join(';'));\n\n    retArr.push(result.join(''));\n    retArr.push(';');\n    return retArr;\n  }\n\n  astIfStatement(ifNode, retArr) {\n    retArr.push('if (');\n    this.astGeneric(ifNode.test, retArr);\n    retArr.push(')');\n    if (ifNode.consequent.type === 'BlockStatement') {\n      this.astGeneric(ifNode.consequent, retArr);\n    } else {\n      retArr.push(' {\\n');\n      this.astGeneric(ifNode.consequent, retArr);\n      retArr.push('\\n}\\n');\n    }\n\n    if (ifNode.alternate) {\n      retArr.push('else ');\n      if (ifNode.alternate.type === 'BlockStatement' || ifNode.alternate.type === 'IfStatement') {\n        this.astGeneric(ifNode.alternate, retArr);\n      } else {\n        retArr.push(' {\\n');\n        this.astGeneric(ifNode.alternate, retArr);\n        retArr.push('\\n}\\n');\n      }\n    }\n    return retArr;\n  }\n\n  astSwitchStatement(ast, retArr) {\n    if (ast.type !== 'SwitchStatement') {\n      throw this.astErrorOutput('Invalid switch statement', ast);\n    }\n    const { discriminant, cases } = ast;\n    const type = this.getType(discriminant);\n    const varName = `switchDiscriminant${this.astKey(ast, '_')}`;\n    switch (type) {\n      case 'Float':\n      case 'Number':\n        retArr.push(`float ${varName} = `);\n        this.astGeneric(discriminant, retArr);\n        retArr.push(';\\n');\n        break;\n      case 'Integer':\n        retArr.push(`int ${varName} = `);\n        this.astGeneric(discriminant, retArr);\n        retArr.push(';\\n');\n        break;\n    }\n    if (cases.length === 1 && !cases[0].test) {\n      this.astGeneric(cases[0].consequent, retArr);\n      return retArr;\n    }\n\n    let fallingThrough = false;\n    let defaultResult = [];\n    let movingDefaultToEnd = false;\n    let pastFirstIf = false;\n    for (let i = 0; i < cases.length; i++) {\n      if (!cases[i].test) {\n        if (cases.length > i + 1) {\n          movingDefaultToEnd = true;\n          this.astGeneric(cases[i].consequent, defaultResult);\n          continue;\n        } else {\n          retArr.push(' else {\\n');\n        }\n      } else {\n        if (i === 0 || !pastFirstIf) {\n          pastFirstIf = true;\n          retArr.push(`if (${varName} == `);\n        } else {\n          if (fallingThrough) {\n            retArr.push(`${varName} == `);\n            fallingThrough = false;\n          } else {\n            retArr.push(` else if (${varName} == `);\n          }\n        }\n        if (type === 'Integer') {\n          const testType = this.getType(cases[i].test);\n          switch (testType) {\n            case 'Number':\n            case 'Float':\n              this.castValueToInteger(cases[i].test, retArr);\n              break;\n            case 'LiteralInteger':\n              this.castLiteralToInteger(cases[i].test, retArr);\n              break;\n          }\n        } else if (type === 'Float') {\n          const testType = this.getType(cases[i].test);\n          switch (testType) {\n            case 'LiteralInteger':\n              this.castLiteralToFloat(cases[i].test, retArr);\n              break;\n            case 'Integer':\n              this.castValueToFloat(cases[i].test, retArr);\n              break;\n          }\n        } else {\n          throw new Error('unhanlded');\n        }\n        if (!cases[i].consequent || cases[i].consequent.length === 0) {\n          fallingThrough = true;\n          retArr.push(' || ');\n          continue;\n        }\n        retArr.push(`) {\\n`);\n      }\n      this.astGeneric(cases[i].consequent, retArr);\n      retArr.push('\\n}');\n    }\n    if (movingDefaultToEnd) {\n      retArr.push(' else {');\n      retArr.push(defaultResult.join(''));\n      retArr.push('}');\n    }\n    return retArr;\n  }\n\n  astThisExpression(tNode, retArr) {\n    retArr.push('this');\n    return retArr;\n  }\n\n  astMemberExpression(mNode, retArr) {\n    const {\n      property,\n      name,\n      signature,\n      origin,\n      type,\n      xProperty,\n      yProperty,\n      zProperty\n    } = this.getMemberExpressionDetails(mNode);\n    switch (signature) {\n      case 'value.thread.value':\n      case 'this.thread.value':\n        if (name !== 'x' && name !== 'y' && name !== 'z') {\n          throw this.astErrorOutput('Unexpected expression, expected `this.thread.x`, `this.thread.y`, or `this.thread.z`', mNode);\n        }\n        retArr.push(`threadId.${name}`);\n        return retArr;\n      case 'this.output.value':\n        if (this.dynamicOutput) {\n          switch (name) {\n            case 'x':\n              if (this.isState('casting-to-float')) {\n                retArr.push('float(uOutputDim.x)');\n              } else {\n                retArr.push('uOutputDim.x');\n              }\n              break;\n            case 'y':\n              if (this.isState('casting-to-float')) {\n                retArr.push('float(uOutputDim.y)');\n              } else {\n                retArr.push('uOutputDim.y');\n              }\n              break;\n            case 'z':\n              if (this.isState('casting-to-float')) {\n                retArr.push('float(uOutputDim.z)');\n              } else {\n                retArr.push('uOutputDim.z');\n              }\n              break;\n            default:\n              throw this.astErrorOutput('Unexpected expression', mNode);\n          }\n        } else {\n          switch (name) {\n            case 'x':\n              if (this.isState('casting-to-integer')) {\n                retArr.push(this.output[0]);\n              } else {\n                retArr.push(this.output[0], '.0');\n              }\n              break;\n            case 'y':\n              if (this.isState('casting-to-integer')) {\n                retArr.push(this.output[1]);\n              } else {\n                retArr.push(this.output[1], '.0');\n              }\n              break;\n            case 'z':\n              if (this.isState('casting-to-integer')) {\n                retArr.push(this.output[2]);\n              } else {\n                retArr.push(this.output[2], '.0');\n              }\n              break;\n            default:\n              throw this.astErrorOutput('Unexpected expression', mNode);\n          }\n        }\n        return retArr;\n      case 'value':\n        throw this.astErrorOutput('Unexpected expression', mNode);\n      case 'value[]':\n      case 'value[][]':\n      case 'value[][][]':\n      case 'value[][][][]':\n      case 'value.value':\n        if (origin === 'Math') {\n          retArr.push(Math[name]);\n          return retArr;\n        }\n        const cleanName = utils.sanitizeName(name);\n        switch (property) {\n          case 'r':\n            retArr.push(`user_${ cleanName }.r`);\n            return retArr;\n          case 'g':\n            retArr.push(`user_${ cleanName }.g`);\n            return retArr;\n          case 'b':\n            retArr.push(`user_${ cleanName }.b`);\n            return retArr;\n          case 'a':\n            retArr.push(`user_${ cleanName }.a`);\n            return retArr;\n        }\n        break;\n      case 'this.constants.value':\n        if (typeof xProperty === 'undefined') {\n          switch (type) {\n            case 'Array(2)':\n            case 'Array(3)':\n            case 'Array(4)':\n              retArr.push(`constants_${ utils.sanitizeName(name) }`);\n              return retArr;\n          }\n        }\n        case 'this.constants.value[]':\n        case 'this.constants.value[][]':\n        case 'this.constants.value[][][]':\n        case 'this.constants.value[][][][]':\n          break;\n        case 'fn()[]':\n          this.astCallExpression(mNode.object, retArr);\n          retArr.push('[');\n          retArr.push(this.memberExpressionPropertyMarkup(property));\n          retArr.push(']');\n          return retArr;\n        case 'fn()[][]':\n          this.astCallExpression(mNode.object.object, retArr);\n          retArr.push('[');\n          retArr.push(this.memberExpressionPropertyMarkup(mNode.object.property));\n          retArr.push(']');\n          retArr.push('[');\n          retArr.push(this.memberExpressionPropertyMarkup(mNode.property));\n          retArr.push(']');\n          return retArr;\n        case '[][]':\n          this.astArrayExpression(mNode.object, retArr);\n          retArr.push('[');\n          retArr.push(this.memberExpressionPropertyMarkup(property));\n          retArr.push(']');\n          return retArr;\n        default:\n          throw this.astErrorOutput('Unexpected expression', mNode);\n    }\n\n    if (mNode.computed === false) {\n      switch (type) {\n        case 'Number':\n        case 'Integer':\n        case 'Float':\n        case 'Boolean':\n          retArr.push(`${origin}_${utils.sanitizeName(name)}`);\n          return retArr;\n      }\n    }\n\n    const markupName = `${origin}_${utils.sanitizeName(name)}`;\n\n    switch (type) {\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n        this.astGeneric(mNode.object, retArr);\n        retArr.push('[');\n        retArr.push(this.memberExpressionPropertyMarkup(xProperty));\n        retArr.push(']');\n        break;\n      case 'HTMLImageArray':\n        retArr.push(`getImage3D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'ArrayTexture(1)':\n        retArr.push(`getFloatFromSampler2D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'Array1D(2)':\n      case 'Array2D(2)':\n      case 'Array3D(2)':\n        retArr.push(`getMemoryOptimizedVec2(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'ArrayTexture(2)':\n        retArr.push(`getVec2FromSampler2D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'Array1D(3)':\n      case 'Array2D(3)':\n      case 'Array3D(3)':\n        retArr.push(`getMemoryOptimizedVec3(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'ArrayTexture(3)':\n        retArr.push(`getVec3FromSampler2D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'Array1D(4)':\n      case 'Array2D(4)':\n      case 'Array3D(4)':\n        retArr.push(`getMemoryOptimizedVec4(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'ArrayTexture(4)':\n      case 'HTMLCanvas':\n      case 'OffscreenCanvas':\n      case 'HTMLImage':\n      case 'ImageBitmap':\n      case 'ImageData':\n      case 'HTMLVideo':\n        retArr.push(`getVec4FromSampler2D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'NumberTexture':\n      case 'Array':\n      case 'Array2D':\n      case 'Array3D':\n      case 'Array4D':\n      case 'Input':\n      case 'Number':\n      case 'Float':\n      case 'Integer':\n        if (this.precision === 'single') {\n          retArr.push(`getMemoryOptimized32(${markupName}, ${markupName}Size, ${markupName}Dim, `);\n          this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n          retArr.push(')');\n        } else {\n          const bitRatio = (origin === 'user' ?\n            this.lookupFunctionArgumentBitRatio(this.name, name) :\n            this.constantBitRatios[name]\n          );\n          switch (bitRatio) {\n            case 1:\n              retArr.push(`get8(${markupName}, ${markupName}Size, ${markupName}Dim, `);\n              break;\n            case 2:\n              retArr.push(`get16(${markupName}, ${markupName}Size, ${markupName}Dim, `);\n              break;\n            case 4:\n            case 0:\n              retArr.push(`get32(${markupName}, ${markupName}Size, ${markupName}Dim, `);\n              break;\n            default:\n              throw new Error(`unhandled bit ratio of ${bitRatio}`);\n          }\n          this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n          retArr.push(')');\n        }\n        break;\n      case 'MemoryOptimizedNumberTexture':\n        retArr.push(`getMemoryOptimized32(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n        retArr.push(`${markupName}[${this.memberExpressionPropertyMarkup(yProperty)}]`);\n        if (yProperty) {\n          retArr.push(`[${this.memberExpressionPropertyMarkup(xProperty)}]`);\n        }\n        break;\n      default:\n        throw new Error(`unhandled member expression \"${ type }\"`);\n    }\n    return retArr;\n  }\n\n  astCallExpression(ast, retArr) {\n    if (!ast.callee) {\n      throw this.astErrorOutput('Unknown CallExpression', ast);\n    }\n\n    let functionName = null;\n    const isMathFunction = this.isAstMathFunction(ast);\n\n    if (isMathFunction || (ast.callee.object && ast.callee.object.type === 'ThisExpression')) {\n      functionName = ast.callee.property.name;\n    }\n    else if (ast.callee.type === 'SequenceExpression' && ast.callee.expressions[0].type === 'Literal' && !isNaN(ast.callee.expressions[0].raw)) {\n      functionName = ast.callee.expressions[1].property.name;\n    } else {\n      functionName = ast.callee.name;\n    }\n\n    if (!functionName) {\n      throw this.astErrorOutput(`Unhandled function, couldn't find name`, ast);\n    }\n\n    switch (functionName) {\n      case 'pow':\n        functionName = '_pow';\n        break;\n      case 'round':\n        functionName = '_round';\n        break;\n    }\n\n    if (this.calledFunctions.indexOf(functionName) < 0) {\n      this.calledFunctions.push(functionName);\n    }\n\n    if (functionName === 'random' && this.plugins && this.plugins.length > 0) {\n      for (let i = 0; i < this.plugins.length; i++) {\n        const plugin = this.plugins[i];\n        if (plugin.functionMatch === 'Math.random()' && plugin.functionReplace) {\n          retArr.push(plugin.functionReplace);\n          return retArr;\n        }\n      }\n    }\n\n    if (this.onFunctionCall) {\n      this.onFunctionCall(this.name, functionName, ast.arguments);\n    }\n\n    retArr.push(functionName);\n\n    retArr.push('(');\n\n    if (isMathFunction) {\n      for (let i = 0; i < ast.arguments.length; ++i) {\n        const argument = ast.arguments[i];\n        const argumentType = this.getType(argument);\n        if (i > 0) {\n          retArr.push(', ');\n        }\n\n        switch (argumentType) {\n          case 'Integer':\n            this.castValueToFloat(argument, retArr);\n            break;\n          default:\n            this.astGeneric(argument, retArr);\n            break;\n        }\n      }\n    } else {\n      const targetTypes = this.lookupFunctionArgumentTypes(functionName) || [];\n      for (let i = 0; i < ast.arguments.length; ++i) {\n        const argument = ast.arguments[i];\n        let targetType = targetTypes[i];\n        if (i > 0) {\n          retArr.push(', ');\n        }\n        const argumentType = this.getType(argument);\n        if (!targetType) {\n          this.triggerImplyArgumentType(functionName, i, argumentType, this);\n          targetType = argumentType;\n        }\n        switch (argumentType) {\n          case 'Boolean':\n            this.astGeneric(argument, retArr);\n            continue;\n          case 'Number':\n          case 'Float':\n            if (targetType === 'Integer') {\n              retArr.push('int(');\n              this.astGeneric(argument, retArr);\n              retArr.push(')');\n              continue;\n            } else if (targetType === 'Number' || targetType === 'Float') {\n              this.astGeneric(argument, retArr);\n              continue;\n            } else if (targetType === 'LiteralInteger') {\n              this.castLiteralToFloat(argument, retArr);\n              continue;\n            }\n            break;\n          case 'Integer':\n            if (targetType === 'Number' || targetType === 'Float') {\n              retArr.push('float(');\n              this.astGeneric(argument, retArr);\n              retArr.push(')');\n              continue;\n            } else if (targetType === 'Integer') {\n              this.astGeneric(argument, retArr);\n              continue;\n            }\n            break;\n          case 'LiteralInteger':\n            if (targetType === 'Integer') {\n              this.castLiteralToInteger(argument, retArr);\n              continue;\n            } else if (targetType === 'Number' || targetType === 'Float') {\n              this.castLiteralToFloat(argument, retArr);\n              continue;\n            } else if (targetType === 'LiteralInteger') {\n              this.astGeneric(argument, retArr);\n              continue;\n            }\n            break;\n          case 'Array(2)':\n          case 'Array(3)':\n          case 'Array(4)':\n            if (targetType === argumentType) {\n              if (argument.type === 'Identifier') {\n                retArr.push(`user_${utils.sanitizeName(argument.name)}`);\n              } else if (argument.type === 'ArrayExpression' || argument.type === 'MemberExpression' || argument.type === 'CallExpression') {\n                this.astGeneric(argument, retArr);\n              } else {\n                throw this.astErrorOutput(`Unhandled argument type ${ argument.type }`, ast);\n              }\n              continue;\n            }\n            break;\n          case 'HTMLCanvas':\n          case 'OffscreenCanvas':\n          case 'HTMLImage':\n          case 'ImageBitmap':\n          case 'ImageData':\n          case 'HTMLImageArray':\n          case 'HTMLVideo':\n          case 'ArrayTexture(1)':\n          case 'ArrayTexture(2)':\n          case 'ArrayTexture(3)':\n          case 'ArrayTexture(4)':\n          case 'Array':\n          case 'Input':\n            if (targetType === argumentType) {\n              if (argument.type !== 'Identifier') throw this.astErrorOutput(`Unhandled argument type ${ argument.type }`, ast);\n              this.triggerImplyArgumentBitRatio(this.name, argument.name, functionName, i);\n              const name = utils.sanitizeName(argument.name);\n              retArr.push(`user_${name},user_${name}Size,user_${name}Dim`);\n              continue;\n            }\n            break;\n        }\n        throw this.astErrorOutput(`Unhandled argument combination of ${ argumentType } and ${ targetType } for argument named \"${ argument.name }\"`, ast);\n      }\n    }\n    retArr.push(')');\n\n    return retArr;\n  }\n\n  astArrayExpression(arrNode, retArr) {\n    const returnType = this.getType(arrNode);\n\n    const arrLen = arrNode.elements.length;\n\n    switch (returnType) {\n      case 'Matrix(2)':\n      case 'Matrix(3)':\n      case 'Matrix(4)':\n        retArr.push(`mat${arrLen}(`);\n        break;\n      default:\n        retArr.push(`vec${arrLen}(`);\n    }\n    for (let i = 0; i < arrLen; ++i) {\n      if (i > 0) {\n        retArr.push(', ');\n      }\n      const subNode = arrNode.elements[i];\n      this.astGeneric(subNode, retArr)\n    }\n    retArr.push(')');\n\n    return retArr;\n  }\n\n  memberExpressionXYZ(x, y, z, retArr) {\n    if (z) {\n      retArr.push(this.memberExpressionPropertyMarkup(z), ', ');\n    } else {\n      retArr.push('0, ');\n    }\n    if (y) {\n      retArr.push(this.memberExpressionPropertyMarkup(y), ', ');\n    } else {\n      retArr.push('0, ');\n    }\n    retArr.push(this.memberExpressionPropertyMarkup(x));\n    return retArr;\n  }\n\n  memberExpressionPropertyMarkup(property) {\n    if (!property) {\n      throw new Error('Property not set');\n    }\n    const type = this.getType(property);\n    const result = [];\n    switch (type) {\n      case 'Number':\n      case 'Float':\n        this.castValueToInteger(property, result);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToInteger(property, result);\n        break;\n      default:\n        this.astGeneric(property, result);\n    }\n    return result.join('');\n  }\n}\n\nconst typeMap = {\n  'Array': 'sampler2D',\n  'Array(2)': 'vec2',\n  'Array(3)': 'vec3',\n  'Array(4)': 'vec4',\n  'Matrix(2)': 'mat2',\n  'Matrix(3)': 'mat3',\n  'Matrix(4)': 'mat4',\n  'Array2D': 'sampler2D',\n  'Array3D': 'sampler2D',\n  'Boolean': 'bool',\n  'Float': 'float',\n  'Input': 'sampler2D',\n  'Integer': 'int',\n  'Number': 'float',\n  'LiteralInteger': 'float',\n  'NumberTexture': 'sampler2D',\n  'MemoryOptimizedNumberTexture': 'sampler2D',\n  'ArrayTexture(1)': 'sampler2D',\n  'ArrayTexture(2)': 'sampler2D',\n  'ArrayTexture(3)': 'sampler2D',\n  'ArrayTexture(4)': 'sampler2D',\n  'HTMLVideo': 'sampler2D',\n  'HTMLCanvas': 'sampler2D',\n  'OffscreenCanvas': 'sampler2D',\n  'HTMLImage': 'sampler2D',\n  'ImageBitmap': 'sampler2D',\n  'ImageData': 'sampler2D',\n  'HTMLImageArray': 'sampler2DArray',\n};\n\nconst operatorMap = {\n  '===': '==',\n  '!==': '!='\n};\n\nmodule.exports = {\n  WebGLFunctionNode\n};\n},{\"../../utils\":114,\"../function-node\":10}],39:[function(require,module,exports){\nconst { WebGLKernelValueBoolean } = require('./kernel-value/boolean');\nconst { WebGLKernelValueFloat } = require('./kernel-value/float');\nconst { WebGLKernelValueInteger } = require('./kernel-value/integer');\n\nconst { WebGLKernelValueHTMLImage } = require('./kernel-value/html-image');\nconst { WebGLKernelValueDynamicHTMLImage } = require('./kernel-value/dynamic-html-image');\n\nconst { WebGLKernelValueHTMLVideo } = require('./kernel-value/html-video');\nconst { WebGLKernelValueDynamicHTMLVideo } = require('./kernel-value/dynamic-html-video');\n\nconst { WebGLKernelValueSingleInput } = require('./kernel-value/single-input');\nconst { WebGLKernelValueDynamicSingleInput } = require('./kernel-value/dynamic-single-input');\n\nconst { WebGLKernelValueUnsignedInput } = require('./kernel-value/unsigned-input');\nconst { WebGLKernelValueDynamicUnsignedInput } = require('./kernel-value/dynamic-unsigned-input');\n\nconst { WebGLKernelValueMemoryOptimizedNumberTexture } = require('./kernel-value/memory-optimized-number-texture');\nconst { WebGLKernelValueDynamicMemoryOptimizedNumberTexture } = require('./kernel-value/dynamic-memory-optimized-number-texture');\n\nconst { WebGLKernelValueNumberTexture } = require('./kernel-value/number-texture');\nconst { WebGLKernelValueDynamicNumberTexture } = require('./kernel-value/dynamic-number-texture');\n\nconst { WebGLKernelValueSingleArray } = require('./kernel-value/single-array');\nconst { WebGLKernelValueDynamicSingleArray } = require('./kernel-value/dynamic-single-array');\n\nconst { WebGLKernelValueSingleArray1DI } = require('./kernel-value/single-array1d-i');\nconst { WebGLKernelValueDynamicSingleArray1DI } = require('./kernel-value/dynamic-single-array1d-i');\n\nconst { WebGLKernelValueSingleArray2DI } = require('./kernel-value/single-array2d-i');\nconst { WebGLKernelValueDynamicSingleArray2DI } = require('./kernel-value/dynamic-single-array2d-i');\n\nconst { WebGLKernelValueSingleArray3DI } = require('./kernel-value/single-array3d-i');\nconst { WebGLKernelValueDynamicSingleArray3DI } = require('./kernel-value/dynamic-single-array3d-i');\n\nconst { WebGLKernelValueArray2 } = require('./kernel-value/array2');\nconst { WebGLKernelValueArray3 } = require('./kernel-value/array3');\nconst { WebGLKernelValueArray4 } = require('./kernel-value/array4');\n\nconst { WebGLKernelValueUnsignedArray } = require('./kernel-value/unsigned-array');\nconst { WebGLKernelValueDynamicUnsignedArray } = require('./kernel-value/dynamic-unsigned-array');\n\nconst kernelValueMaps = {\n  unsigned: {\n    dynamic: {\n      'Boolean': WebGLKernelValueBoolean,\n      'Integer': WebGLKernelValueInteger,\n      'Float': WebGLKernelValueFloat,\n      'Array': WebGLKernelValueDynamicUnsignedArray,\n      'Array(2)': WebGLKernelValueArray2,\n      'Array(3)': WebGLKernelValueArray3,\n      'Array(4)': WebGLKernelValueArray4,\n      'Array1D(2)': false,\n      'Array1D(3)': false,\n      'Array1D(4)': false,\n      'Array2D(2)': false,\n      'Array2D(3)': false,\n      'Array2D(4)': false,\n      'Array3D(2)': false,\n      'Array3D(3)': false,\n      'Array3D(4)': false,\n      'Input': WebGLKernelValueDynamicUnsignedInput,\n      'NumberTexture': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(1)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(2)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(3)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(4)': WebGLKernelValueDynamicNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGLKernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGLKernelValueDynamicHTMLImage,\n      'OffscreenCanvas': WebGLKernelValueDynamicHTMLImage,\n      'HTMLImage': WebGLKernelValueDynamicHTMLImage,\n      'ImageBitmap': WebGLKernelValueDynamicHTMLImage,\n      'ImageData': WebGLKernelValueDynamicHTMLImage,\n      'HTMLImageArray': false,\n      'HTMLVideo': WebGLKernelValueDynamicHTMLVideo,\n    },\n    static: {\n      'Boolean': WebGLKernelValueBoolean,\n      'Float': WebGLKernelValueFloat,\n      'Integer': WebGLKernelValueInteger,\n      'Array': WebGLKernelValueUnsignedArray,\n      'Array(2)': WebGLKernelValueArray2,\n      'Array(3)': WebGLKernelValueArray3,\n      'Array(4)': WebGLKernelValueArray4,\n      'Array1D(2)': false,\n      'Array1D(3)': false,\n      'Array1D(4)': false,\n      'Array2D(2)': false,\n      'Array2D(3)': false,\n      'Array2D(4)': false,\n      'Array3D(2)': false,\n      'Array3D(3)': false,\n      'Array3D(4)': false,\n      'Input': WebGLKernelValueUnsignedInput,\n      'NumberTexture': WebGLKernelValueNumberTexture,\n      'ArrayTexture(1)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(2)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(3)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(4)': WebGLKernelValueNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGLKernelValueMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGLKernelValueHTMLImage,\n      'OffscreenCanvas': WebGLKernelValueHTMLImage,\n      'HTMLImage': WebGLKernelValueHTMLImage,\n      'ImageBitmap': WebGLKernelValueHTMLImage,\n      'ImageData': WebGLKernelValueHTMLImage,\n      'HTMLImageArray': false,\n      'HTMLVideo': WebGLKernelValueHTMLVideo,\n    }\n  },\n  single: {\n    dynamic: {\n      'Boolean': WebGLKernelValueBoolean,\n      'Integer': WebGLKernelValueInteger,\n      'Float': WebGLKernelValueFloat,\n      'Array': WebGLKernelValueDynamicSingleArray,\n      'Array(2)': WebGLKernelValueArray2,\n      'Array(3)': WebGLKernelValueArray3,\n      'Array(4)': WebGLKernelValueArray4,\n      'Array1D(2)': WebGLKernelValueDynamicSingleArray1DI,\n      'Array1D(3)': WebGLKernelValueDynamicSingleArray1DI,\n      'Array1D(4)': WebGLKernelValueDynamicSingleArray1DI,\n      'Array2D(2)': WebGLKernelValueDynamicSingleArray2DI,\n      'Array2D(3)': WebGLKernelValueDynamicSingleArray2DI,\n      'Array2D(4)': WebGLKernelValueDynamicSingleArray2DI,\n      'Array3D(2)': WebGLKernelValueDynamicSingleArray3DI,\n      'Array3D(3)': WebGLKernelValueDynamicSingleArray3DI,\n      'Array3D(4)': WebGLKernelValueDynamicSingleArray3DI,\n      'Input': WebGLKernelValueDynamicSingleInput,\n      'NumberTexture': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(1)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(2)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(3)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(4)': WebGLKernelValueDynamicNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGLKernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGLKernelValueDynamicHTMLImage,\n      'OffscreenCanvas': WebGLKernelValueDynamicHTMLImage,\n      'HTMLImage': WebGLKernelValueDynamicHTMLImage,\n      'ImageBitmap': WebGLKernelValueDynamicHTMLImage,\n      'ImageData': WebGLKernelValueDynamicHTMLImage,\n      'HTMLImageArray': false,\n      'HTMLVideo': WebGLKernelValueDynamicHTMLVideo,\n    },\n    static: {\n      'Boolean': WebGLKernelValueBoolean,\n      'Float': WebGLKernelValueFloat,\n      'Integer': WebGLKernelValueInteger,\n      'Array': WebGLKernelValueSingleArray,\n      'Array(2)': WebGLKernelValueArray2,\n      'Array(3)': WebGLKernelValueArray3,\n      'Array(4)': WebGLKernelValueArray4,\n      'Array1D(2)': WebGLKernelValueSingleArray1DI,\n      'Array1D(3)': WebGLKernelValueSingleArray1DI,\n      'Array1D(4)': WebGLKernelValueSingleArray1DI,\n      'Array2D(2)': WebGLKernelValueSingleArray2DI,\n      'Array2D(3)': WebGLKernelValueSingleArray2DI,\n      'Array2D(4)': WebGLKernelValueSingleArray2DI,\n      'Array3D(2)': WebGLKernelValueSingleArray3DI,\n      'Array3D(3)': WebGLKernelValueSingleArray3DI,\n      'Array3D(4)': WebGLKernelValueSingleArray3DI,\n      'Input': WebGLKernelValueSingleInput,\n      'NumberTexture': WebGLKernelValueNumberTexture,\n      'ArrayTexture(1)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(2)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(3)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(4)': WebGLKernelValueNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGLKernelValueMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGLKernelValueHTMLImage,\n      'OffscreenCanvas': WebGLKernelValueHTMLImage,\n      'HTMLImage': WebGLKernelValueHTMLImage,\n      'ImageBitmap': WebGLKernelValueHTMLImage,\n      'ImageData': WebGLKernelValueHTMLImage,\n      'HTMLImageArray': false,\n      'HTMLVideo': WebGLKernelValueHTMLVideo,\n    }\n  },\n};\n\nfunction lookupKernelValueType(type, dynamic, precision, value) {\n  if (!type) {\n    throw new Error('type missing');\n  }\n  if (!dynamic) {\n    throw new Error('dynamic missing');\n  }\n  if (!precision) {\n    throw new Error('precision missing');\n  }\n  if (value.type) {\n    type = value.type;\n  }\n  const types = kernelValueMaps[precision][dynamic];\n  if (types[type] === false) {\n    return null;\n  } else if (types[type] === undefined) {\n    throw new Error(`Could not find a KernelValue for ${ type }`);\n  }\n  return types[type];\n}\n\nmodule.exports = {\n  lookupKernelValueType,\n  kernelValueMaps,\n};\n},{\"./kernel-value/array2\":41,\"./kernel-value/array3\":42,\"./kernel-value/array4\":43,\"./kernel-value/boolean\":44,\"./kernel-value/dynamic-html-image\":45,\"./kernel-value/dynamic-html-video\":46,\"./kernel-value/dynamic-memory-optimized-number-texture\":47,\"./kernel-value/dynamic-number-texture\":48,\"./kernel-value/dynamic-single-array\":49,\"./kernel-value/dynamic-single-array1d-i\":50,\"./kernel-value/dynamic-single-array2d-i\":51,\"./kernel-value/dynamic-single-array3d-i\":52,\"./kernel-value/dynamic-single-input\":53,\"./kernel-value/dynamic-unsigned-array\":54,\"./kernel-value/dynamic-unsigned-input\":55,\"./kernel-value/float\":56,\"./kernel-value/html-image\":57,\"./kernel-value/html-video\":58,\"./kernel-value/integer\":60,\"./kernel-value/memory-optimized-number-texture\":61,\"./kernel-value/number-texture\":62,\"./kernel-value/single-array\":63,\"./kernel-value/single-array1d-i\":64,\"./kernel-value/single-array2d-i\":65,\"./kernel-value/single-array3d-i\":66,\"./kernel-value/single-input\":67,\"./kernel-value/unsigned-array\":68,\"./kernel-value/unsigned-input\":69}],40:[function(require,module,exports){\nconst { WebGLKernelValue } = require('./index');\nconst { Input } = require('../../../input');\n\nclass WebGLKernelArray extends WebGLKernelValue {\n  checkSize(width, height) {\n    if (!this.kernel.validate) return;\n    const { maxTextureSize } = this.kernel.constructor.features;\n    if (width > maxTextureSize || height > maxTextureSize) {\n      if (width > height) {\n        throw new Error(`Argument texture width of ${width} larger than maximum size of ${maxTextureSize} for your GPU`);\n      } else if (width < height) {\n        throw new Error(`Argument texture height of ${height} larger than maximum size of ${maxTextureSize} for your GPU`);\n      } else {\n        throw new Error(`Argument texture height and width of ${height} larger than maximum size of ${maxTextureSize} for your GPU`);\n      }\n    }\n  }\n\n  setup() {\n    this.requestTexture();\n    this.setupTexture();\n    this.defineTexture();\n  }\n\n  requestTexture() {\n    this.texture = this.onRequestTexture();\n  }\n\n  defineTexture() {\n    const { context: gl } = this;\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n  }\n\n  setupTexture() {\n    this.contextHandle = this.onRequestContextHandle();\n    this.index = this.onRequestIndex();\n    this.dimensionsId = this.id + 'Dim';\n    this.sizeId = this.id + 'Size';\n  }\n\n  getBitRatio(value) {\n    if (Array.isArray(value[0])) {\n      return this.getBitRatio(value[0]);\n    } else if (value.constructor === Input) {\n      return this.getBitRatio(value.value);\n    }\n    switch (value.constructor) {\n      case Uint8ClampedArray:\n      case Uint8Array:\n      case Int8Array:\n        return 1;\n      case Uint16Array:\n      case Int16Array:\n        return 2;\n      case Float32Array:\n      case Int32Array:\n      default:\n        return 4;\n    }\n  }\n\n  destroy() {\n    if (this.prevArg) {\n      this.prevArg.delete();\n    }\n    this.context.deleteTexture(this.texture);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelArray\n};\n},{\"../../../input\":110,\"./index\":59}],41:[function(require,module,exports){\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueArray2 extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const vec2 ${this.id} = vec2(${value[0]},${value[1]});\\n`;\n    }\n    return `uniform vec2 ${this.id};\\n`;\n  }\n\n  getStringValueHandler() {\n    if (this.origin === 'constants') return '';\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform2fv(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueArray2\n};\n},{\"./index\":59}],42:[function(require,module,exports){\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueArray3 extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const vec3 ${this.id} = vec3(${value[0]},${value[1]},${value[2]});\\n`;\n    }\n    return `uniform vec3 ${this.id};\\n`;\n  }\n\n  getStringValueHandler() {\n    if (this.origin === 'constants') return '';\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform3fv(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueArray3\n};\n},{\"./index\":59}],43:[function(require,module,exports){\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueArray4 extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const vec4 ${this.id} = vec4(${value[0]},${value[1]},${value[2]},${value[3]});\\n`;\n    }\n    return `uniform vec4 ${this.id};\\n`;\n  }\n\n  getStringValueHandler() {\n    if (this.origin === 'constants') return '';\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform4fv(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueArray4\n};\n},{\"./index\":59}],44:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueBoolean extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const bool ${this.id} = ${value};\\n`;\n    }\n    return `uniform bool ${this.id};\\n`;\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform1i(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueBoolean\n};\n},{\"../../../utils\":114,\"./index\":59}],45:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueHTMLImage } = require('./html-image');\n\nclass WebGLKernelValueDynamicHTMLImage extends WebGLKernelValueHTMLImage {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    const { width, height } = value;\n    this.checkSize(width, height);\n    this.dimensions = [width, height, 1];\n    this.textureSize = [width, height];\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicHTMLImage\n};\n},{\"../../../utils\":114,\"./html-image\":57}],46:[function(require,module,exports){\nconst { WebGLKernelValueDynamicHTMLImage } = require('./dynamic-html-image');\n\nclass WebGLKernelValueDynamicHTMLVideo extends WebGLKernelValueDynamicHTMLImage {}\n\nmodule.exports = {\n  WebGLKernelValueDynamicHTMLVideo\n};\n},{\"./dynamic-html-image\":45}],47:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueMemoryOptimizedNumberTexture } = require('./memory-optimized-number-texture');\n\nclass WebGLKernelValueDynamicMemoryOptimizedNumberTexture extends WebGLKernelValueMemoryOptimizedNumberTexture {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(inputTexture) {\n    this.dimensions = inputTexture.dimensions;\n    this.checkSize(inputTexture.size[0], inputTexture.size[1]);\n    this.textureSize = inputTexture.size;\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(inputTexture);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicMemoryOptimizedNumberTexture\n};\n},{\"../../../utils\":114,\"./memory-optimized-number-texture\":61}],48:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueNumberTexture } = require('./number-texture');\n\nclass WebGLKernelValueDynamicNumberTexture extends WebGLKernelValueNumberTexture {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.dimensions = value.dimensions;\n    this.checkSize(value.size[0], value.size[1]);\n    this.textureSize = value.size;\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicNumberTexture\n};\n},{\"../../../utils\":114,\"./number-texture\":62}],49:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray } = require('./single-array');\n\nclass WebGLKernelValueDynamicSingleArray extends WebGLKernelValueSingleArray {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleArray\n};\n},{\"../../../utils\":114,\"./single-array\":63}],50:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray1DI } = require('./single-array1d-i');\n\nclass WebGLKernelValueDynamicSingleArray1DI extends WebGLKernelValueSingleArray1DI {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleArray1DI\n};\n},{\"../../../utils\":114,\"./single-array1d-i\":64}],51:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray2DI } = require('./single-array2d-i');\n\nclass WebGLKernelValueDynamicSingleArray2DI extends WebGLKernelValueSingleArray2DI {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleArray2DI\n};\n},{\"../../../utils\":114,\"./single-array2d-i\":65}],52:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray3DI } = require('./single-array3d-i');\n\nclass WebGLKernelValueDynamicSingleArray3DI extends WebGLKernelValueSingleArray3DI {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleArray3DI\n};\n},{\"../../../utils\":114,\"./single-array3d-i\":66}],53:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleInput } = require('./single-input');\n\nclass WebGLKernelValueDynamicSingleInput extends WebGLKernelValueSingleInput {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    let [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleInput\n};\n},{\"../../../utils\":114,\"./single-input\":67}],54:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueUnsignedArray } = require('./unsigned-array');\n\nclass WebGLKernelValueDynamicUnsignedArray extends WebGLKernelValueUnsignedArray {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedPackedTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * (4 / this.bitRatio);\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    const Type = this.getTransferArrayType(value);\n    this.preUploadValue = new Type(this.uploadArrayLength);\n    this.uploadValue = new Uint8Array(this.preUploadValue.buffer);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicUnsignedArray\n};\n},{\"../../../utils\":114,\"./unsigned-array\":68}],55:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueUnsignedInput } = require('./unsigned-input');\n\nclass WebGLKernelValueDynamicUnsignedInput extends WebGLKernelValueUnsignedInput {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    let [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedPackedTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * (4 / this.bitRatio);\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    const Type = this.getTransferArrayType(value.value);\n    this.preUploadValue = new Type(this.uploadArrayLength);\n    this.uploadValue = new Uint8Array(this.preUploadValue.buffer);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicUnsignedInput\n};\n},{\"../../../utils\":114,\"./unsigned-input\":69}],56:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueFloat extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      if (Number.isInteger(value)) {\n        return `const float ${this.id} = ${value}.0;\\n`;\n      }\n      return `const float ${this.id} = ${value};\\n`;\n    }\n    return `uniform float ${this.id};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform1f(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueFloat\n};\n},{\"../../../utils\":114,\"./index\":59}],57:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueHTMLImage extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    const { width, height } = value;\n    this.checkSize(width, height);\n    this.dimensions = [width, height, 1];\n    this.textureSize = [width, height];\n    this.uploadValue = value;\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(inputImage) {\n    if (inputImage.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(inputImage.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.uploadValue = inputImage);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueHTMLImage\n};\n},{\"../../../utils\":114,\"./array\":40}],58:[function(require,module,exports){\nconst { WebGLKernelValueHTMLImage } = require('./html-image');\n\nclass WebGLKernelValueHTMLVideo extends WebGLKernelValueHTMLImage {}\n\nmodule.exports = {\n  WebGLKernelValueHTMLVideo\n};\n},{\"./html-image\":57}],59:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { KernelValue } = require('../../kernel-value');\n\nclass WebGLKernelValue extends KernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.dimensionsId = null;\n    this.sizeId = null;\n    this.initialValueConstructor = value.constructor;\n    this.onRequestTexture = settings.onRequestTexture;\n    this.onRequestIndex = settings.onRequestIndex;\n    this.uploadValue = null;\n    this.textureSize = null;\n    this.bitRatio = null;\n    this.prevArg = null;\n  }\n\n  get id() {\n    return `${this.origin}_${utils.sanitizeName(this.name)}`;\n  }\n\n  setup() {}\n\n  getTransferArrayType(value) {\n    if (Array.isArray(value[0])) {\n      return this.getTransferArrayType(value[0]);\n    }\n    switch (value.constructor) {\n      case Array:\n      case Int32Array:\n      case Int16Array:\n      case Int8Array:\n        return Float32Array;\n      case Uint8ClampedArray:\n      case Uint8Array:\n      case Uint16Array:\n      case Uint32Array:\n      case Float32Array:\n      case Float64Array:\n        return value.constructor;\n    }\n    console.warn('Unfamiliar constructor type.  Will go ahead and use, but likley this may result in a transfer of zeros');\n    return value.constructor;\n  }\n\n  getStringValueHandler() {\n    throw new Error(`\"getStringValueHandler\" not implemented on ${this.constructor.name}`);\n  }\n\n  getVariablePrecisionString() {\n    return this.kernel.getVariablePrecisionString(this.textureSize || undefined, this.tactic || undefined);\n  }\n\n  destroy() {}\n}\n\nmodule.exports = {\n  WebGLKernelValue\n};\n},{\"../../../utils\":114,\"../../kernel-value\":35}],60:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueInteger extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const int ${this.id} = ${ parseInt(value) };\\n`;\n    }\n    return `uniform int ${this.id};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform1i(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueInteger\n};\n},{\"../../../utils\":114,\"./index\":59}],61:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nconst sameError = `Source and destination textures are the same.  Use immutable = true and manually cleanup kernel output texture memory with texture.delete()`;\n\nclass WebGLKernelValueMemoryOptimizedNumberTexture extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    const [width, height] = value.size;\n    this.checkSize(width, height);\n    this.dimensions = value.dimensions;\n    this.textureSize = value.size;\n    this.uploadValue = value.texture;\n    this.forceUploadEachRun = true;\n  }\n\n  setup() {\n    this.setupTexture();\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName}.texture;\\n`;\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(inputTexture) {\n    if (inputTexture.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(inputTexture.constructor);\n      return;\n    }\n    if (this.checkContext && inputTexture.context !== this.context) {\n      throw new Error(`Value ${this.name} (${this.type}) must be from same context`);\n    }\n\n    const { kernel, context: gl } = this;\n    if (kernel.pipeline) {\n      if (kernel.immutable) {\n        kernel.updateTextureArgumentRefs(this, inputTexture);\n      } else {\n        if (kernel.texture && kernel.texture.texture === inputTexture.texture) {\n          throw new Error(sameError);\n        } else if (kernel.mappedTextures) {\n          const { mappedTextures } = kernel;\n          for (let i = 0; i < mappedTextures.length; i++) {\n            if (mappedTextures[i].texture === inputTexture.texture) {\n              throw new Error(sameError);\n            }\n          }\n        }\n      }\n    }\n\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.uploadValue = inputTexture.texture);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueMemoryOptimizedNumberTexture,\n  sameError\n};\n},{\"../../../utils\":114,\"./array\":40}],62:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\nconst { sameError } = require('./memory-optimized-number-texture');\n\nclass WebGLKernelValueNumberTexture extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    const [width, height] = value.size;\n    this.checkSize(width, height);\n    const { size: textureSize, dimensions } = value;\n    this.bitRatio = this.getBitRatio(value);\n    this.dimensions = dimensions;\n    this.textureSize = textureSize;\n    this.uploadValue = value.texture;\n    this.forceUploadEachRun = true;\n  }\n\n  setup() {\n    this.setupTexture();\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName}.texture;\\n`;\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(inputTexture) {\n    if (inputTexture.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(inputTexture.constructor);\n      return;\n    }\n    if (this.checkContext && inputTexture.context !== this.context) {\n      throw new Error(`Value ${this.name} (${this.type}) must be from same context`);\n    }\n\n    const { kernel, context: gl } = this;\n    if (kernel.pipeline) {\n      if (kernel.immutable) {\n        kernel.updateTextureArgumentRefs(this, inputTexture);\n      } else {\n        if (kernel.texture && kernel.texture.texture === inputTexture.texture) {\n          throw new Error(sameError);\n        } else if (kernel.mappedTextures) {\n          const { mappedTextures } = kernel;\n          for (let i = 0; i < mappedTextures.length; i++) {\n            if (mappedTextures[i].texture === inputTexture.texture) {\n              throw new Error(sameError);\n            }\n          }\n        }\n      }\n    }\n\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.uploadValue = inputTexture.texture);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueNumberTexture\n};\n},{\"../../../utils\":114,\"./array\":40,\"./memory-optimized-number-texture\":61}],63:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleArray extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray\n};\n},{\"../../../utils\":114,\"./array\":40}],64:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleArray1DI extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    this.setShape(value);\n  }\n\n  setShape(value) {\n    const valueDimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(valueDimensions, this.bitRatio);\n    this.dimensions = new Int32Array([valueDimensions[1], 1, 1]);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flatten2dArrayTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray1DI\n};\n},{\"../../../utils\":114,\"./array\":40}],65:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleArray2DI extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    this.setShape(value);\n  }\n\n  setShape(value) {\n    const valueDimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(valueDimensions, this.bitRatio);\n    this.dimensions = new Int32Array([valueDimensions[1], valueDimensions[2], 1]);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flatten3dArrayTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray2DI\n};\n},{\"../../../utils\":114,\"./array\":40}],66:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleArray3DI extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    this.setShape(value);\n  }\n\n  setShape(value) {\n    const valueDimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(valueDimensions, this.bitRatio);\n    this.dimensions = new Int32Array([valueDimensions[1], valueDimensions[2], valueDimensions[3]]);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flatten4dArrayTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray3DI\n};\n},{\"../../../utils\":114,\"./array\":40}],67:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleInput extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    let [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}.value, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(input) {\n    if (input.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(input.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(input.value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleInput\n};\n},{\"../../../utils\":114,\"./array\":40}],68:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueUnsignedArray extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = this.getBitRatio(value);\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedPackedTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * (4 / this.bitRatio);\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.TranserArrayType = this.getTransferArrayType(value);\n    this.preUploadValue = new this.TranserArrayType(this.uploadArrayLength);\n    this.uploadValue = new Uint8Array(this.preUploadValue.buffer);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,\n      `const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,\n      `flattenTo(${this.varName}, preUploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.preUploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueUnsignedArray\n};\n},{\"../../../utils\":114,\"./array\":40}],69:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueUnsignedInput extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = this.getBitRatio(value);\n    const [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedPackedTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * (4 / this.bitRatio);\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.TranserArrayType = this.getTransferArrayType(value.value);\n    this.preUploadValue = new this.TranserArrayType(this.uploadArrayLength);\n    this.uploadValue = new Uint8Array(this.preUploadValue.buffer);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,\n      `const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,\n      `flattenTo(${this.varName}.value, preUploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(input) {\n    if (input.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(input.value, this.preUploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueUnsignedInput\n};\n},{\"../../../utils\":114,\"./array\":40}],70:[function(require,module,exports){\nconst { GLKernel } = require('../gl/kernel');\nconst { FunctionBuilder } = require('../function-builder');\nconst { WebGLFunctionNode } = require('./function-node');\nconst { utils } = require('../../utils');\nconst mrud = require('../../plugins/math-random-uniformly-distributed');\nconst { fragmentShader } = require('./fragment-shader');\nconst { vertexShader } = require('./vertex-shader');\nconst { glKernelString } = require('../gl/kernel-string');\nconst { lookupKernelValueType } = require('./kernel-value-maps');\n\nlet isSupported = null;\nlet testCanvas = null;\nlet testContext = null;\nlet testExtensions = null;\nlet features = null;\n\nconst plugins = [mrud];\nconst canvases = [];\nconst maxTexSizes = {};\n\n\nclass WebGLKernel extends GLKernel {\n  static get isSupported() {\n    if (isSupported !== null) {\n      return isSupported;\n    }\n    this.setupFeatureChecks();\n    isSupported = this.isContextMatch(testContext);\n    return isSupported;\n  }\n\n  static setupFeatureChecks() {\n    if (typeof document !== 'undefined') {\n      testCanvas = document.createElement('canvas');\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      testCanvas = new OffscreenCanvas(0, 0);\n    }\n    if (!testCanvas) return;\n    testContext = testCanvas.getContext('webgl') || testCanvas.getContext('experimental-webgl');\n    if (!testContext || !testContext.getExtension) return;\n    testExtensions = {\n      OES_texture_float: testContext.getExtension('OES_texture_float'),\n      OES_texture_float_linear: testContext.getExtension('OES_texture_float_linear'),\n      OES_element_index_uint: testContext.getExtension('OES_element_index_uint'),\n      WEBGL_draw_buffers: testContext.getExtension('WEBGL_draw_buffers'),\n    };\n    features = this.getFeatures();\n  }\n\n  static isContextMatch(context) {\n    if (typeof WebGLRenderingContext !== 'undefined') {\n      return context instanceof WebGLRenderingContext;\n    }\n    return false;\n  }\n\n  static getIsTextureFloat() {\n    return Boolean(testExtensions.OES_texture_float);\n  }\n\n  static getIsDrawBuffers() {\n    return Boolean(testExtensions.WEBGL_draw_buffers);\n  }\n\n  static getChannelCount() {\n    return testExtensions.WEBGL_draw_buffers ?\n      testContext.getParameter(testExtensions.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL) :\n      1;\n  }\n\n  static getMaxTextureSize() {\n    return testContext.getParameter(testContext.MAX_TEXTURE_SIZE);\n  }\n\n  static lookupKernelValueType(type, dynamic, precision, value) {\n    return lookupKernelValueType(type, dynamic, precision, value);\n  }\n\n  static get testCanvas() {\n    return testCanvas;\n  }\n\n  static get testContext() {\n    return testContext;\n  }\n\n  static get features() {\n    return features;\n  }\n\n  static get fragmentShader() {\n    return fragmentShader;\n  }\n\n  static get vertexShader() {\n    return vertexShader;\n  }\n\n  constructor(source, settings) {\n    super(source, settings);\n    this.program = null;\n    this.pipeline = settings.pipeline;\n    this.endianness = utils.systemEndianness();\n    this.extensions = {};\n    this.argumentTextureCount = 0;\n    this.constantTextureCount = 0;\n    this.fragShader = null;\n    this.vertShader = null;\n    this.drawBuffersMap = null;\n\n    this.maxTexSize = null;\n    this.onRequestSwitchKernel = null;\n\n    this.texture = null;\n    this.mappedTextures = null;\n    this.mergeSettings(source.settings || settings);\n\n    this.threadDim = null;\n    this.framebuffer = null;\n    this.buffer = null;\n\n    this.textureCache = [];\n    this.programUniformLocationCache = {};\n    this.uniform1fCache = {};\n    this.uniform1iCache = {};\n    this.uniform2fCache = {};\n    this.uniform2fvCache = {};\n    this.uniform2ivCache = {};\n    this.uniform3fvCache = {};\n    this.uniform3ivCache = {};\n    this.uniform4fvCache = {};\n    this.uniform4ivCache = {};\n  }\n\n  initCanvas() {\n    if (typeof document !== 'undefined') {\n      const canvas = document.createElement('canvas');\n      canvas.width = 2;\n      canvas.height = 2;\n      return canvas;\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      return new OffscreenCanvas(0, 0);\n    }\n  }\n\n  initContext() {\n    const settings = {\n      alpha: false,\n      depth: false,\n      antialias: false\n    };\n    return this.canvas.getContext('webgl', settings) || this.canvas.getContext('experimental-webgl', settings);\n  }\n\n  initPlugins(settings) {\n    const pluginsToUse = [];\n    const { source } = this;\n    if (typeof source === 'string') {\n      for (let i = 0; i < plugins.length; i++) {\n        const plugin = plugins[i];\n        if (source.match(plugin.functionMatch)) {\n          pluginsToUse.push(plugin);\n        }\n      }\n    } else if (typeof source === 'object') {\n      if (settings.pluginNames) { \n        for (let i = 0; i < plugins.length; i++) {\n          const plugin = plugins[i];\n          const usePlugin = settings.pluginNames.some(pluginName => pluginName === plugin.name);\n          if (usePlugin) {\n            pluginsToUse.push(plugin);\n          }\n        }\n      }\n    }\n    return pluginsToUse;\n  }\n\n  initExtensions() {\n    this.extensions = {\n      OES_texture_float: this.context.getExtension('OES_texture_float'),\n      OES_texture_float_linear: this.context.getExtension('OES_texture_float_linear'),\n      OES_element_index_uint: this.context.getExtension('OES_element_index_uint'),\n      WEBGL_draw_buffers: this.context.getExtension('WEBGL_draw_buffers'),\n      WEBGL_color_buffer_float: this.context.getExtension('WEBGL_color_buffer_float'),\n    };\n  }\n\n  validateSettings(args) {\n    if (!this.validate) {\n      this.texSize = utils.getKernelTextureSize({\n        optimizeFloatMemory: this.optimizeFloatMemory,\n        precision: this.precision,\n      }, this.output);\n      return;\n    }\n\n    const { features } = this.constructor;\n\n    if (this.optimizeFloatMemory === true && !features.isTextureFloat) {\n      throw new Error('Float textures are not supported');\n    } else if (this.precision === 'single' && !features.isFloatRead) {\n      throw new Error('Single precision not supported');\n    } else if (!this.graphical && this.precision === null && features.isTextureFloat) {\n      this.precision = features.isFloatRead ? 'single' : 'unsigned';\n    }\n\n    if (this.subKernels && this.subKernels.length > 0 && !this.extensions.WEBGL_draw_buffers) {\n      throw new Error('could not instantiate draw buffers extension');\n    }\n\n    if (this.fixIntegerDivisionAccuracy === null) {\n      this.fixIntegerDivisionAccuracy = !features.isIntegerDivisionAccurate;\n    } else if (this.fixIntegerDivisionAccuracy && features.isIntegerDivisionAccurate) {\n      this.fixIntegerDivisionAccuracy = false;\n    }\n\n    this.checkOutput();\n\n    if (!this.output || this.output.length === 0) {\n      if (args.length !== 1) {\n        throw new Error('Auto output only supported for kernels with only one input');\n      }\n\n      const argType = utils.getVariableType(args[0], this.strictIntegers);\n      switch (argType) {\n        case 'Array':\n          this.output = utils.getDimensions(argType);\n          break;\n        case 'NumberTexture':\n        case 'MemoryOptimizedNumberTexture':\n        case 'ArrayTexture(1)':\n        case 'ArrayTexture(2)':\n        case 'ArrayTexture(3)':\n        case 'ArrayTexture(4)':\n          this.output = args[0].output;\n          break;\n        default:\n          throw new Error('Auto output not supported for input type: ' + argType);\n      }\n    }\n\n    if (this.graphical) {\n      if (this.output.length !== 2) {\n        throw new Error('Output must have 2 dimensions on graphical mode');\n      }\n\n      if (this.precision === 'precision') {\n        this.precision = 'unsigned';\n        console.warn('Cannot use graphical mode and single precision at the same time');\n      }\n\n      this.texSize = utils.clone(this.output);\n      return;\n    } else if (this.precision === null && features.isTextureFloat) {\n      this.precision = 'single';\n    }\n\n    this.texSize = utils.getKernelTextureSize({\n      optimizeFloatMemory: this.optimizeFloatMemory,\n      precision: this.precision,\n    }, this.output);\n\n    this.checkTextureSize();\n  }\n\n  updateMaxTexSize() {\n    const { texSize, canvas } = this;\n    if (this.maxTexSize === null) {\n      let canvasIndex = canvases.indexOf(canvas);\n      if (canvasIndex === -1) {\n        canvasIndex = canvases.length;\n        canvases.push(canvas);\n        maxTexSizes[canvasIndex] = [texSize[0], texSize[1]];\n      }\n      this.maxTexSize = maxTexSizes[canvasIndex];\n    }\n    if (this.maxTexSize[0] < texSize[0]) {\n      this.maxTexSize[0] = texSize[0];\n    }\n    if (this.maxTexSize[1] < texSize[1]) {\n      this.maxTexSize[1] = texSize[1];\n    }\n  }\n\n  setupArguments(args) {\n    this.kernelArguments = [];\n    this.argumentTextureCount = 0;\n    const needsArgumentTypes = this.argumentTypes === null;\n    if (needsArgumentTypes) {\n      this.argumentTypes = [];\n    }\n    this.argumentSizes = [];\n    this.argumentBitRatios = [];\n\n    if (args.length < this.argumentNames.length) {\n      throw new Error('not enough arguments for kernel');\n    } else if (args.length > this.argumentNames.length) {\n      throw new Error('too many arguments for kernel');\n    }\n\n    const { context: gl } = this;\n    let textureIndexes = 0;\n\n    const onRequestTexture = () => {\n      return this.createTexture();\n    };\n    const onRequestIndex = () => {\n      return this.constantTextureCount + textureIndexes++;\n    };\n    const onUpdateValueMismatch = (constructor) => {\n      this.switchKernels({\n        type: 'argumentMismatch',\n        needed: constructor\n      });\n    };\n    const onRequestContextHandle = () => {\n      return gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount++;\n    };\n\n    for (let index = 0; index < args.length; index++) {\n      const value = args[index];\n      const name = this.argumentNames[index];\n      let type;\n      if (needsArgumentTypes) {\n        type = utils.getVariableType(value, this.strictIntegers);\n        this.argumentTypes.push(type);\n      } else {\n        type = this.argumentTypes[index];\n      }\n      const KernelValue = this.constructor.lookupKernelValueType(type, this.dynamicArguments ? 'dynamic' : 'static', this.precision, args[index]);\n      if (KernelValue === null) {\n        return this.requestFallback(args);\n      }\n      const kernelArgument = new KernelValue(value, {\n        name,\n        type,\n        tactic: this.tactic,\n        origin: 'user',\n        context: gl,\n        checkContext: this.checkContext,\n        kernel: this,\n        strictIntegers: this.strictIntegers,\n        onRequestTexture,\n        onRequestIndex,\n        onUpdateValueMismatch,\n        onRequestContextHandle,\n      });\n      this.kernelArguments.push(kernelArgument);\n      kernelArgument.setup();\n      this.argumentSizes.push(kernelArgument.textureSize);\n      this.argumentBitRatios[index] = kernelArgument.bitRatio;\n    }\n  }\n\n  createTexture() {\n    const texture = this.context.createTexture();\n    this.textureCache.push(texture);\n    return texture;\n  }\n\n  setupConstants(args) {\n    const { context: gl } = this;\n    this.kernelConstants = [];\n    this.forceUploadKernelConstants = [];\n    let needsConstantTypes = this.constantTypes === null;\n    if (needsConstantTypes) {\n      this.constantTypes = {};\n    }\n    this.constantBitRatios = {};\n    let textureIndexes = 0;\n    for (const name in this.constants) {\n      const value = this.constants[name];\n      let type;\n      if (needsConstantTypes) {\n        type = utils.getVariableType(value, this.strictIntegers);\n        this.constantTypes[name] = type;\n      } else {\n        type = this.constantTypes[name];\n      }\n      const KernelValue = this.constructor.lookupKernelValueType(type, 'static', this.precision, value);\n      if (KernelValue === null) {\n        return this.requestFallback(args);\n      }\n      const kernelValue = new KernelValue(value, {\n        name,\n        type,\n        tactic: this.tactic,\n        origin: 'constants',\n        context: this.context,\n        checkContext: this.checkContext,\n        kernel: this,\n        strictIntegers: this.strictIntegers,\n        onRequestTexture: () => {\n          return this.createTexture();\n        },\n        onRequestIndex: () => {\n          return textureIndexes++;\n        },\n        onRequestContextHandle: () => {\n          return gl.TEXTURE0 + this.constantTextureCount++;\n        }\n      });\n      this.constantBitRatios[name] = kernelValue.bitRatio;\n      this.kernelConstants.push(kernelValue);\n      kernelValue.setup();\n      if (kernelValue.forceUploadEachRun) {\n        this.forceUploadKernelConstants.push(kernelValue);\n      }\n    }\n  }\n\n  build() {\n    if (this.built) return;\n    this.initExtensions();\n    this.validateSettings(arguments);\n    this.setupConstants(arguments);\n    if (this.fallbackRequested) return;\n    this.setupArguments(arguments);\n    if (this.fallbackRequested) return;\n    this.updateMaxTexSize();\n    this.translateSource();\n    const failureResult = this.pickRenderStrategy(arguments);\n    if (failureResult) {\n      return failureResult;\n    }\n    const { texSize, context: gl, canvas } = this;\n    gl.enable(gl.SCISSOR_TEST);\n    if (this.pipeline && this.precision === 'single') {\n      gl.viewport(0, 0, this.maxTexSize[0], this.maxTexSize[1]);\n      canvas.width = this.maxTexSize[0];\n      canvas.height = this.maxTexSize[1];\n    } else {\n      gl.viewport(0, 0, this.maxTexSize[0], this.maxTexSize[1]);\n      canvas.width = this.maxTexSize[0];\n      canvas.height = this.maxTexSize[1];\n    }\n    const threadDim = this.threadDim = Array.from(this.output);\n    while (threadDim.length < 3) {\n      threadDim.push(1);\n    }\n\n    const compiledVertexShader = this.getVertexShader(arguments);\n    const vertShader = gl.createShader(gl.VERTEX_SHADER);\n    gl.shaderSource(vertShader, compiledVertexShader);\n    gl.compileShader(vertShader);\n    this.vertShader = vertShader;\n\n    const compiledFragmentShader = this.getFragmentShader(arguments);\n    const fragShader = gl.createShader(gl.FRAGMENT_SHADER);\n    gl.shaderSource(fragShader, compiledFragmentShader);\n    gl.compileShader(fragShader);\n    this.fragShader = fragShader;\n\n    if (this.debug) {\n      console.log('GLSL Shader Output:');\n      console.log(compiledFragmentShader);\n    }\n\n    if (!gl.getShaderParameter(vertShader, gl.COMPILE_STATUS)) {\n      throw new Error('Error compiling vertex shader: ' + gl.getShaderInfoLog(vertShader));\n    }\n    if (!gl.getShaderParameter(fragShader, gl.COMPILE_STATUS)) {\n      throw new Error('Error compiling fragment shader: ' + gl.getShaderInfoLog(fragShader));\n    }\n\n    const program = this.program = gl.createProgram();\n    gl.attachShader(program, vertShader);\n    gl.attachShader(program, fragShader);\n    gl.linkProgram(program);\n    this.framebuffer = gl.createFramebuffer();\n    this.framebuffer.width = texSize[0];\n    this.framebuffer.height = texSize[1];\n    this.rawValueFramebuffers = {};\n\n    const vertices = new Float32Array([-1, -1,\n      1, -1, -1, 1,\n      1, 1\n    ]);\n    const texCoords = new Float32Array([\n      0, 0,\n      1, 0,\n      0, 1,\n      1, 1\n    ]);\n\n    const texCoordOffset = vertices.byteLength;\n\n    let buffer = this.buffer;\n    if (!buffer) {\n      buffer = this.buffer = gl.createBuffer();\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n      gl.bufferData(gl.ARRAY_BUFFER, vertices.byteLength + texCoords.byteLength, gl.STATIC_DRAW);\n    } else {\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    }\n\n    gl.bufferSubData(gl.ARRAY_BUFFER, 0, vertices);\n    gl.bufferSubData(gl.ARRAY_BUFFER, texCoordOffset, texCoords);\n\n    const aPosLoc = gl.getAttribLocation(this.program, 'aPos');\n    gl.enableVertexAttribArray(aPosLoc);\n    gl.vertexAttribPointer(aPosLoc, 2, gl.FLOAT, false, 0, 0);\n    const aTexCoordLoc = gl.getAttribLocation(this.program, 'aTexCoord');\n    gl.enableVertexAttribArray(aTexCoordLoc);\n    gl.vertexAttribPointer(aTexCoordLoc, 2, gl.FLOAT, false, 0, texCoordOffset);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n\n    let i = 0;\n    gl.useProgram(this.program);\n    for (let p in this.constants) {\n      this.kernelConstants[i++].updateValue(this.constants[p]);\n    }\n\n    this._setupOutputTexture();\n    if (\n      this.subKernels !== null &&\n      this.subKernels.length > 0\n    ) {\n      this._mappedTextureSwitched = {};\n      this._setupSubOutputTextures();\n    }\n    this.buildSignature(arguments);\n    this.built = true;\n  }\n\n  translateSource() {\n    const functionBuilder = FunctionBuilder.fromKernel(this, WebGLFunctionNode, {\n      fixIntegerDivisionAccuracy: this.fixIntegerDivisionAccuracy\n    });\n    this.translatedSource = functionBuilder.getPrototypeString('kernel');\n    this.setupReturnTypes(functionBuilder);\n  }\n\n  setupReturnTypes(functionBuilder) {\n    if (!this.graphical && !this.returnType) {\n      this.returnType = functionBuilder.getKernelResultType();\n    }\n\n    if (this.subKernels && this.subKernels.length > 0) {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        const subKernel = this.subKernels[i];\n        if (!subKernel.returnType) {\n          subKernel.returnType = functionBuilder.getSubKernelResultType(i);\n        }\n      }\n    }\n  }\n\n  run() {\n    const { kernelArguments, texSize, forceUploadKernelConstants, context: gl } = this;\n\n    gl.useProgram(this.program);\n    gl.scissor(0, 0, texSize[0], texSize[1]);\n    if (this.dynamicOutput) {\n      this.setUniform3iv('uOutputDim', new Int32Array(this.threadDim));\n      this.setUniform2iv('uTexSize', texSize);\n    }\n\n    this.setUniform2f('ratio', texSize[0] / this.maxTexSize[0], texSize[1] / this.maxTexSize[1]);\n\n    for (let i = 0; i < forceUploadKernelConstants.length; i++) {\n      const constant = forceUploadKernelConstants[i];\n      constant.updateValue(this.constants[constant.name]);\n      if (this.switchingKernels) return;\n    }\n    for (let i = 0; i < kernelArguments.length; i++) {\n      kernelArguments[i].updateValue(arguments[i]);\n      if (this.switchingKernels) return;\n    }\n\n    if (this.plugins) {\n      for (let i = 0; i < this.plugins.length; i++) {\n        const plugin = this.plugins[i];\n        if (plugin.onBeforeRun) {\n          plugin.onBeforeRun(this);\n        }\n      }\n    }\n\n    if (this.graphical) {\n      if (this.pipeline) {\n        gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n        if (this.immutable) {\n          this._replaceOutputTexture();\n        }\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n        return this.immutable ? this.texture.clone() : this.texture;\n      }\n      gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n      gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n      gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n      return;\n    }\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n    if (this.immutable) {\n      this._replaceOutputTexture();\n    }\n\n    if (this.subKernels !== null) {\n      if (this.immutable) {\n        this._replaceSubOutputTextures();\n      }\n      this.drawBuffers();\n    }\n\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n  }\n\n  drawBuffers() {\n    this.extensions.WEBGL_draw_buffers.drawBuffersWEBGL(this.drawBuffersMap);\n  }\n\n  getInternalFormat() {\n    return this.context.RGBA;\n  }\n  getTextureFormat() {\n    const { context: gl } = this;\n    switch (this.getInternalFormat()) {\n      case gl.RGBA:\n        return gl.RGBA;\n      default:\n        throw new Error('Unknown internal format');\n    }\n  }\n\n  _replaceOutputTexture() {\n    if (this.texture.beforeMutate() || this._textureSwitched) {\n      const gl = this.context;\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture.texture, 0);\n      this._textureSwitched = false;\n    }\n  }\n\n  _setupOutputTexture() {\n    const gl = this.context;\n    const texSize = this.texSize;\n    if (this.texture) {\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture.texture, 0);\n      return;\n    }\n    const texture = this.createTexture();\n    gl.activeTexture(gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    const format = this.getInternalFormat();\n    if (this.precision === 'single') {\n      gl.texImage2D(gl.TEXTURE_2D, 0, format, texSize[0], texSize[1], 0, gl.RGBA, gl.FLOAT, null);\n    } else {\n      gl.texImage2D(gl.TEXTURE_2D, 0, format, texSize[0], texSize[1], 0, format, gl.UNSIGNED_BYTE, null);\n    }\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    this.texture = new this.TextureConstructor({\n      texture,\n      size: texSize,\n      dimensions: this.threadDim,\n      output: this.output,\n      context: this.context,\n      internalFormat: this.getInternalFormat(),\n      textureFormat: this.getTextureFormat(),\n      kernel: this,\n    });\n  }\n\n  _replaceSubOutputTextures() {\n    const gl = this.context;\n    for (let i = 0; i < this.mappedTextures.length; i++) {\n      const mappedTexture = this.mappedTextures[i];\n      if (mappedTexture.beforeMutate() || this._mappedTextureSwitched[i]) {\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, mappedTexture.texture, 0);\n        this._mappedTextureSwitched[i] = false;\n      }\n    }\n  }\n\n  _setupSubOutputTextures() {\n    const gl = this.context;\n    if (this.mappedTextures) {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, this.mappedTextures[i].texture, 0);\n      }\n      return;\n    }\n    const texSize = this.texSize;\n    this.drawBuffersMap = [gl.COLOR_ATTACHMENT0];\n    this.mappedTextures = [];\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const texture = this.createTexture();\n      this.drawBuffersMap.push(gl.COLOR_ATTACHMENT0 + i + 1);\n      gl.activeTexture(gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount + i);\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n      if (this.precision === 'single') {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texSize[0], texSize[1], 0, gl.RGBA, gl.FLOAT, null);\n      } else {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texSize[0], texSize[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n      }\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, texture, 0);\n\n      this.mappedTextures.push(new this.TextureConstructor({\n        texture,\n        size: texSize,\n        dimensions: this.threadDim,\n        output: this.output,\n        context: this.context,\n        internalFormat: this.getInternalFormat(),\n        textureFormat: this.getTextureFormat(),\n        kernel: this,\n      }));\n    }\n  }\n\n  setUniform1f(name, value) {\n    if (this.uniform1fCache.hasOwnProperty(name)) {\n      const cache = this.uniform1fCache[name];\n      if (value === cache) {\n        return;\n      }\n    }\n    this.uniform1fCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform1f(loc, value);\n  }\n\n  setUniform1i(name, value) {\n    if (this.uniform1iCache.hasOwnProperty(name)) {\n      const cache = this.uniform1iCache[name];\n      if (value === cache) {\n        return;\n      }\n    }\n    this.uniform1iCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform1i(loc, value);\n  }\n\n  setUniform2f(name, value1, value2) {\n    if (this.uniform2fCache.hasOwnProperty(name)) {\n      const cache = this.uniform2fCache[name];\n      if (\n        value1 === cache[0] &&\n        value2 === cache[1]\n      ) {\n        return;\n      }\n    }\n    this.uniform2fCache[name] = [value1, value2];\n    const loc = this.getUniformLocation(name);\n    this.context.uniform2f(loc, value1, value2);\n  }\n\n  setUniform2fv(name, value) {\n    if (this.uniform2fvCache.hasOwnProperty(name)) {\n      const cache = this.uniform2fvCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1]\n      ) {\n        return;\n      }\n    }\n    this.uniform2fvCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform2fv(loc, value);\n  }\n\n  setUniform2iv(name, value) {\n    if (this.uniform2ivCache.hasOwnProperty(name)) {\n      const cache = this.uniform2ivCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1]\n      ) {\n        return;\n      }\n    }\n    this.uniform2ivCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform2iv(loc, value);\n  }\n\n  setUniform3fv(name, value) {\n    if (this.uniform3fvCache.hasOwnProperty(name)) {\n      const cache = this.uniform3fvCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1] &&\n        value[2] === cache[2]\n      ) {\n        return;\n      }\n    }\n    this.uniform3fvCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform3fv(loc, value);\n  }\n\n  setUniform3iv(name, value) {\n    if (this.uniform3ivCache.hasOwnProperty(name)) {\n      const cache = this.uniform3ivCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1] &&\n        value[2] === cache[2]\n      ) {\n        return;\n      }\n    }\n    this.uniform3ivCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform3iv(loc, value);\n  }\n\n  setUniform4fv(name, value) {\n    if (this.uniform4fvCache.hasOwnProperty(name)) {\n      const cache = this.uniform4fvCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1] &&\n        value[2] === cache[2] &&\n        value[3] === cache[3]\n      ) {\n        return;\n      }\n    }\n    this.uniform4fvCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform4fv(loc, value);\n  }\n\n  setUniform4iv(name, value) {\n    if (this.uniform4ivCache.hasOwnProperty(name)) {\n      const cache = this.uniform4ivCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1] &&\n        value[2] === cache[2] &&\n        value[3] === cache[3]\n      ) {\n        return;\n      }\n    }\n    this.uniform4ivCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform4iv(loc, value);\n  }\n\n  getUniformLocation(name) {\n    if (this.programUniformLocationCache.hasOwnProperty(name)) {\n      return this.programUniformLocationCache[name];\n    }\n    return this.programUniformLocationCache[name] = this.context.getUniformLocation(this.program, name);\n  }\n\n  _getFragShaderArtifactMap(args) {\n    return {\n      HEADER: this._getHeaderString(),\n      LOOP_MAX: this._getLoopMaxString(),\n      PLUGINS: this._getPluginsString(),\n      CONSTANTS: this._getConstantsString(),\n      DECODE32_ENDIANNESS: this._getDecode32EndiannessString(),\n      ENCODE32_ENDIANNESS: this._getEncode32EndiannessString(),\n      DIVIDE_WITH_INTEGER_CHECK: this._getDivideWithIntegerCheckString(),\n      INJECTED_NATIVE: this._getInjectedNative(),\n      MAIN_CONSTANTS: this._getMainConstantsString(),\n      MAIN_ARGUMENTS: this._getMainArgumentsString(args),\n      KERNEL: this.getKernelString(),\n      MAIN_RESULT: this.getMainResultString(),\n      FLOAT_TACTIC_DECLARATION: this.getFloatTacticDeclaration(),\n      INT_TACTIC_DECLARATION: this.getIntTacticDeclaration(),\n      SAMPLER_2D_TACTIC_DECLARATION: this.getSampler2DTacticDeclaration(),\n      SAMPLER_2D_ARRAY_TACTIC_DECLARATION: this.getSampler2DArrayTacticDeclaration(),\n    };\n  }\n\n  _getVertShaderArtifactMap(args) {\n    return {\n      FLOAT_TACTIC_DECLARATION: this.getFloatTacticDeclaration(),\n      INT_TACTIC_DECLARATION: this.getIntTacticDeclaration(),\n      SAMPLER_2D_TACTIC_DECLARATION: this.getSampler2DTacticDeclaration(),\n      SAMPLER_2D_ARRAY_TACTIC_DECLARATION: this.getSampler2DArrayTacticDeclaration(),\n    };\n  }\n\n  _getHeaderString() {\n    return (\n      this.subKernels !== null ?\n      '#extension GL_EXT_draw_buffers : require\\n' :\n      ''\n    );\n  }\n\n  _getLoopMaxString() {\n    return (\n      this.loopMaxIterations ?\n      ` ${parseInt(this.loopMaxIterations)};\\n` :\n      ' 1000;\\n'\n    );\n  }\n\n  _getPluginsString() {\n    if (!this.plugins) return '\\n';\n    return this.plugins.map(plugin => plugin.source && this.source.match(plugin.functionMatch) ? plugin.source : '').join('\\n');\n  }\n\n  _getConstantsString() {\n    const result = [];\n    const { threadDim, texSize } = this;\n    if (this.dynamicOutput) {\n      result.push(\n        'uniform ivec3 uOutputDim',\n        'uniform ivec2 uTexSize'\n      );\n    } else {\n      result.push(\n        `ivec3 uOutputDim = ivec3(${threadDim[0]}, ${threadDim[1]}, ${threadDim[2]})`,\n        `ivec2 uTexSize = ivec2(${texSize[0]}, ${texSize[1]})`\n      );\n    }\n    return utils.linesToString(result);\n  }\n\n  _getTextureCoordinate() {\n    const subKernels = this.subKernels;\n    if (subKernels === null || subKernels.length < 1) {\n      return 'varying vec2 vTexCoord;\\n';\n    } else {\n      return 'out vec2 vTexCoord;\\n';\n    }\n  }\n\n  _getDecode32EndiannessString() {\n    return (\n      this.endianness === 'LE' ?\n      '' :\n      '  texel.rgba = texel.abgr;\\n'\n    );\n  }\n\n  _getEncode32EndiannessString() {\n    return (\n      this.endianness === 'LE' ?\n      '' :\n      '  texel.rgba = texel.abgr;\\n'\n    );\n  }\n\n  _getDivideWithIntegerCheckString() {\n    return this.fixIntegerDivisionAccuracy ?\n      `float divWithIntCheck(float x, float y) {\n  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {\n    return float(int(x) / int(y));\n  }\n  return x / y;\n}\n\nfloat integerCorrectionModulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -(number - (divisor * floor(divWithIntCheck(number, divisor))));\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return number - (divisor * floor(divWithIntCheck(number, divisor)));\n}` :\n      '';\n  }\n\n  _getMainArgumentsString(args) {\n    const results = [];\n    const { argumentNames } = this;\n    for (let i = 0; i < argumentNames.length; i++) {\n      results.push(this.kernelArguments[i].getSource(args[i]));\n    }\n    return results.join('');\n  }\n\n  _getInjectedNative() {\n    return this.injectedNative || '';\n  }\n\n  _getMainConstantsString() {\n    const result = [];\n    const { constants } = this;\n    if (constants) {\n      let i = 0;\n      for (const name in constants) {\n        if (!this.constants.hasOwnProperty(name)) continue;\n        result.push(this.kernelConstants[i++].getSource(this.constants[name]));\n      }\n    }\n    return result.join('');\n  }\n\n  getRawValueFramebuffer(width, height) {\n    if (!this.rawValueFramebuffers[width]) {\n      this.rawValueFramebuffers[width] = {};\n    }\n    if (!this.rawValueFramebuffers[width][height]) {\n      const framebuffer = this.context.createFramebuffer();\n      framebuffer.width = width;\n      framebuffer.height = height;\n      this.rawValueFramebuffers[width][height] = framebuffer;\n    }\n    return this.rawValueFramebuffers[width][height];\n  }\n\n  getKernelResultDeclaration() {\n    switch (this.returnType) {\n      case 'Array(2)':\n        return 'vec2 kernelResult';\n      case 'Array(3)':\n        return 'vec3 kernelResult';\n      case 'Array(4)':\n        return 'vec4 kernelResult';\n      case 'LiteralInteger':\n      case 'Float':\n      case 'Number':\n      case 'Integer':\n        return 'float kernelResult';\n      default:\n        if (this.graphical) {\n          return 'float kernelResult';\n        } else {\n          throw new Error(`unrecognized output type \"${ this.returnType }\"`);\n        }\n    }\n  }\n  getKernelString() {\n    const result = [this.getKernelResultDeclaration()];\n    const { subKernels } = this;\n    if (subKernels !== null) {\n      switch (this.returnType) {\n        case 'Number':\n        case 'Float':\n        case 'Integer':\n          for (let i = 0; i < subKernels.length; i++) {\n            const subKernel = subKernels[i];\n            result.push(\n              subKernel.returnType === 'Integer' ?\n              `int subKernelResult_${ subKernel.name } = 0` :\n              `float subKernelResult_${ subKernel.name } = 0.0`\n            );\n          }\n          break;\n        case 'Array(2)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec2 subKernelResult_${ subKernels[i].name }`\n            );\n          }\n          break;\n        case 'Array(3)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec3 subKernelResult_${ subKernels[i].name }`\n            );\n          }\n          break;\n        case 'Array(4)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec4 subKernelResult_${ subKernels[i].name }`\n            );\n          }\n          break;\n      }\n    }\n\n    return utils.linesToString(result) + this.translatedSource;\n  }\n\n  getMainResultGraphical() {\n    return utils.linesToString([\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragColor = actualColor',\n    ]);\n  }\n\n  getMainResultPackedPixels() {\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n        return this.getMainResultKernelPackedPixels() +\n          this.getMainResultSubKernelPackedPixels();\n      default:\n        throw new Error(`packed output only usable with Numbers, \"${this.returnType}\" specified`);\n    }\n  }\n\n  getMainResultKernelPackedPixels() {\n    return utils.linesToString([\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      `  gl_FragData[0] = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(kernelResult)`\n    ]);\n  }\n\n  getMainResultSubKernelPackedPixels() {\n    const result = [];\n    if (!this.subKernels) return '';\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  gl_FragData[${i + 1}] = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(float(subKernelResult_${this.subKernels[i].name}))`\n        );\n      } else {\n        result.push(\n          `  gl_FragData[${i + 1}] = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(subKernelResult_${this.subKernels[i].name})`\n        );\n      }\n    }\n    return utils.linesToString(result);\n  }\n\n  getMainResultMemoryOptimizedFloats() {\n    const result = [\n      '  index *= 4',\n    ];\n\n    switch (this.returnType) {\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n        const channels = ['r', 'g', 'b', 'a'];\n        for (let i = 0; i < channels.length; i++) {\n          const channel = channels[i];\n          this.getMainResultKernelMemoryOptimizedFloats(result, channel);\n          this.getMainResultSubKernelMemoryOptimizedFloats(result, channel);\n          if (i + 1 < channels.length) {\n            result.push('  index += 1');\n          }\n        }\n        break;\n      default:\n        throw new Error(`optimized output only usable with Numbers, ${this.returnType} specified`);\n    }\n\n    return utils.linesToString(result);\n  }\n\n  getMainResultKernelMemoryOptimizedFloats(result, channel) {\n    result.push(\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      `  gl_FragData[0].${channel} = kernelResult`\n    );\n  }\n\n  getMainResultSubKernelMemoryOptimizedFloats(result, channel) {\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  gl_FragData[${i + 1}].${channel} = float(subKernelResult_${this.subKernels[i].name})`\n        );\n      } else {\n        result.push(\n          `  gl_FragData[${i + 1}].${channel} = subKernelResult_${this.subKernels[i].name}`\n        );\n      }\n    }\n  }\n\n  getMainResultKernelNumberTexture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragData[0][0] = kernelResult',\n    ];\n  }\n\n  getMainResultSubKernelNumberTexture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  gl_FragData[${i + 1}][0] = float(subKernelResult_${subKernel.name})`\n        );\n      } else {\n        result.push(\n          `  gl_FragData[${i + 1}][0] = subKernelResult_${subKernel.name}`\n        );\n      }\n    }\n    return result;\n  }\n\n  getMainResultKernelArray2Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragData[0][0] = kernelResult[0]',\n      '  gl_FragData[0][1] = kernelResult[1]',\n    ];\n  }\n\n  getMainResultSubKernelArray2Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      result.push(\n        `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n        `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`\n      );\n    }\n    return result;\n  }\n\n  getMainResultKernelArray3Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragData[0][0] = kernelResult[0]',\n      '  gl_FragData[0][1] = kernelResult[1]',\n      '  gl_FragData[0][2] = kernelResult[2]',\n    ];\n  }\n\n  getMainResultSubKernelArray3Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      result.push(\n        `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n        `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`,\n        `  gl_FragData[${i + 1}][2] = subKernelResult_${this.subKernels[i].name}[2]`\n      );\n    }\n    return result;\n  }\n\n  getMainResultKernelArray4Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragData[0] = kernelResult',\n    ];\n  }\n\n  getMainResultSubKernelArray4Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    switch (this.returnType) {\n      case 'Number':\n      case 'Float':\n      case 'Integer':\n        for (let i = 0; i < this.subKernels.length; ++i) {\n          const subKernel = this.subKernels[i];\n          if (subKernel.returnType === 'Integer') {\n            result.push(\n              `  gl_FragData[${i + 1}] = float(subKernelResult_${this.subKernels[i].name})`\n            );\n          } else {\n            result.push(\n              `  gl_FragData[${i + 1}] = subKernelResult_${this.subKernels[i].name}`\n            );\n          }\n        }\n        break;\n      case 'Array(2)':\n        for (let i = 0; i < this.subKernels.length; ++i) {\n          result.push(\n            `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n            `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`\n          );\n        }\n        break;\n      case 'Array(3)':\n        for (let i = 0; i < this.subKernels.length; ++i) {\n          result.push(\n            `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n            `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`,\n            `  gl_FragData[${i + 1}][2] = subKernelResult_${this.subKernels[i].name}[2]`\n          );\n        }\n        break;\n      case 'Array(4)':\n        for (let i = 0; i < this.subKernels.length; ++i) {\n          result.push(\n            `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n            `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`,\n            `  gl_FragData[${i + 1}][2] = subKernelResult_${this.subKernels[i].name}[2]`,\n            `  gl_FragData[${i + 1}][3] = subKernelResult_${this.subKernels[i].name}[3]`\n          );\n        }\n        break;\n    }\n\n    return result;\n  }\n\n  replaceArtifacts(src, map) {\n    return src.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z]*[0-9]?)*)__;\\n/g, (match, artifact) => {\n      if (map.hasOwnProperty(artifact)) {\n        return map[artifact];\n      }\n      throw `unhandled artifact ${artifact}`;\n    });\n  }\n\n  getFragmentShader(args) {\n    if (this.compiledFragmentShader !== null) {\n      return this.compiledFragmentShader;\n    }\n    return this.compiledFragmentShader = this.replaceArtifacts(this.constructor.fragmentShader, this._getFragShaderArtifactMap(args));\n  }\n\n  getVertexShader(args) {\n    if (this.compiledVertexShader !== null) {\n      return this.compiledVertexShader;\n    }\n    return this.compiledVertexShader = this.replaceArtifacts(this.constructor.vertexShader, this._getVertShaderArtifactMap(args));\n  }\n\n  toString() {\n    const setupContextString = utils.linesToString([\n      `const gl = context`,\n    ]);\n    return glKernelString(this.constructor, arguments, this, setupContextString);\n  }\n\n  destroy(removeCanvasReferences) {\n    if (!this.context) return;\n    if (this.buffer) {\n      this.context.deleteBuffer(this.buffer);\n    }\n    if (this.framebuffer) {\n      this.context.deleteFramebuffer(this.framebuffer);\n    }\n    for (const width in this.rawValueFramebuffers) {\n      for (const height in this.rawValueFramebuffers[width]) {\n        this.context.deleteFramebuffer(this.rawValueFramebuffers[width][height]);\n        delete this.rawValueFramebuffers[width][height];\n      }\n      delete this.rawValueFramebuffers[width];\n    }\n    if (this.vertShader) {\n      this.context.deleteShader(this.vertShader);\n    }\n    if (this.fragShader) {\n      this.context.deleteShader(this.fragShader);\n    }\n    if (this.program) {\n      this.context.deleteProgram(this.program);\n    }\n    if (this.texture) {\n      this.texture.delete();\n      const textureCacheIndex = this.textureCache.indexOf(this.texture.texture);\n      if (textureCacheIndex > -1) {\n        this.textureCache.splice(textureCacheIndex, 1);\n      }\n      this.texture = null;\n    }\n    if (this.mappedTextures && this.mappedTextures.length) {\n      for (let i = 0; i < this.mappedTextures.length; i++) {\n        const mappedTexture = this.mappedTextures[i];\n        mappedTexture.delete();\n        const textureCacheIndex = this.textureCache.indexOf(mappedTexture.texture);\n        if (textureCacheIndex > -1) {\n          this.textureCache.splice(textureCacheIndex, 1);\n        }\n      }\n      this.mappedTextures = null;\n    }\n    if (this.kernelArguments) {\n      for (let i = 0; i < this.kernelArguments.length; i++) {\n        this.kernelArguments[i].destroy();\n      }\n    }\n    if (this.kernelConstants) {\n      for (let i = 0; i < this.kernelConstants.length; i++) {\n        this.kernelConstants[i].destroy();\n      }\n    }\n    while (this.textureCache.length > 0) {\n      const texture = this.textureCache.pop();\n      this.context.deleteTexture(texture);\n    }\n    if (removeCanvasReferences) {\n      const idx = canvases.indexOf(this.canvas);\n      if (idx >= 0) {\n        canvases[idx] = null;\n        maxTexSizes[idx] = null;\n      }\n    }\n    this.destroyExtensions();\n    delete this.context;\n    delete this.canvas;\n    if (!this.gpu) return;\n    const i = this.gpu.kernels.indexOf(this);\n    if (i === -1) return;\n    this.gpu.kernels.splice(i, 1);\n  }\n\n  destroyExtensions() {\n    this.extensions.OES_texture_float = null;\n    this.extensions.OES_texture_float_linear = null;\n    this.extensions.OES_element_index_uint = null;\n    this.extensions.WEBGL_draw_buffers = null;\n  }\n\n  static destroyContext(context) {\n    const extension = context.getExtension('WEBGL_lose_context');\n    if (extension) {\n      extension.loseContext();\n    }\n  }\n\n  toJSON() {\n    const json = super.toJSON();\n    json.functionNodes = FunctionBuilder.fromKernel(this, WebGLFunctionNode).toJSON();\n    json.settings.threadDim = this.threadDim;\n    return json;\n  }\n}\n\nmodule.exports = {\n  WebGLKernel\n};\n},{\"../../plugins/math-random-uniformly-distributed\":112,\"../../utils\":114,\"../function-builder\":9,\"../gl/kernel\":13,\"../gl/kernel-string\":12,\"./fragment-shader\":37,\"./function-node\":38,\"./kernel-value-maps\":39,\"./vertex-shader\":71}],71:[function(require,module,exports){\nconst vertexShader = `__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nattribute vec2 aPos;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}`;\n\nmodule.exports = {\n  vertexShader\n};\n},{}],72:[function(require,module,exports){\nconst fragmentShader = `#version 300 es\n__HEADER__;\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n__SAMPLER_2D_ARRAY_TACTIC_DECLARATION__;\n\nconst int LOOP_MAX = __LOOP_MAX__;\n\n__PLUGINS__;\n__CONSTANTS__;\n\nin vec2 vTexCoord;\n\nfloat atan2(float v1, float v2) {\n  if (v1 == 0.0 || v2 == 0.0) return 0.0;\n  return atan(v1 / v2);\n}\n\nfloat cbrt(float x) {\n  if (x >= 0.0) {\n    return pow(x, 1.0 / 3.0);\n  } else {\n    return -pow(x, 1.0 / 3.0);\n  }\n}\n\nfloat expm1(float x) {\n  return pow(${Math.E}, x) - 1.0; \n}\n\nfloat fround(highp float x) {\n  return x;\n}\n\nfloat imul(float v1, float v2) {\n  return float(int(v1) * int(v2));\n}\n\nfloat log10(float x) {\n  return log2(x) * (1.0 / log2(10.0));\n}\n\nfloat log1p(float x) {\n  return log(1.0 + x);\n}\n\nfloat _pow(float v1, float v2) {\n  if (v2 == 0.0) return 1.0;\n  return pow(v1, v2);\n}\n\nfloat _round(float x) {\n  return floor(x + 0.5);\n}\n\n\nconst int BIT_COUNT = 32;\nint modi(int x, int y) {\n  return x - y * (x / y);\n}\n\nint bitwiseOr(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseXOR(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseAnd(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 && b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseNot(int a) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (modi(a, 2) == 0) {\n      result += n;    \n    }\n    a = a / 2;\n    n = n * 2;\n  }\n  return result;\n}\nint bitwiseZeroFillLeftShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n *= 2;\n  }\n\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nint bitwiseSignedRightShift(int num, int shifts) {\n  return int(floor(float(num) / pow(2.0, float(shifts))));\n}\n\nint bitwiseZeroFillRightShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n /= 2;\n  }\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nfloat integerMod(float x, float y) {\n  float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nint integerMod(int x, int y) {\n  return x - (y * int(x/y));\n}\n\n__DIVIDE_WITH_INTEGER_CHECK__;\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY\\'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nfloat decode32(vec4 texel) {\n  __DECODE32_ENDIANNESS__;\n  texel *= 255.0;\n  vec2 gte128;\n  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(round(exponent));\n  texel.b = texel.b - 128.0 * gte128.x;\n  res = dot(texel, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nfloat decode16(vec4 texel, int index) {\n  int channel = integerMod(index, 2);\n  return texel[channel*2] * 255.0 + texel[channel*2 + 1] * 65280.0;\n}\n\nfloat decode8(vec4 texel, int index) {\n  int channel = integerMod(index, 4);\n  return texel[channel] * 255.0;\n}\n\nvec4 legacyEncode32(float f) {\n  float F = abs(f);\n  float sign = f < 0.0 ? 1.0 : 0.0;\n  float exponent = floor(log2(F));\n  float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  texel.rg = integerMod(texel.rg, 256.0);\n  texel.b = integerMod(texel.b, 128.0);\n  texel.a = exponent*0.5 + 63.5;\n  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  texel = floor(texel);\n  texel *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return texel;\n}\n\n// https://github.com/gpujs/gpu.js/wiki/Encoder-details\nvec4 encode32(float value) {\n  if (value == 0.0) return vec4(0, 0, 0, 0);\n\n  float exponent;\n  float mantissa;\n  vec4  result;\n  float sgn;\n\n  sgn = step(0.0, -value);\n  value = abs(value);\n\n  exponent = floor(log2(value));\n\n  mantissa = value*pow(2.0, -exponent)-1.0;\n  exponent = exponent+127.0;\n  result   = vec4(0,0,0,0);\n\n  result.a = floor(exponent/2.0);\n  exponent = exponent - result.a*2.0;\n  result.a = result.a + 128.0*sgn;\n\n  result.b = floor(mantissa * 128.0);\n  mantissa = mantissa - result.b / 128.0;\n  result.b = result.b + exponent*128.0;\n\n  result.g = floor(mantissa*32768.0);\n  mantissa = mantissa - result.g/32768.0;\n\n  result.r = floor(mantissa*8388608.0);\n  return result/255.0;\n}\n// Dragons end here\n\nint index;\nivec3 threadId;\n\nivec3 indexTo3D(int idx, ivec3 texDim) {\n  int z = int(idx / (texDim.x * texDim.y));\n  idx -= z * int(texDim.x * texDim.y);\n  int y = int(idx / texDim.x);\n  int x = int(integerMod(idx, texDim.x));\n  return ivec3(x, y, z);\n}\n\nfloat get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return decode32(texel);\n}\n\nfloat get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int w = texSize.x * 2;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize.x * 2, texSize.y));\n  return decode16(texel, index);\n}\n\nfloat get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int w = texSize.x * 4;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize.x * 4, texSize.y));\n  return decode8(texel, index);\n}\n\nfloat getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int channel = integerMod(index, 4);\n  index = index / 4;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  index = index / 4;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return texel[channel];\n}\n\nvec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture(tex, st / vec2(texSize));\n}\n\nvec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture(tex, vec3(st / vec2(texSize), z));\n}\n\nfloat getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return result[0];\n}\n\nvec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec2(result[0], result[1]);\n}\n\nvec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  index = index / 2;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  if (channel == 0) return vec2(texel.r, texel.g);\n  if (channel == 1) return vec2(texel.b, texel.a);\n  return vec2(0.0, 0.0);\n}\n\nvec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec3(result[0], result[1], result[2]);\n}\n\nvec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));\n  int vectorIndex = fieldIndex / 4;\n  int vectorOffset = fieldIndex - vectorIndex * 4;\n  int readY = vectorIndex / texSize.x;\n  int readX = vectorIndex - readY * texSize.x;\n  vec4 tex1 = texture(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));\n\n  if (vectorOffset == 0) {\n    return tex1.xyz;\n  } else if (vectorOffset == 1) {\n    return tex1.yzw;\n  } else {\n    readX++;\n    if (readX >= texSize.x) {\n      readX = 0;\n      readY++;\n    }\n    vec4 tex2 = texture(tex, vec2(readX, readY) / vec2(texSize));\n    if (vectorOffset == 2) {\n      return vec3(tex1.z, tex1.w, tex2.x);\n    } else {\n      return vec3(tex1.w, tex2.x, tex2.y);\n    }\n  }\n}\n\nvec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  return getImage2D(tex, texSize, texDim, z, y, x);\n}\n\nvec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return vec4(texel.r, texel.g, texel.b, texel.a);\n}\n\nvec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\nfloat modulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -mod(number, divisor);\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return mod(number, divisor);\n}\n\n__INJECTED_NATIVE__;\n__MAIN_CONSTANTS__;\n__MAIN_ARGUMENTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}`;\n\nmodule.exports = {\n  fragmentShader\n};\n},{}],73:[function(require,module,exports){\nconst { utils } = require('../../utils');\nconst { WebGLFunctionNode } = require('../web-gl/function-node');\n\nclass WebGL2FunctionNode extends WebGLFunctionNode {\n\n  astIdentifierExpression(idtNode, retArr) {\n    if (idtNode.type !== 'Identifier') {\n      throw this.astErrorOutput(\n        'IdentifierExpression - not an Identifier',\n        idtNode\n      );\n    }\n\n    const type = this.getType(idtNode);\n\n    const name = utils.sanitizeName(idtNode.name);\n    if (idtNode.name === 'Infinity') {\n      retArr.push('intBitsToFloat(2139095039)');\n    } else if (type === 'Boolean') {\n      if (this.argumentNames.indexOf(name) > -1) {\n        retArr.push(`bool(user_${name})`);\n      } else {\n        retArr.push(`user_${name}`);\n      }\n    } else {\n      retArr.push(`user_${name}`);\n    }\n\n    return retArr;\n  }\n}\n\nmodule.exports = {\n  WebGL2FunctionNode\n};\n},{\"../../utils\":114,\"../web-gl/function-node\":38}],74:[function(require,module,exports){\nconst { WebGL2KernelValueBoolean } = require('./kernel-value/boolean');\nconst { WebGL2KernelValueFloat } = require('./kernel-value/float');\nconst { WebGL2KernelValueInteger } = require('./kernel-value/integer');\n\nconst { WebGL2KernelValueHTMLImage } = require('./kernel-value/html-image');\nconst { WebGL2KernelValueDynamicHTMLImage } = require('./kernel-value/dynamic-html-image');\n\nconst { WebGL2KernelValueHTMLImageArray } = require('./kernel-value/html-image-array');\nconst { WebGL2KernelValueDynamicHTMLImageArray } = require('./kernel-value/dynamic-html-image-array');\n\nconst { WebGL2KernelValueHTMLVideo } = require('./kernel-value/html-video');\nconst { WebGL2KernelValueDynamicHTMLVideo } = require('./kernel-value/dynamic-html-video');\n\nconst { WebGL2KernelValueSingleInput } = require('./kernel-value/single-input');\nconst { WebGL2KernelValueDynamicSingleInput } = require('./kernel-value/dynamic-single-input');\n\nconst { WebGL2KernelValueUnsignedInput } = require('./kernel-value/unsigned-input');\nconst { WebGL2KernelValueDynamicUnsignedInput } = require('./kernel-value/dynamic-unsigned-input');\n\nconst { WebGL2KernelValueMemoryOptimizedNumberTexture } = require('./kernel-value/memory-optimized-number-texture');\nconst { WebGL2KernelValueDynamicMemoryOptimizedNumberTexture } = require('./kernel-value/dynamic-memory-optimized-number-texture');\n\nconst { WebGL2KernelValueNumberTexture } = require('./kernel-value/number-texture');\nconst { WebGL2KernelValueDynamicNumberTexture } = require('./kernel-value/dynamic-number-texture');\n\nconst { WebGL2KernelValueSingleArray } = require('./kernel-value/single-array');\nconst { WebGL2KernelValueDynamicSingleArray } = require('./kernel-value/dynamic-single-array');\n\nconst { WebGL2KernelValueSingleArray1DI } = require('./kernel-value/single-array1d-i');\nconst { WebGL2KernelValueDynamicSingleArray1DI } = require('./kernel-value/dynamic-single-array1d-i');\n\nconst { WebGL2KernelValueSingleArray2DI } = require('./kernel-value/single-array2d-i');\nconst { WebGL2KernelValueDynamicSingleArray2DI } = require('./kernel-value/dynamic-single-array2d-i');\n\nconst { WebGL2KernelValueSingleArray3DI } = require('./kernel-value/single-array3d-i');\nconst { WebGL2KernelValueDynamicSingleArray3DI } = require('./kernel-value/dynamic-single-array3d-i');\n\nconst { WebGL2KernelValueArray2 } = require('./kernel-value/array2');\nconst { WebGL2KernelValueArray3 } = require('./kernel-value/array3');\nconst { WebGL2KernelValueArray4 } = require('./kernel-value/array4');\n\nconst { WebGL2KernelValueUnsignedArray } = require('./kernel-value/unsigned-array');\nconst { WebGL2KernelValueDynamicUnsignedArray } = require('./kernel-value/dynamic-unsigned-array');\n\nconst kernelValueMaps = {\n  unsigned: {\n    dynamic: {\n      'Boolean': WebGL2KernelValueBoolean,\n      'Integer': WebGL2KernelValueInteger,\n      'Float': WebGL2KernelValueFloat,\n      'Array': WebGL2KernelValueDynamicUnsignedArray,\n      'Array(2)': WebGL2KernelValueArray2,\n      'Array(3)': WebGL2KernelValueArray3,\n      'Array(4)': WebGL2KernelValueArray4,\n      'Array1D(2)': false,\n      'Array1D(3)': false,\n      'Array1D(4)': false,\n      'Array2D(2)': false,\n      'Array2D(3)': false,\n      'Array2D(4)': false,\n      'Array3D(2)': false,\n      'Array3D(3)': false,\n      'Array3D(4)': false,\n      'Input': WebGL2KernelValueDynamicUnsignedInput,\n      'NumberTexture': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(1)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(2)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(3)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(4)': WebGL2KernelValueDynamicNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGL2KernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGL2KernelValueDynamicHTMLImage,\n      'OffscreenCanvas': WebGL2KernelValueDynamicHTMLImage,\n      'HTMLImage': WebGL2KernelValueDynamicHTMLImage,\n      'ImageBitmap': WebGL2KernelValueDynamicHTMLImage,\n      'ImageData': WebGL2KernelValueDynamicHTMLImage,\n      'HTMLImageArray': WebGL2KernelValueDynamicHTMLImageArray,\n      'HTMLVideo': WebGL2KernelValueDynamicHTMLVideo,\n    },\n    static: {\n      'Boolean': WebGL2KernelValueBoolean,\n      'Float': WebGL2KernelValueFloat,\n      'Integer': WebGL2KernelValueInteger,\n      'Array': WebGL2KernelValueUnsignedArray,\n      'Array(2)': WebGL2KernelValueArray2,\n      'Array(3)': WebGL2KernelValueArray3,\n      'Array(4)': WebGL2KernelValueArray4,\n      'Array1D(2)': false,\n      'Array1D(3)': false,\n      'Array1D(4)': false,\n      'Array2D(2)': false,\n      'Array2D(3)': false,\n      'Array2D(4)': false,\n      'Array3D(2)': false,\n      'Array3D(3)': false,\n      'Array3D(4)': false,\n      'Input': WebGL2KernelValueUnsignedInput,\n      'NumberTexture': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(1)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(2)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(3)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(4)': WebGL2KernelValueNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGL2KernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGL2KernelValueHTMLImage,\n      'OffscreenCanvas': WebGL2KernelValueHTMLImage,\n      'HTMLImage': WebGL2KernelValueHTMLImage,\n      'ImageBitmap': WebGL2KernelValueHTMLImage,\n      'ImageData': WebGL2KernelValueHTMLImage,\n      'HTMLImageArray': WebGL2KernelValueHTMLImageArray,\n      'HTMLVideo': WebGL2KernelValueHTMLVideo,\n    }\n  },\n  single: {\n    dynamic: {\n      'Boolean': WebGL2KernelValueBoolean,\n      'Integer': WebGL2KernelValueInteger,\n      'Float': WebGL2KernelValueFloat,\n      'Array': WebGL2KernelValueDynamicSingleArray,\n      'Array(2)': WebGL2KernelValueArray2,\n      'Array(3)': WebGL2KernelValueArray3,\n      'Array(4)': WebGL2KernelValueArray4,\n      'Array1D(2)': WebGL2KernelValueDynamicSingleArray1DI,\n      'Array1D(3)': WebGL2KernelValueDynamicSingleArray1DI,\n      'Array1D(4)': WebGL2KernelValueDynamicSingleArray1DI,\n      'Array2D(2)': WebGL2KernelValueDynamicSingleArray2DI,\n      'Array2D(3)': WebGL2KernelValueDynamicSingleArray2DI,\n      'Array2D(4)': WebGL2KernelValueDynamicSingleArray2DI,\n      'Array3D(2)': WebGL2KernelValueDynamicSingleArray3DI,\n      'Array3D(3)': WebGL2KernelValueDynamicSingleArray3DI,\n      'Array3D(4)': WebGL2KernelValueDynamicSingleArray3DI,\n      'Input': WebGL2KernelValueDynamicSingleInput,\n      'NumberTexture': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(1)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(2)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(3)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(4)': WebGL2KernelValueDynamicNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGL2KernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGL2KernelValueDynamicHTMLImage,\n      'OffscreenCanvas': WebGL2KernelValueDynamicHTMLImage,\n      'HTMLImage': WebGL2KernelValueDynamicHTMLImage,\n      'ImageBitmap': WebGL2KernelValueDynamicHTMLImage,\n      'ImageData': WebGL2KernelValueDynamicHTMLImage,\n      'HTMLImageArray': WebGL2KernelValueDynamicHTMLImageArray,\n      'HTMLVideo': WebGL2KernelValueDynamicHTMLVideo,\n    },\n    static: {\n      'Boolean': WebGL2KernelValueBoolean,\n      'Float': WebGL2KernelValueFloat,\n      'Integer': WebGL2KernelValueInteger,\n      'Array': WebGL2KernelValueSingleArray,\n      'Array(2)': WebGL2KernelValueArray2,\n      'Array(3)': WebGL2KernelValueArray3,\n      'Array(4)': WebGL2KernelValueArray4,\n      'Array1D(2)': WebGL2KernelValueSingleArray1DI,\n      'Array1D(3)': WebGL2KernelValueSingleArray1DI,\n      'Array1D(4)': WebGL2KernelValueSingleArray1DI,\n      'Array2D(2)': WebGL2KernelValueSingleArray2DI,\n      'Array2D(3)': WebGL2KernelValueSingleArray2DI,\n      'Array2D(4)': WebGL2KernelValueSingleArray2DI,\n      'Array3D(2)': WebGL2KernelValueSingleArray3DI,\n      'Array3D(3)': WebGL2KernelValueSingleArray3DI,\n      'Array3D(4)': WebGL2KernelValueSingleArray3DI,\n      'Input': WebGL2KernelValueSingleInput,\n      'NumberTexture': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(1)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(2)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(3)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(4)': WebGL2KernelValueNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGL2KernelValueMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGL2KernelValueHTMLImage,\n      'OffscreenCanvas': WebGL2KernelValueHTMLImage,\n      'HTMLImage': WebGL2KernelValueHTMLImage,\n      'ImageBitmap': WebGL2KernelValueHTMLImage,\n      'ImageData': WebGL2KernelValueHTMLImage,\n      'HTMLImageArray': WebGL2KernelValueHTMLImageArray,\n      'HTMLVideo': WebGL2KernelValueHTMLVideo,\n    }\n  },\n};\n\nfunction lookupKernelValueType(type, dynamic, precision, value) {\n  if (!type) {\n    throw new Error('type missing');\n  }\n  if (!dynamic) {\n    throw new Error('dynamic missing');\n  }\n  if (!precision) {\n    throw new Error('precision missing');\n  }\n  if (value.type) {\n    type = value.type;\n  }\n  const types = kernelValueMaps[precision][dynamic];\n  if (types[type] === false) {\n    return null;\n  } else if (types[type] === undefined) {\n    throw new Error(`Could not find a KernelValue for ${ type }`);\n  }\n  return types[type];\n}\n\nmodule.exports = {\n  kernelValueMaps,\n  lookupKernelValueType\n};\n},{\"./kernel-value/array2\":75,\"./kernel-value/array3\":76,\"./kernel-value/array4\":77,\"./kernel-value/boolean\":78,\"./kernel-value/dynamic-html-image\":80,\"./kernel-value/dynamic-html-image-array\":79,\"./kernel-value/dynamic-html-video\":81,\"./kernel-value/dynamic-memory-optimized-number-texture\":82,\"./kernel-value/dynamic-number-texture\":83,\"./kernel-value/dynamic-single-array\":84,\"./kernel-value/dynamic-single-array1d-i\":85,\"./kernel-value/dynamic-single-array2d-i\":86,\"./kernel-value/dynamic-single-array3d-i\":87,\"./kernel-value/dynamic-single-input\":88,\"./kernel-value/dynamic-unsigned-array\":89,\"./kernel-value/dynamic-unsigned-input\":90,\"./kernel-value/float\":91,\"./kernel-value/html-image\":93,\"./kernel-value/html-image-array\":92,\"./kernel-value/html-video\":94,\"./kernel-value/integer\":95,\"./kernel-value/memory-optimized-number-texture\":96,\"./kernel-value/number-texture\":97,\"./kernel-value/single-array\":98,\"./kernel-value/single-array1d-i\":99,\"./kernel-value/single-array2d-i\":100,\"./kernel-value/single-array3d-i\":101,\"./kernel-value/single-input\":102,\"./kernel-value/unsigned-array\":103,\"./kernel-value/unsigned-input\":104}],75:[function(require,module,exports){\nconst { WebGLKernelValueArray2 } = require('../../web-gl/kernel-value/array2');\n\nclass WebGL2KernelValueArray2 extends WebGLKernelValueArray2 {}\n\nmodule.exports = {\n  WebGL2KernelValueArray2\n};\n},{\"../../web-gl/kernel-value/array2\":41}],76:[function(require,module,exports){\nconst { WebGLKernelValueArray3 } = require('../../web-gl/kernel-value/array3');\n\nclass WebGL2KernelValueArray3 extends WebGLKernelValueArray3 {}\n\nmodule.exports = {\n  WebGL2KernelValueArray3\n};\n},{\"../../web-gl/kernel-value/array3\":42}],77:[function(require,module,exports){\nconst { WebGLKernelValueArray4 } = require('../../web-gl/kernel-value/array4');\n\nclass WebGL2KernelValueArray4 extends WebGLKernelValueArray4 {}\n\nmodule.exports = {\n  WebGL2KernelValueArray4\n};\n},{\"../../web-gl/kernel-value/array4\":43}],78:[function(require,module,exports){\nconst { WebGLKernelValueBoolean } = require('../../web-gl/kernel-value/boolean');\n\nclass WebGL2KernelValueBoolean extends WebGLKernelValueBoolean {}\n\nmodule.exports = {\n  WebGL2KernelValueBoolean\n};\n},{\"../../web-gl/kernel-value/boolean\":44}],79:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueHTMLImageArray } = require('./html-image-array');\n\nclass WebGL2KernelValueDynamicHTMLImageArray extends WebGL2KernelValueHTMLImageArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2DArray ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(images) {\n    const { width, height } = images[0];\n    this.checkSize(width, height);\n    this.dimensions = [width, height, images.length];\n    this.textureSize = [width, height];\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(images);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicHTMLImageArray\n};\n},{\"../../../utils\":114,\"./html-image-array\":92}],80:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicHTMLImage } = require('../../web-gl/kernel-value/dynamic-html-image');\n\nclass WebGL2KernelValueDynamicHTMLImage extends WebGLKernelValueDynamicHTMLImage {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicHTMLImage\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-html-image\":45}],81:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueDynamicHTMLImage } = require('./dynamic-html-image');\n\nclass WebGL2KernelValueDynamicHTMLVideo extends WebGL2KernelValueDynamicHTMLImage {}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicHTMLVideo\n};\n},{\"../../../utils\":114,\"./dynamic-html-image\":80}],82:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicMemoryOptimizedNumberTexture } = require('../../web-gl/kernel-value/dynamic-memory-optimized-number-texture');\n\nclass WebGL2KernelValueDynamicMemoryOptimizedNumberTexture extends WebGLKernelValueDynamicMemoryOptimizedNumberTexture {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicMemoryOptimizedNumberTexture\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-memory-optimized-number-texture\":47}],83:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicNumberTexture } = require('../../web-gl/kernel-value/dynamic-number-texture');\n\nclass WebGL2KernelValueDynamicNumberTexture extends WebGLKernelValueDynamicNumberTexture {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicNumberTexture\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-number-texture\":48}],84:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleArray } = require('../../web-gl2/kernel-value/single-array');\n\nclass WebGL2KernelValueDynamicSingleArray extends WebGL2KernelValueSingleArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleArray\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-array\":98}],85:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleArray1DI } = require('../../web-gl2/kernel-value/single-array1d-i');\n\nclass WebGL2KernelValueDynamicSingleArray1DI extends WebGL2KernelValueSingleArray1DI {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleArray1DI\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-array1d-i\":99}],86:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleArray2DI } = require('../../web-gl2/kernel-value/single-array2d-i');\n\nclass WebGL2KernelValueDynamicSingleArray2DI extends WebGL2KernelValueSingleArray2DI {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleArray2DI\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-array2d-i\":100}],87:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleArray3DI } = require('../../web-gl2/kernel-value/single-array3d-i');\n\nclass WebGL2KernelValueDynamicSingleArray3DI extends WebGL2KernelValueSingleArray3DI {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleArray3DI\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-array3d-i\":101}],88:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleInput } = require('../../web-gl2/kernel-value/single-input');\n\nclass WebGL2KernelValueDynamicSingleInput extends WebGL2KernelValueSingleInput {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    let [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleInput\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-input\":102}],89:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicUnsignedArray } = require('../../web-gl/kernel-value/dynamic-unsigned-array');\n\nclass WebGL2KernelValueDynamicUnsignedArray extends WebGLKernelValueDynamicUnsignedArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicUnsignedArray\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-unsigned-array\":54}],90:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicUnsignedInput } = require('../../web-gl/kernel-value/dynamic-unsigned-input');\n\nclass WebGL2KernelValueDynamicUnsignedInput extends WebGLKernelValueDynamicUnsignedInput {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicUnsignedInput\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-unsigned-input\":55}],91:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueFloat } = require('../../web-gl/kernel-value/float');\n\nclass WebGL2KernelValueFloat extends WebGLKernelValueFloat {}\n\nmodule.exports = {\n  WebGL2KernelValueFloat\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/float\":56}],92:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('../../web-gl/kernel-value/array');\n\nclass WebGL2KernelValueHTMLImageArray extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.checkSize(value[0].width, value[0].height);\n    this.dimensions = [value[0].width, value[0].height, value.length];\n    this.textureSize = [value[0].width, value[0].height];\n  }\n  defineTexture() {\n    const { context: gl } = this;\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D_ARRAY, this.texture);\n    gl.texParameteri(gl.TEXTURE_2D_ARRAY, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D_ARRAY, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2DArray ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(images) {\n    const { context: gl } = this;\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D_ARRAY, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n    gl.texImage3D(\n      gl.TEXTURE_2D_ARRAY,\n      0,\n      gl.RGBA,\n      images[0].width,\n      images[0].height,\n      images.length,\n      0,\n      gl.RGBA,\n      gl.UNSIGNED_BYTE,\n      null\n    );\n    for (let i = 0; i < images.length; i++) {\n      const xOffset = 0;\n      const yOffset = 0;\n      const imageDepth = 1;\n      gl.texSubImage3D(\n        gl.TEXTURE_2D_ARRAY,\n        0,\n        xOffset,\n        yOffset,\n        i,\n        images[i].width,\n        images[i].height,\n        imageDepth,\n        gl.RGBA,\n        gl.UNSIGNED_BYTE,\n        this.uploadValue = images[i]\n      );\n    }\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueHTMLImageArray\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/array\":40}],93:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueHTMLImage } = require('../../web-gl/kernel-value/html-image');\n\nclass WebGL2KernelValueHTMLImage extends WebGLKernelValueHTMLImage {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueHTMLImage\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/html-image\":57}],94:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueHTMLImage } = require('./html-image');\n\nclass WebGL2KernelValueHTMLVideo extends WebGL2KernelValueHTMLImage {}\n\nmodule.exports = {\n  WebGL2KernelValueHTMLVideo\n};\n},{\"../../../utils\":114,\"./html-image\":93}],95:[function(require,module,exports){\nconst { WebGLKernelValueInteger } = require('../../web-gl/kernel-value/integer');\n\nclass WebGL2KernelValueInteger extends WebGLKernelValueInteger {\n  getSource(value) {\n    const variablePrecision = this.getVariablePrecisionString();\n    if (this.origin === 'constants') {\n      return `const ${ variablePrecision } int ${this.id} = ${ parseInt(value) };\\n`;\n    }\n    return `uniform ${ variablePrecision } int ${this.id};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform1i(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueInteger\n};\n},{\"../../web-gl/kernel-value/integer\":60}],96:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueMemoryOptimizedNumberTexture } = require('../../web-gl/kernel-value/memory-optimized-number-texture');\n\nclass WebGL2KernelValueMemoryOptimizedNumberTexture extends WebGLKernelValueMemoryOptimizedNumberTexture {\n  getSource() {\n    const { id, sizeId, textureSize, dimensionsId, dimensions } = this;\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform sampler2D ${id}`,\n      `${ variablePrecision } ivec2 ${sizeId} = ivec2(${textureSize[0]}, ${textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${dimensionsId} = ivec3(${dimensions[0]}, ${dimensions[1]}, ${dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueMemoryOptimizedNumberTexture\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/memory-optimized-number-texture\":61}],97:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueNumberTexture } = require('../../web-gl/kernel-value/number-texture');\n\nclass WebGL2KernelValueNumberTexture extends WebGLKernelValueNumberTexture {\n  getSource() {\n    const { id, sizeId, textureSize, dimensionsId, dimensions } = this;\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${id}`,\n      `${ variablePrecision } ivec2 ${sizeId} = ivec2(${textureSize[0]}, ${textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${dimensionsId} = ivec3(${dimensions[0]}, ${dimensions[1]}, ${dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueNumberTexture\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/number-texture\":62}],98:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray } = require('../../web-gl/kernel-value/single-array');\n\nclass WebGL2KernelValueSingleArray extends WebGLKernelValueSingleArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-array\":63}],99:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray1DI } = require('../../web-gl/kernel-value/single-array1d-i');\n\nclass WebGL2KernelValueSingleArray1DI extends WebGLKernelValueSingleArray1DI {\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray1DI\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-array1d-i\":64}],100:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray2DI } = require('../../web-gl/kernel-value/single-array2d-i');\n\nclass WebGL2KernelValueSingleArray2DI extends WebGLKernelValueSingleArray2DI {\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray2DI\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-array2d-i\":65}],101:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray3DI } = require('../../web-gl/kernel-value/single-array3d-i');\n\nclass WebGL2KernelValueSingleArray3DI extends WebGLKernelValueSingleArray3DI {\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray3DI\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-array3d-i\":66}],102:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleInput } = require('../../web-gl/kernel-value/single-input');\n\nclass WebGL2KernelValueSingleInput extends WebGLKernelValueSingleInput {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(input) {\n    const { context: gl } = this;\n    utils.flattenTo(input.value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleInput\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-input\":67}],103:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueUnsignedArray } = require('../../web-gl/kernel-value/unsigned-array');\n\nclass WebGL2KernelValueUnsignedArray extends WebGLKernelValueUnsignedArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueUnsignedArray\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/unsigned-array\":68}],104:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueUnsignedInput } = require('../../web-gl/kernel-value/unsigned-input');\n\nclass WebGL2KernelValueUnsignedInput extends WebGLKernelValueUnsignedInput {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueUnsignedInput\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/unsigned-input\":69}],105:[function(require,module,exports){\nconst { WebGLKernel } = require('../web-gl/kernel');\nconst { WebGL2FunctionNode } = require('./function-node');\nconst { FunctionBuilder } = require('../function-builder');\nconst { utils } = require('../../utils');\nconst { fragmentShader } = require('./fragment-shader');\nconst { vertexShader } = require('./vertex-shader');\nconst { lookupKernelValueType } = require('./kernel-value-maps');\n\nlet isSupported = null;\nlet testCanvas = null;\nlet testContext = null;\nlet testExtensions = null;\n\nlet features = null;\n\nclass WebGL2Kernel extends WebGLKernel {\n  static get isSupported() {\n    if (isSupported !== null) {\n      return isSupported;\n    }\n    this.setupFeatureChecks();\n    isSupported = this.isContextMatch(testContext);\n    return isSupported;\n  }\n\n  static setupFeatureChecks() {\n    if (typeof document !== 'undefined') {\n      testCanvas = document.createElement('canvas');\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      testCanvas = new OffscreenCanvas(0, 0);\n    }\n    if (!testCanvas) return;\n    testContext = testCanvas.getContext('webgl2');\n    if (!testContext || !testContext.getExtension) return;\n    testExtensions = {\n      EXT_color_buffer_float: testContext.getExtension('EXT_color_buffer_float'),\n      OES_texture_float_linear: testContext.getExtension('OES_texture_float_linear'),\n    };\n    features = this.getFeatures();\n  }\n\n  static isContextMatch(context) {\n    if (typeof WebGL2RenderingContext !== 'undefined') {\n      return context instanceof WebGL2RenderingContext;\n    }\n    return false;\n  }\n\n  static getFeatures() {\n    const gl = this.testContext;\n    return Object.freeze({\n      isFloatRead: this.getIsFloatRead(),\n      isIntegerDivisionAccurate: this.getIsIntegerDivisionAccurate(),\n      isSpeedTacticSupported: this.getIsSpeedTacticSupported(),\n      kernelMap: true,\n      isTextureFloat: true,\n      isDrawBuffers: true,\n      channelCount: this.getChannelCount(),\n      maxTextureSize: this.getMaxTextureSize(),\n      lowIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_INT),\n      lowFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_FLOAT),\n      mediumIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_INT),\n      mediumFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT),\n      highIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_INT),\n      highFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT),\n    });\n  }\n\n  static getIsTextureFloat() {\n    return true;\n  }\n\n  static getChannelCount() {\n    return testContext.getParameter(testContext.MAX_DRAW_BUFFERS);\n  }\n\n  static getMaxTextureSize() {\n    return testContext.getParameter(testContext.MAX_TEXTURE_SIZE);\n  }\n\n  static lookupKernelValueType(type, dynamic, precision, value) {\n    return lookupKernelValueType(type, dynamic, precision, value);\n  }\n\n  static get testCanvas() {\n    return testCanvas;\n  }\n\n  static get testContext() {\n    return testContext;\n  }\n\n  static get features() {\n    return features;\n  }\n\n  static get fragmentShader() {\n    return fragmentShader;\n  }\n  static get vertexShader() {\n    return vertexShader;\n  }\n\n  initContext() {\n    const settings = {\n      alpha: false,\n      depth: false,\n      antialias: false\n    };\n    return this.canvas.getContext('webgl2', settings);\n  }\n\n  initExtensions() {\n    this.extensions = {\n      EXT_color_buffer_float: this.context.getExtension('EXT_color_buffer_float'),\n      OES_texture_float_linear: this.context.getExtension('OES_texture_float_linear'),\n    };\n  }\n\n  validateSettings(args) {\n    if (!this.validate) {\n      this.texSize = utils.getKernelTextureSize({\n        optimizeFloatMemory: this.optimizeFloatMemory,\n        precision: this.precision,\n      }, this.output);\n      return;\n    }\n\n    const { features } = this.constructor;\n    if (this.precision === 'single' && !features.isFloatRead) {\n      throw new Error('Float texture outputs are not supported');\n    } else if (!this.graphical && this.precision === null) {\n      this.precision = features.isFloatRead ? 'single' : 'unsigned';\n    }\n\n    if (this.fixIntegerDivisionAccuracy === null) {\n      this.fixIntegerDivisionAccuracy = !features.isIntegerDivisionAccurate;\n    } else if (this.fixIntegerDivisionAccuracy && features.isIntegerDivisionAccurate) {\n      this.fixIntegerDivisionAccuracy = false;\n    }\n\n    this.checkOutput();\n\n    if (!this.output || this.output.length === 0) {\n      if (args.length !== 1) {\n        throw new Error('Auto output only supported for kernels with only one input');\n      }\n\n      const argType = utils.getVariableType(args[0], this.strictIntegers);\n      switch (argType) {\n        case 'Array':\n          this.output = utils.getDimensions(argType);\n          break;\n        case 'NumberTexture':\n        case 'MemoryOptimizedNumberTexture':\n        case 'ArrayTexture(1)':\n        case 'ArrayTexture(2)':\n        case 'ArrayTexture(3)':\n        case 'ArrayTexture(4)':\n          this.output = args[0].output;\n          break;\n        default:\n          throw new Error('Auto output not supported for input type: ' + argType);\n      }\n    }\n\n    if (this.graphical) {\n      if (this.output.length !== 2) {\n        throw new Error('Output must have 2 dimensions on graphical mode');\n      }\n\n      if (this.precision === 'single') {\n        console.warn('Cannot use graphical mode and single precision at the same time');\n        this.precision = 'unsigned';\n      }\n\n      this.texSize = utils.clone(this.output);\n      return;\n    } else if (!this.graphical && this.precision === null && features.isTextureFloat) {\n      this.precision = 'single';\n    }\n\n    this.texSize = utils.getKernelTextureSize({\n      optimizeFloatMemory: this.optimizeFloatMemory,\n      precision: this.precision,\n    }, this.output);\n\n    this.checkTextureSize();\n  }\n\n  translateSource() {\n    const functionBuilder = FunctionBuilder.fromKernel(this, WebGL2FunctionNode, {\n      fixIntegerDivisionAccuracy: this.fixIntegerDivisionAccuracy\n    });\n    this.translatedSource = functionBuilder.getPrototypeString('kernel');\n    this.setupReturnTypes(functionBuilder);\n  }\n\n  drawBuffers() {\n    this.context.drawBuffers(this.drawBuffersMap);\n  }\n\n  getTextureFormat() {\n    const { context: gl } = this;\n    switch (this.getInternalFormat()) {\n      case gl.R32F:\n        return gl.RED;\n      case gl.RG32F:\n        return gl.RG;\n      case gl.RGBA32F:\n        return gl.RGBA;\n      case gl.RGBA:\n        return gl.RGBA;\n      default:\n        throw new Error('Unknown internal format');\n    }\n  }\n  getInternalFormat() {\n    const { context: gl } = this;\n\n    if (this.precision === 'single') {\n      if (this.pipeline) {\n        switch (this.returnType) {\n          case 'Number':\n          case 'Float':\n          case 'Integer':\n            if (this.optimizeFloatMemory) {\n              return gl.RGBA32F;\n            } else {\n              return gl.R32F;\n            }\n            case 'Array(2)':\n              return gl.RG32F;\n            case 'Array(3)': \n            case 'Array(4)':\n              return gl.RGBA32F;\n            default:\n              throw new Error('Unhandled return type');\n        }\n      }\n      return gl.RGBA32F;\n    }\n    return gl.RGBA;\n  }\n\n  _setupOutputTexture() {\n    const gl = this.context;\n    if (this.texture) {\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture.texture, 0);\n      return;\n    }\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n    const texture = gl.createTexture();\n    const texSize = this.texSize;\n    gl.activeTexture(gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    const format = this.getInternalFormat();\n    if (this.precision === 'single') {\n      gl.texStorage2D(gl.TEXTURE_2D, 1, format, texSize[0], texSize[1]);\n    } else {\n      gl.texImage2D(gl.TEXTURE_2D, 0, format, texSize[0], texSize[1], 0, format, gl.UNSIGNED_BYTE, null);\n    }\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    this.texture = new this.TextureConstructor({\n      texture,\n      size: texSize,\n      dimensions: this.threadDim,\n      output: this.output,\n      context: this.context,\n      internalFormat: this.getInternalFormat(),\n      textureFormat: this.getTextureFormat(),\n      kernel: this,\n    });\n  }\n\n  _setupSubOutputTextures() {\n    const gl = this.context;\n    if (this.mappedTextures) {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, this.mappedTextures[i].texture, 0);\n      }\n      return;\n    }\n    const texSize = this.texSize;\n    this.drawBuffersMap = [gl.COLOR_ATTACHMENT0];\n    this.mappedTextures = [];\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const texture = this.createTexture();\n      this.drawBuffersMap.push(gl.COLOR_ATTACHMENT0 + i + 1);\n      gl.activeTexture(gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount + i);\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n      const format = this.getInternalFormat();\n      if (this.precision === 'single') {\n        gl.texStorage2D(gl.TEXTURE_2D, 1, format, texSize[0], texSize[1]);\n      } else {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texSize[0], texSize[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n      }\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, texture, 0);\n\n      this.mappedTextures.push(new this.TextureConstructor({\n        texture,\n        size: texSize,\n        dimensions: this.threadDim,\n        output: this.output,\n        context: this.context,\n        internalFormat: this.getInternalFormat(),\n        textureFormat: this.getTextureFormat(),\n        kernel: this,\n      }));\n    }\n  }\n\n  _getHeaderString() {\n    return '';\n  }\n\n  _getTextureCoordinate() {\n    const subKernels = this.subKernels;\n    const variablePrecision = this.getVariablePrecisionString(this.texSize, this.tactic);\n    if (subKernels === null || subKernels.length < 1) {\n      return `in ${ variablePrecision } vec2 vTexCoord;\\n`;\n    } else {\n      return `out ${ variablePrecision } vec2 vTexCoord;\\n`;\n    }\n  }\n\n  _getMainArgumentsString(args) {\n    const result = [];\n    const argumentNames = this.argumentNames;\n    for (let i = 0; i < argumentNames.length; i++) {\n      result.push(this.kernelArguments[i].getSource(args[i]));\n    }\n    return result.join('');\n  }\n\n  getKernelString() {\n    const result = [this.getKernelResultDeclaration()];\n    const subKernels = this.subKernels;\n    if (subKernels !== null) {\n      result.push(\n        'layout(location = 0) out vec4 data0'\n      );\n      switch (this.returnType) {\n        case 'Number':\n        case 'Float':\n        case 'Integer':\n          for (let i = 0; i < subKernels.length; i++) {\n            const subKernel = subKernels[i];\n            result.push(\n              subKernel.returnType === 'Integer' ?\n              `int subKernelResult_${ subKernel.name } = 0` :\n              `float subKernelResult_${ subKernel.name } = 0.0`,\n              `layout(location = ${ i + 1 }) out vec4 data${ i + 1 }`\n            );\n          }\n          break;\n        case 'Array(2)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec2 subKernelResult_${ subKernels[i].name }`,\n              `layout(location = ${ i + 1 }) out vec4 data${ i + 1 }`\n            );\n          }\n          break;\n        case 'Array(3)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec3 subKernelResult_${ subKernels[i].name }`,\n              `layout(location = ${ i + 1 }) out vec4 data${ i + 1 }`\n            );\n          }\n          break;\n        case 'Array(4)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec4 subKernelResult_${ subKernels[i].name }`,\n              `layout(location = ${ i + 1 }) out vec4 data${ i + 1 }`\n            );\n          }\n          break;\n      }\n    } else {\n      result.push(\n        'out vec4 data0'\n      );\n    }\n\n    return utils.linesToString(result) + this.translatedSource;\n  }\n\n  getMainResultGraphical() {\n    return utils.linesToString([\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0 = actualColor',\n    ]);\n  }\n\n  getMainResultPackedPixels() {\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n        return this.getMainResultKernelPackedPixels() +\n          this.getMainResultSubKernelPackedPixels();\n      default:\n        throw new Error(`packed output only usable with Numbers, \"${this.returnType}\" specified`);\n    }\n  }\n\n  getMainResultKernelPackedPixels() {\n    return utils.linesToString([\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      `  data0 = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(kernelResult)`\n    ]);\n  }\n\n  getMainResultSubKernelPackedPixels() {\n    const result = [];\n    if (!this.subKernels) return '';\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  data${i + 1} = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(float(subKernelResult_${this.subKernels[i].name}))`\n        );\n      } else {\n        result.push(\n          `  data${i + 1} = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(subKernelResult_${this.subKernels[i].name})`\n        );\n      }\n    }\n    return utils.linesToString(result);\n  }\n\n  getMainResultKernelMemoryOptimizedFloats(result, channel) {\n    result.push(\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      `  data0.${channel} = kernelResult`\n    );\n  }\n\n  getMainResultSubKernelMemoryOptimizedFloats(result, channel) {\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  data${i + 1}.${channel} = float(subKernelResult_${subKernel.name})`\n        );\n      } else {\n        result.push(\n          `  data${i + 1}.${channel} = subKernelResult_${subKernel.name}`\n        );\n      }\n    }\n  }\n\n  getMainResultKernelNumberTexture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0[0] = kernelResult',\n    ];\n  }\n\n  getMainResultSubKernelNumberTexture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  data${i + 1}[0] = float(subKernelResult_${subKernel.name})`\n        );\n      } else {\n        result.push(\n          `  data${i + 1}[0] = subKernelResult_${subKernel.name}`\n        );\n      }\n    }\n    return result;\n  }\n\n  getMainResultKernelArray2Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0[0] = kernelResult[0]',\n      '  data0[1] = kernelResult[1]',\n    ];\n  }\n\n  getMainResultSubKernelArray2Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      const subKernel = this.subKernels[i];\n      result.push(\n        `  data${i + 1}[0] = subKernelResult_${subKernel.name}[0]`,\n        `  data${i + 1}[1] = subKernelResult_${subKernel.name}[1]`\n      );\n    }\n    return result;\n  }\n\n  getMainResultKernelArray3Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0[0] = kernelResult[0]',\n      '  data0[1] = kernelResult[1]',\n      '  data0[2] = kernelResult[2]',\n    ];\n  }\n\n  getMainResultSubKernelArray3Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      const subKernel = this.subKernels[i];\n      result.push(\n        `  data${i + 1}[0] = subKernelResult_${subKernel.name}[0]`,\n        `  data${i + 1}[1] = subKernelResult_${subKernel.name}[1]`,\n        `  data${i + 1}[2] = subKernelResult_${subKernel.name}[2]`\n      );\n    }\n    return result;\n  }\n\n  getMainResultKernelArray4Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0 = kernelResult',\n    ];\n  }\n\n  getMainResultSubKernelArray4Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      result.push(\n        `  data${i + 1} = subKernelResult_${this.subKernels[i].name}`\n      );\n    }\n    return result;\n  }\n\n  destroyExtensions() {\n    this.extensions.EXT_color_buffer_float = null;\n    this.extensions.OES_texture_float_linear = null;\n  }\n\n  toJSON() {\n    const json = super.toJSON();\n    json.functionNodes = FunctionBuilder.fromKernel(this, WebGL2FunctionNode).toJSON();\n    json.settings.threadDim = this.threadDim;\n    return json;\n  }\n}\n\nmodule.exports = {\n  WebGL2Kernel\n};\n},{\"../../utils\":114,\"../function-builder\":9,\"../web-gl/kernel\":70,\"./fragment-shader\":72,\"./function-node\":73,\"./kernel-value-maps\":74,\"./vertex-shader\":106}],106:[function(require,module,exports){\nconst vertexShader = `#version 300 es\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nin vec2 aPos;\nin vec2 aTexCoord;\n\nout vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}`;\n\nmodule.exports = {\n  vertexShader\n};\n},{}],107:[function(require,module,exports){\nconst lib = require('./index');\nconst GPU = lib.GPU;\nfor (const p in lib) {\n  if (!lib.hasOwnProperty(p)) continue;\n  if (p === 'GPU') continue; \n  GPU[p] = lib[p];\n}\n\nif (typeof window !== 'undefined') {\n  bindTo(window);\n}\nif (typeof self !== 'undefined') {\n  bindTo(self);\n}\n\nfunction bindTo(target) {\n  if (target.GPU) return;\n  Object.defineProperty(target, 'GPU', {\n    get() {\n      return GPU;\n    }\n  });\n}\n\nmodule.exports = lib;\n},{\"./index\":109}],108:[function(require,module,exports){\nconst { gpuMock } = require('gpu-mock.js');\nconst { utils } = require('./utils');\nconst { Kernel } = require('./backend/kernel');\nconst { CPUKernel } = require('./backend/cpu/kernel');\nconst { HeadlessGLKernel } = require('./backend/headless-gl/kernel');\nconst { WebGL2Kernel } = require('./backend/web-gl2/kernel');\nconst { WebGLKernel } = require('./backend/web-gl/kernel');\nconst { kernelRunShortcut } = require('./kernel-run-shortcut');\n\n\nconst kernelOrder = [HeadlessGLKernel, WebGL2Kernel, WebGLKernel];\n\nconst kernelTypes = ['gpu', 'cpu'];\n\nconst internalKernels = {\n  'headlessgl': HeadlessGLKernel,\n  'webgl2': WebGL2Kernel,\n  'webgl': WebGLKernel,\n};\n\nlet validate = true;\n\nclass GPU {\n  static disableValidation() {\n    validate = false;\n  }\n\n  static enableValidation() {\n    validate = true;\n  }\n\n  static get isGPUSupported() {\n    return kernelOrder.some(Kernel => Kernel.isSupported);\n  }\n\n  static get isKernelMapSupported() {\n    return kernelOrder.some(Kernel => Kernel.isSupported && Kernel.features.kernelMap);\n  }\n\n  static get isOffscreenCanvasSupported() {\n    return (typeof Worker !== 'undefined' && typeof OffscreenCanvas !== 'undefined') || typeof importScripts !== 'undefined';\n  }\n\n  static get isWebGLSupported() {\n    return WebGLKernel.isSupported;\n  }\n\n  static get isWebGL2Supported() {\n    return WebGL2Kernel.isSupported;\n  }\n\n  static get isHeadlessGLSupported() {\n    return HeadlessGLKernel.isSupported;\n  }\n\n  static get isCanvasSupported() {\n    return typeof HTMLCanvasElement !== 'undefined';\n  }\n\n  static get isGPUHTMLImageArraySupported() {\n    return WebGL2Kernel.isSupported;\n  }\n\n  static get isSinglePrecisionSupported() {\n    return kernelOrder.some(Kernel => Kernel.isSupported && Kernel.features.isFloatRead && Kernel.features.isTextureFloat);\n  }\n\n  constructor(settings) {\n    settings = settings || {};\n    this.canvas = settings.canvas || null;\n    this.context = settings.context || null;\n    this.mode = settings.mode;\n    this.Kernel = null;\n    this.kernels = [];\n    this.functions = [];\n    this.nativeFunctions = [];\n    this.injectedNative = null;\n    if (this.mode === 'dev') return;\n    this.chooseKernel();\n    if (settings.functions) {\n      for (let i = 0; i < settings.functions.length; i++) {\n        this.addFunction(settings.functions[i]);\n      }\n    }\n\n    if (settings.nativeFunctions) {\n      for (const p in settings.nativeFunctions) {\n        if (!settings.nativeFunctions.hasOwnProperty(p)) continue;\n        const s = settings.nativeFunctions[p];\n        const { name, source } = s;\n        this.addNativeFunction(name, source, s);\n      }\n    }\n  }\n\n  chooseKernel() {\n    if (this.Kernel) return;\n\n    let Kernel = null;\n\n    if (this.context) {\n      for (let i = 0; i < kernelOrder.length; i++) {\n        const ExternalKernel = kernelOrder[i];\n        if (ExternalKernel.isContextMatch(this.context)) {\n          if (!ExternalKernel.isSupported) {\n            throw new Error(`Kernel type ${ExternalKernel.name} not supported`);\n          }\n          Kernel = ExternalKernel;\n          break;\n        }\n      }\n      if (Kernel === null) {\n        throw new Error('unknown Context');\n      }\n    } else if (this.mode) {\n      if (this.mode in internalKernels) {\n        if (!validate || internalKernels[this.mode].isSupported) {\n          Kernel = internalKernels[this.mode];\n        }\n      } else if (this.mode === 'gpu') {\n        for (let i = 0; i < kernelOrder.length; i++) {\n          if (kernelOrder[i].isSupported) {\n            Kernel = kernelOrder[i];\n            break;\n          }\n        }\n      } else if (this.mode === 'cpu') {\n        Kernel = CPUKernel;\n      }\n      if (!Kernel) {\n        throw new Error(`A requested mode of \"${this.mode}\" and is not supported`);\n      }\n    } else {\n      for (let i = 0; i < kernelOrder.length; i++) {\n        if (kernelOrder[i].isSupported) {\n          Kernel = kernelOrder[i];\n          break;\n        }\n      }\n      if (!Kernel) {\n        Kernel = CPUKernel;\n      }\n    }\n\n    if (!this.mode) {\n      this.mode = Kernel.mode;\n    }\n    this.Kernel = Kernel;\n  }\n\n  createKernel(source, settings) {\n    if (typeof source === 'undefined') {\n      throw new Error('Missing source parameter');\n    }\n    if (typeof source !== 'object' && !utils.isFunction(source) && typeof source !== 'string') {\n      throw new Error('source parameter not a function');\n    }\n\n    const kernels = this.kernels;\n    if (this.mode === 'dev') {\n      const devKernel = gpuMock(source, upgradeDeprecatedCreateKernelSettings(settings));\n      kernels.push(devKernel);\n      return devKernel;\n    }\n\n    source = typeof source === 'function' ? source.toString() : source;\n    const switchableKernels = {};\n    const settingsCopy = upgradeDeprecatedCreateKernelSettings(settings) || {};\n    if (settings && typeof settings.argumentTypes === 'object') {\n      settingsCopy.argumentTypes = Object.keys(settings.argumentTypes).map(argumentName => settings.argumentTypes[argumentName]);\n    }\n\n    function onRequestFallback(args) {\n      console.warn('Falling back to CPU');\n      const fallbackKernel = new CPUKernel(source, {\n        argumentTypes: kernelRun.argumentTypes,\n        constantTypes: kernelRun.constantTypes,\n        graphical: kernelRun.graphical,\n        loopMaxIterations: kernelRun.loopMaxIterations,\n        constants: kernelRun.constants,\n        dynamicOutput: kernelRun.dynamicOutput,\n        dynamicArgument: kernelRun.dynamicArguments,\n        output: kernelRun.output,\n        precision: kernelRun.precision,\n        pipeline: kernelRun.pipeline,\n        immutable: kernelRun.immutable,\n        optimizeFloatMemory: kernelRun.optimizeFloatMemory,\n        fixIntegerDivisionAccuracy: kernelRun.fixIntegerDivisionAccuracy,\n        functions: kernelRun.functions,\n        nativeFunctions: kernelRun.nativeFunctions,\n        injectedNative: kernelRun.injectedNative,\n        subKernels: kernelRun.subKernels,\n        strictIntegers: kernelRun.strictIntegers,\n        debug: kernelRun.debug,\n      });\n      fallbackKernel.build.apply(fallbackKernel, args);\n      const result = fallbackKernel.run.apply(fallbackKernel, args);\n      kernelRun.replaceKernel(fallbackKernel);\n      return result;\n    }\n\n    function onRequestSwitchKernel(reasons, args, _kernel) {\n      if (_kernel.debug) {\n        console.warn('Switching kernels');\n      }\n      let newOutput = null;\n      if (_kernel.signature && !switchableKernels[_kernel.signature]) {\n        switchableKernels[_kernel.signature] = _kernel;\n      }\n      if (_kernel.dynamicOutput) {\n        for (let i = reasons.length - 1; i >= 0; i--) {\n          const reason = reasons[i];\n          if (reason.type === 'outputPrecisionMismatch') {\n            newOutput = reason.needed;\n          }\n        }\n      }\n\n      const Constructor = _kernel.constructor;\n      const argumentTypes = Constructor.getArgumentTypes(_kernel, args);\n      const signature = Constructor.getSignature(_kernel, argumentTypes);\n      const existingKernel = switchableKernels[signature];\n      if (existingKernel) {\n        existingKernel.onActivate(_kernel);\n        return existingKernel;\n      }\n\n      const newKernel = switchableKernels[signature] = new Constructor(source, {\n        argumentTypes,\n        constantTypes: _kernel.constantTypes,\n        graphical: _kernel.graphical,\n        loopMaxIterations: _kernel.loopMaxIterations,\n        constants: _kernel.constants,\n        dynamicOutput: _kernel.dynamicOutput,\n        dynamicArgument: _kernel.dynamicArguments,\n        context: _kernel.context,\n        canvas: _kernel.canvas,\n        output: newOutput || _kernel.output,\n        precision: _kernel.precision,\n        pipeline: _kernel.pipeline,\n        immutable: _kernel.immutable,\n        optimizeFloatMemory: _kernel.optimizeFloatMemory,\n        fixIntegerDivisionAccuracy: _kernel.fixIntegerDivisionAccuracy,\n        functions: _kernel.functions,\n        nativeFunctions: _kernel.nativeFunctions,\n        injectedNative: _kernel.injectedNative,\n        subKernels: _kernel.subKernels,\n        strictIntegers: _kernel.strictIntegers,\n        debug: _kernel.debug,\n        gpu: _kernel.gpu,\n        validate,\n        returnType: _kernel.returnType,\n        tactic: _kernel.tactic,\n        onRequestFallback,\n        onRequestSwitchKernel,\n        texture: _kernel.texture,\n        mappedTextures: _kernel.mappedTextures,\n        drawBuffersMap: _kernel.drawBuffersMap,\n      });\n      newKernel.build.apply(newKernel, args);\n      kernelRun.replaceKernel(newKernel);\n      kernels.push(newKernel);\n      return newKernel;\n    }\n    const mergedSettings = Object.assign({\n      context: this.context,\n      canvas: this.canvas,\n      functions: this.functions,\n      nativeFunctions: this.nativeFunctions,\n      injectedNative: this.injectedNative,\n      gpu: this,\n      validate,\n      onRequestFallback,\n      onRequestSwitchKernel\n    }, settingsCopy);\n\n    const kernel = new this.Kernel(source, mergedSettings);\n    const kernelRun = kernelRunShortcut(kernel);\n\n    if (!this.canvas) {\n      this.canvas = kernel.canvas;\n    }\n\n    if (!this.context) {\n      this.context = kernel.context;\n    }\n\n    kernels.push(kernel);\n\n    return kernelRun;\n  }\n\n  createKernelMap() {\n    let fn;\n    let settings;\n    const argument2Type = typeof arguments[arguments.length - 2];\n    if (argument2Type === 'function' || argument2Type === 'string') {\n      fn = arguments[arguments.length - 2];\n      settings = arguments[arguments.length - 1];\n    } else {\n      fn = arguments[arguments.length - 1];\n    }\n\n    if (this.mode !== 'dev') {\n      if (!this.Kernel.isSupported || !this.Kernel.features.kernelMap) {\n        if (this.mode && kernelTypes.indexOf(this.mode) < 0) {\n          throw new Error(`kernelMap not supported on ${this.Kernel.name}`);\n        }\n      }\n    }\n\n    const settingsCopy = upgradeDeprecatedCreateKernelSettings(settings);\n    if (settings && typeof settings.argumentTypes === 'object') {\n      settingsCopy.argumentTypes = Object.keys(settings.argumentTypes).map(argumentName => settings.argumentTypes[argumentName]);\n    }\n\n    if (Array.isArray(arguments[0])) {\n      settingsCopy.subKernels = [];\n      const functions = arguments[0];\n      for (let i = 0; i < functions.length; i++) {\n        const source = functions[i].toString();\n        const name = utils.getFunctionNameFromString(source);\n        settingsCopy.subKernels.push({\n          name,\n          source,\n          property: i,\n        });\n      }\n    } else {\n      settingsCopy.subKernels = [];\n      const functions = arguments[0];\n      for (let p in functions) {\n        if (!functions.hasOwnProperty(p)) continue;\n        const source = functions[p].toString();\n        const name = utils.getFunctionNameFromString(source);\n        settingsCopy.subKernels.push({\n          name: name || p,\n          source,\n          property: p,\n        });\n      }\n    }\n    return this.createKernel(fn, settingsCopy);\n  }\n\n  combineKernels() {\n    const firstKernel = arguments[0];\n    const combinedKernel = arguments[arguments.length - 1];\n    if (firstKernel.kernel.constructor.mode === 'cpu') return combinedKernel;\n    const canvas = arguments[0].canvas;\n    const context = arguments[0].context;\n    const max = arguments.length - 1;\n    for (let i = 0; i < max; i++) {\n      arguments[i]\n        .setCanvas(canvas)\n        .setContext(context)\n        .setPipeline(true);\n    }\n\n    return function() {\n      const texture = combinedKernel.apply(this, arguments);\n      if (texture.toArray) {\n        return texture.toArray();\n      }\n      return texture;\n    };\n  }\n\n  setFunctions(functions) {\n    this.functions = functions;\n    return this;\n  }\n\n  setNativeFunctions(nativeFunctions) {\n    this.nativeFunctions = nativeFunctions;\n    return this;\n  }\n\n  addFunction(source, settings) {\n    this.functions.push({ source, settings });\n    return this;\n  }\n\n  addNativeFunction(name, source, settings) {\n    if (this.kernels.length > 0) {\n      throw new Error('Cannot call \"addNativeFunction\" after \"createKernels\" has been called.');\n    }\n    this.nativeFunctions.push(Object.assign({ name, source }, settings));\n    return this;\n  }\n\n  injectNative(source) {\n    this.injectedNative = source;\n    return this;\n  }\n\n  destroy() {\n    return new Promise((resolve, reject) => {\n      if (!this.kernels) {\n        resolve();\n      }\n      setTimeout(() => {\n        try {\n          for (let i = 0; i < this.kernels.length; i++) {\n            this.kernels[i].destroy(true); \n          }\n          let firstKernel = this.kernels[0];\n          if (firstKernel) {\n            if (firstKernel.kernel) {\n              firstKernel = firstKernel.kernel;\n            }\n            if (firstKernel.constructor.destroyContext) {\n              firstKernel.constructor.destroyContext(this.context);\n            }\n          }\n        } catch (e) {\n          reject(e);\n        }\n        resolve();\n      }, 0);\n    });\n  }\n}\n\n\nfunction upgradeDeprecatedCreateKernelSettings(settings) {\n  if (!settings) {\n    return {};\n  }\n  const upgradedSettings = Object.assign({}, settings);\n\n  if (settings.hasOwnProperty('floatOutput')) {\n    utils.warnDeprecated('setting', 'floatOutput', 'precision');\n    upgradedSettings.precision = settings.floatOutput ? 'single' : 'unsigned';\n  }\n  if (settings.hasOwnProperty('outputToTexture')) {\n    utils.warnDeprecated('setting', 'outputToTexture', 'pipeline');\n    upgradedSettings.pipeline = Boolean(settings.outputToTexture);\n  }\n  if (settings.hasOwnProperty('outputImmutable')) {\n    utils.warnDeprecated('setting', 'outputImmutable', 'immutable');\n    upgradedSettings.immutable = Boolean(settings.outputImmutable);\n  }\n  if (settings.hasOwnProperty('floatTextures')) {\n    utils.warnDeprecated('setting', 'floatTextures', 'optimizeFloatMemory');\n    upgradedSettings.optimizeFloatMemory = Boolean(settings.floatTextures);\n  }\n  return upgradedSettings;\n}\n\nmodule.exports = {\n  GPU,\n  kernelOrder,\n  kernelTypes\n};\n},{\"./backend/cpu/kernel\":8,\"./backend/headless-gl/kernel\":34,\"./backend/kernel\":36,\"./backend/web-gl/kernel\":70,\"./backend/web-gl2/kernel\":105,\"./kernel-run-shortcut\":111,\"./utils\":114,\"gpu-mock.js\":4}],109:[function(require,module,exports){\nconst { GPU } = require('./gpu');\nconst { alias } = require('./alias');\nconst { utils } = require('./utils');\nconst { Input, input } = require('./input');\nconst { Texture } = require('./texture');\nconst { FunctionBuilder } = require('./backend/function-builder');\nconst { FunctionNode } = require('./backend/function-node');\nconst { CPUFunctionNode } = require('./backend/cpu/function-node');\nconst { CPUKernel } = require('./backend/cpu/kernel');\n\nconst { HeadlessGLKernel } = require('./backend/headless-gl/kernel');\n\nconst { WebGLFunctionNode } = require('./backend/web-gl/function-node');\nconst { WebGLKernel } = require('./backend/web-gl/kernel');\nconst { kernelValueMaps: webGLKernelValueMaps } = require('./backend/web-gl/kernel-value-maps');\n\nconst { WebGL2FunctionNode } = require('./backend/web-gl2/function-node');\nconst { WebGL2Kernel } = require('./backend/web-gl2/kernel');\nconst { kernelValueMaps: webGL2KernelValueMaps } = require('./backend/web-gl2/kernel-value-maps');\n\nconst { GLKernel } = require('./backend/gl/kernel');\n\nconst { Kernel } = require('./backend/kernel');\n\nconst { FunctionTracer } = require('./backend/function-tracer');\n\nconst mathRandom = require('./plugins/math-random-uniformly-distributed');\n\nmodule.exports = {\n  alias,\n  CPUFunctionNode,\n  CPUKernel,\n  GPU,\n  FunctionBuilder,\n  FunctionNode,\n  HeadlessGLKernel,\n  Input,\n  input,\n  Texture,\n  utils,\n\n  WebGL2FunctionNode,\n  WebGL2Kernel,\n  webGL2KernelValueMaps,\n\n  WebGLFunctionNode,\n  WebGLKernel,\n  webGLKernelValueMaps,\n\n  GLKernel,\n  Kernel,\n  FunctionTracer,\n\n  plugins: {\n    mathRandom\n  }\n};\n},{\"./alias\":5,\"./backend/cpu/function-node\":6,\"./backend/cpu/kernel\":8,\"./backend/function-builder\":9,\"./backend/function-node\":10,\"./backend/function-tracer\":11,\"./backend/gl/kernel\":13,\"./backend/headless-gl/kernel\":34,\"./backend/kernel\":36,\"./backend/web-gl/function-node\":38,\"./backend/web-gl/kernel\":70,\"./backend/web-gl/kernel-value-maps\":39,\"./backend/web-gl2/function-node\":73,\"./backend/web-gl2/kernel\":105,\"./backend/web-gl2/kernel-value-maps\":74,\"./gpu\":108,\"./input\":110,\"./plugins/math-random-uniformly-distributed\":112,\"./texture\":113,\"./utils\":114}],110:[function(require,module,exports){\nclass Input {\n  constructor(value, size) {\n    this.value = value;\n    if (Array.isArray(size)) {\n      this.size = size;\n    } else {\n      this.size = new Int32Array(3);\n      if (size.z) {\n        this.size = new Int32Array([size.x, size.y, size.z]);\n      } else if (size.y) {\n        this.size = new Int32Array([size.x, size.y]);\n      } else {\n        this.size = new Int32Array([size.x]);\n      }\n    }\n\n    const [w, h, d] = this.size;\n    if (d) {\n      if (this.value.length !== (w * h * d)) {\n        throw new Error(`Input size ${this.value.length} does not match ${w} * ${h} * ${d} = ${(h * w * d)}`);\n      }\n    } else if (h) {\n      if (this.value.length !== (w * h)) {\n        throw new Error(`Input size ${this.value.length} does not match ${w} * ${h} = ${(h * w)}`);\n      }\n    } else {\n      if (this.value.length !== w) {\n        throw new Error(`Input size ${this.value.length} does not match ${w}`);\n      }\n    }\n\n  }\n\n  toArray() {\n    const { utils } = require('./utils');\n    const [w, h, d] = this.size;\n    if (d) {\n      return utils.erectMemoryOptimized3DFloat(this.value.subarray ? this.value : new Float32Array(this.value), w, h, d);\n    } else if (h) {\n      return utils.erectMemoryOptimized2DFloat(this.value.subarray ? this.value : new Float32Array(this.value), w, h);\n    } else {\n      return this.value;\n    }\n  }\n}\n\nfunction input(value, size) {\n  return new Input(value, size);\n}\n\nmodule.exports = {\n  Input,\n  input\n};\n},{\"./utils\":114}],111:[function(require,module,exports){\nconst { utils } = require('./utils');\n\nfunction kernelRunShortcut(kernel) {\n  let run = function() {\n    kernel.build.apply(kernel, arguments);\n    run = function() {\n      let result = kernel.run.apply(kernel, arguments);\n      if (kernel.switchingKernels) {\n        const reasons = kernel.resetSwitchingKernels();\n        const newKernel = kernel.onRequestSwitchKernel(reasons, arguments, kernel);\n        shortcut.kernel = kernel = newKernel;\n        result = newKernel.run.apply(newKernel, arguments);\n      }\n      if (kernel.renderKernels) {\n        return kernel.renderKernels();\n      } else if (kernel.renderOutput) {\n        return kernel.renderOutput();\n      } else {\n        return result;\n      }\n    };\n    return run.apply(kernel, arguments);\n  };\n  const shortcut = function() {\n    return run.apply(kernel, arguments);\n  };\n  shortcut.exec = function() {\n    return new Promise((accept, reject) => {\n      try {\n        accept(run.apply(this, arguments));\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n  shortcut.replaceKernel = function(replacementKernel) {\n    kernel = replacementKernel;\n    bindKernelToShortcut(kernel, shortcut);\n  };\n\n  bindKernelToShortcut(kernel, shortcut);\n  return shortcut;\n}\n\nfunction bindKernelToShortcut(kernel, shortcut) {\n  if (shortcut.kernel) {\n    shortcut.kernel = kernel;\n    return;\n  }\n  const properties = utils.allPropertiesOf(kernel);\n  for (let i = 0; i < properties.length; i++) {\n    const property = properties[i];\n    if (property[0] === '_' && property[1] === '_') continue;\n    if (typeof kernel[property] === 'function') {\n      if (property.substring(0, 3) === 'add' || property.substring(0, 3) === 'set') {\n        shortcut[property] = function() {\n          shortcut.kernel[property].apply(shortcut.kernel, arguments);\n          return shortcut;\n        };\n      } else {\n        shortcut[property] = function() {\n          return shortcut.kernel[property].apply(shortcut.kernel, arguments);\n        };\n      }\n    } else {\n      shortcut.__defineGetter__(property, () => shortcut.kernel[property]);\n      shortcut.__defineSetter__(property, (value) => {\n        shortcut.kernel[property] = value;\n      });\n    }\n  }\n  shortcut.kernel = kernel;\n}\nmodule.exports = {\n  kernelRunShortcut\n};\n},{\"./utils\":114}],112:[function(require,module,exports){\nconst source = `// https://www.shadertoy.com/view/4t2SDh\n//note: uniformly distributed, normalized rand, [0,1]\nhighp float randomSeedShift = 1.0;\nhighp float slide = 1.0;\nuniform highp float randomSeed1;\nuniform highp float randomSeed2;\n\nhighp float nrand(highp vec2 n) {\n  highp float result = fract(sin(dot((n.xy + 1.0) * vec2(randomSeed1 * slide, randomSeed2 * randomSeedShift), vec2(12.9898, 78.233))) * 43758.5453);\n  randomSeedShift = result;\n  if (randomSeedShift > 0.5) {\n    slide += 0.00009; \n  } else {\n    slide += 0.0009;\n  }\n  return result;\n}`;\n\nconst name = 'math-random-uniformly-distributed';\n\nconst functionMatch = `Math.random()`;\n\nconst functionReplace = `nrand(vTexCoord)`;\n\nconst functionReturnType = 'Number';\nconst onBeforeRun = (kernel) => {\n  kernel.setUniform1f('randomSeed1', Math.random());\n  kernel.setUniform1f('randomSeed2', Math.random());\n};\n\nconst plugin = {\n  name,\n  onBeforeRun,\n  functionMatch,\n  functionReplace,\n  functionReturnType,\n  source\n};\n\nmodule.exports = plugin;\n},{}],113:[function(require,module,exports){\nclass Texture {\n  constructor(settings) {\n    const {\n      texture,\n      size,\n      dimensions,\n      output,\n      context,\n      type = 'NumberTexture',\n      kernel,\n      internalFormat,\n      textureFormat\n    } = settings;\n    if (!output) throw new Error('settings property \"output\" required.');\n    if (!context) throw new Error('settings property \"context\" required.');\n    if (!texture) throw new Error('settings property \"texture\" required.');\n    if (!kernel) throw new Error('settings property \"kernel\" required.');\n    this.texture = texture;\n    if (texture._refs) {\n      texture._refs++;\n    } else {\n      texture._refs = 1;\n    }\n    this.size = size;\n    this.dimensions = dimensions;\n    this.output = output;\n    this.context = context;\n    this.kernel = kernel;\n    this.type = type;\n    this._deleted = false;\n    this.internalFormat = internalFormat;\n    this.textureFormat = textureFormat;\n  }\n\n  toArray() {\n    throw new Error(`Not implemented on ${this.constructor.name}`);\n  }\n\n  clone() {\n    throw new Error(`Not implemented on ${this.constructor.name}`);\n  }\n\n  delete() {\n    throw new Error(`Not implemented on ${this.constructor.name}`);\n  }\n\n  clear() {\n    throw new Error(`Not implemented on ${this.constructor.name}`);\n  }\n}\n\nmodule.exports = {\n  Texture\n};\n},{}],114:[function(require,module,exports){\nconst acorn = require('acorn');\nconst { Input } = require('./input');\nconst { Texture } = require('./texture');\n\nconst FUNCTION_NAME = /function ([^(]*)/;\nconst STRIP_COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\nconst ARGUMENT_NAMES = /([^\\s,]+)/g;\n\nconst utils = {\n  systemEndianness() {\n    return _systemEndianness;\n  },\n  getSystemEndianness() {\n    const b = new ArrayBuffer(4);\n    const a = new Uint32Array(b);\n    const c = new Uint8Array(b);\n    a[0] = 0xdeadbeef;\n    if (c[0] === 0xef) return 'LE';\n    if (c[0] === 0xde) return 'BE';\n    throw new Error('unknown endianness');\n  },\n\n  isFunction(funcObj) {\n    return typeof(funcObj) === 'function';\n  },\n\n  isFunctionString(fn) {\n    if (typeof fn === 'string') {\n      return (fn\n        .slice(0, 'function'.length)\n        .toLowerCase() === 'function');\n    }\n    return false;\n  },\n\n  getFunctionNameFromString(funcStr) {\n    const result = FUNCTION_NAME.exec(funcStr);\n    if (!result || result.length === 0) return null;\n    return result[1].trim();\n  },\n\n  getFunctionBodyFromString(funcStr) {\n    return funcStr.substring(funcStr.indexOf('{') + 1, funcStr.lastIndexOf('}'));\n  },\n\n  getArgumentNamesFromString(fn) {\n    const fnStr = fn.replace(STRIP_COMMENTS, '');\n    let result = fnStr.slice(fnStr.indexOf('(') + 1, fnStr.indexOf(')')).match(ARGUMENT_NAMES);\n    if (result === null) {\n      result = [];\n    }\n    return result;\n  },\n\n  clone(obj) {\n    if (obj === null || typeof obj !== 'object' || obj.hasOwnProperty('isActiveClone')) return obj;\n\n    const temp = obj.constructor(); \n\n    for (let key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        obj.isActiveClone = null;\n        temp[key] = utils.clone(obj[key]);\n        delete obj.isActiveClone;\n      }\n    }\n\n    return temp;\n  },\n\n  isArray(array) {\n    return !isNaN(array.length);\n  },\n\n  getVariableType(value, strictIntegers) {\n    if (utils.isArray(value)) {\n      if (value.length > 0 && value[0].nodeName === 'IMG') {\n        return 'HTMLImageArray';\n      }\n      return 'Array';\n    }\n\n    switch (value.constructor) {\n      case Boolean:\n        return 'Boolean';\n      case Number:\n        if (strictIntegers && Number.isInteger(value)) {\n          return 'Integer';\n        }\n        return 'Float';\n      case Texture:\n        return value.type;\n      case Input:\n        return 'Input';\n    }\n    if ('nodeName' in value) {\n      switch (value.nodeName) {\n        case 'IMG':\n          return 'HTMLImage';\n        case 'CANVAS':\n          return 'HTMLImage';\n        case 'VIDEO':\n          return 'HTMLVideo';\n      }\n    } else if (value.hasOwnProperty('type')) {\n      return value.type;\n    } else if (typeof OffscreenCanvas !== 'undefined' && value instanceof OffscreenCanvas) {\n      return 'OffscreenCanvas';\n    } else if (typeof ImageBitmap !== 'undefined' && value instanceof ImageBitmap) {\n      return 'ImageBitmap';\n    } else if (typeof ImageData !== 'undefined' && value instanceof ImageData) {\n      return 'ImageData';\n    }\n    return 'Unknown';\n  },\n\n  getKernelTextureSize(settings, dimensions) {\n    let [w, h, d] = dimensions;\n    let texelCount = (w || 1) * (h || 1) * (d || 1);\n\n    if (settings.optimizeFloatMemory && settings.precision === 'single') {\n      w = texelCount = Math.ceil(texelCount / 4);\n    }\n    if (h > 1 && w * h === texelCount) {\n      return new Int32Array([w, h]);\n    }\n    return utils.closestSquareDimensions(texelCount);\n  },\n\n  closestSquareDimensions(length) {\n    const sqrt = Math.sqrt(length);\n    let high = Math.ceil(sqrt);\n    let low = Math.floor(sqrt);\n    while (high * low < length) {\n      high--;\n      low = Math.ceil(length / high);\n    }\n    return new Int32Array([low, Math.ceil(length / low)]);\n  },\n\n  getMemoryOptimizedFloatTextureSize(dimensions, bitRatio) {\n    const totalArea = utils.roundTo((dimensions[0] || 1) * (dimensions[1] || 1) * (dimensions[2] || 1) * (dimensions[3] || 1), 4);\n    const texelCount = totalArea / bitRatio;\n    return utils.closestSquareDimensions(texelCount);\n  },\n\n  getMemoryOptimizedPackedTextureSize(dimensions, bitRatio) {\n    const [w, h, d] = dimensions;\n    const totalArea = utils.roundTo((w || 1) * (h || 1) * (d || 1), 4);\n    const texelCount = totalArea / (4 / bitRatio);\n    return utils.closestSquareDimensions(texelCount);\n  },\n\n  roundTo(n, d) {\n    return Math.floor((n + d - 1) / d) * d;\n  },\n  getDimensions(x, pad) {\n    let ret;\n    if (utils.isArray(x)) {\n      const dim = [];\n      let temp = x;\n      while (utils.isArray(temp)) {\n        dim.push(temp.length);\n        temp = temp[0];\n      }\n      ret = dim.reverse();\n    } else if (x instanceof Texture) {\n      ret = x.output;\n    } else if (x instanceof Input) {\n      ret = x.size;\n    } else {\n      throw new Error(`Unknown dimensions of ${x}`);\n    }\n\n    if (pad) {\n      ret = Array.from(ret);\n      while (ret.length < 3) {\n        ret.push(1);\n      }\n    }\n\n    return new Int32Array(ret);\n  },\n\n  flatten2dArrayTo(array, target) {\n    let offset = 0;\n    for (let y = 0; y < array.length; y++) {\n      target.set(array[y], offset);\n      offset += array[y].length;\n    }\n  },\n\n  flatten3dArrayTo(array, target) {\n    let offset = 0;\n    for (let z = 0; z < array.length; z++) {\n      for (let y = 0; y < array[z].length; y++) {\n        target.set(array[z][y], offset);\n        offset += array[z][y].length;\n      }\n    }\n  },\n\n  flatten4dArrayTo(array, target) {\n    let offset = 0;\n    for (let l = 0; l < array.length; l++) {\n      for (let z = 0; z < array[l].length; z++) {\n        for (let y = 0; y < array[l][z].length; y++) {\n          target.set(array[l][z][y], offset);\n          offset += array[l][z][y].length;\n        }\n      }\n    }\n  },\n\n  flattenTo(array, target) {\n    if (utils.isArray(array[0])) {\n      if (utils.isArray(array[0][0])) {\n        if (utils.isArray(array[0][0][0])) {\n          utils.flatten4dArrayTo(array, target);\n        } else {\n          utils.flatten3dArrayTo(array, target);\n        }\n      } else {\n        utils.flatten2dArrayTo(array, target);\n      }\n    } else {\n      target.set(array);\n    }\n  },\n\n  splitArray(array, part) {\n    const result = [];\n    for (let i = 0; i < array.length; i += part) {\n      result.push(new array.constructor(array.buffer, i * 4 + array.byteOffset, part));\n    }\n    return result;\n  },\n\n  getAstString(source, ast) {\n    const lines = Array.isArray(source) ? source : source.split(/\\r?\\n/g);\n    const start = ast.loc.start;\n    const end = ast.loc.end;\n    const result = [];\n    if (start.line === end.line) {\n      result.push(lines[start.line - 1].substring(start.column, end.column));\n    } else {\n      result.push(lines[start.line - 1].slice(start.column));\n      for (let i = start.line; i < end.line; i++) {\n        result.push(lines[i]);\n      }\n      result.push(lines[end.line - 1].slice(0, end.column));\n    }\n    return result.join('\\n');\n  },\n\n  allPropertiesOf(obj) {\n    const props = [];\n\n    do {\n      props.push.apply(props, Object.getOwnPropertyNames(obj));\n    } while (obj = Object.getPrototypeOf(obj));\n\n    return props;\n  },\n\n  linesToString(lines) {\n    if (lines.length > 0) {\n      return lines.join(';\\n') + ';\\n';\n    } else {\n      return '\\n';\n    }\n  },\n  warnDeprecated(type, oldName, newName) {\n    if (newName) {\n      console.warn(`You are using a deprecated ${ type } \"${ oldName }\". It has been replaced with \"${ newName }\". Fixing, but please upgrade as it will soon be removed.`);\n    } else {\n      console.warn(`You are using a deprecated ${ type } \"${ oldName }\". It has been removed. Fixing, but please upgrade as it will soon be removed.`);\n    }\n  },\n  flipPixels: (pixels, width, height) => {\n    const halfHeight = height / 2 | 0; \n    const bytesPerRow = width * 4;\n    const temp = new Uint8ClampedArray(width * 4);\n    const result = pixels.slice(0);\n    for (let y = 0; y < halfHeight; ++y) {\n      const topOffset = y * bytesPerRow;\n      const bottomOffset = (height - y - 1) * bytesPerRow;\n\n      temp.set(result.subarray(topOffset, topOffset + bytesPerRow));\n\n      result.copyWithin(topOffset, bottomOffset, bottomOffset + bytesPerRow);\n\n      result.set(temp, bottomOffset);\n    }\n    return result;\n  },\n  erectPackedFloat: (array, width) => {\n    return array.subarray(0, width);\n  },\n  erect2DPackedFloat: (array, width, height) => {\n    const yResults = new Array(height);\n    for (let y = 0; y < height; y++) {\n      const xStart = y * width;\n      const xEnd = xStart + width;\n      yResults[y] = array.subarray(xStart, xEnd);\n    }\n    return yResults;\n  },\n  erect3DPackedFloat: (array, width, height, depth) => {\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xStart = (z * height * width) + y * width;\n        const xEnd = xStart + width;\n        yResults[y] = array.subarray(xStart, xEnd);\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectMemoryOptimizedFloat: (array, width) => {\n    return array.subarray(0, width);\n  },\n  erectMemoryOptimized2DFloat: (array, width, height) => {\n    const yResults = new Array(height);\n    for (let y = 0; y < height; y++) {\n      const offset = y * width;\n      yResults[y] = array.subarray(offset, offset + width);\n    }\n    return yResults;\n  },\n  erectMemoryOptimized3DFloat: (array, width, height, depth) => {\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const offset = (z * height * width) + (y * width);\n        yResults[y] = array.subarray(offset, offset + width);\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectFloat: (array, width) => {\n    const xResults = new Float32Array(width);\n    let i = 0;\n    for (let x = 0; x < width; x++) {\n      xResults[x] = array[i];\n      i += 4;\n    }\n    return xResults;\n  },\n  erect2DFloat: (array, width, height) => {\n    const yResults = new Array(height);\n    let i = 0;\n    for (let y = 0; y < height; y++) {\n      const xResults = new Float32Array(width);\n      for (let x = 0; x < width; x++) {\n        xResults[x] = array[i];\n        i += 4;\n      }\n      yResults[y] = xResults;\n    }\n    return yResults;\n  },\n  erect3DFloat: (array, width, height, depth) => {\n    const zResults = new Array(depth);\n    let i = 0;\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xResults = new Float32Array(width);\n        for (let x = 0; x < width; x++) {\n          xResults[x] = array[i];\n          i += 4;\n        }\n        yResults[y] = xResults;\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectArray2: (array, width) => {\n    const xResults = new Array(width);\n    const xResultsMax = width * 4;\n    let i = 0;\n    for (let x = 0; x < xResultsMax; x += 4) {\n      xResults[i++] = array.subarray(x, x + 2);\n    }\n    return xResults;\n  },\n  erect2DArray2: (array, width, height) => {\n    const yResults = new Array(height);\n    const XResultsMax = width * 4;\n    for (let y = 0; y < height; y++) {\n      const xResults = new Array(width);\n      const offset = y * XResultsMax;\n      let i = 0;\n      for (let x = 0; x < XResultsMax; x += 4) {\n        xResults[i++] = array.subarray(x + offset, x + offset + 2);\n      }\n      yResults[y] = xResults;\n    }\n    return yResults;\n  },\n  erect3DArray2: (array, width, height, depth) => {\n    const xResultsMax = width * 4;\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xResults = new Array(width);\n        const offset = (z * xResultsMax * height) + (y * xResultsMax);\n        let i = 0;\n        for (let x = 0; x < xResultsMax; x += 4) {\n          xResults[i++] = array.subarray(x + offset, x + offset + 2);\n        }\n        yResults[y] = xResults;\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectArray3: (array, width) => {\n    const xResults = new Array(width);\n    const xResultsMax = width * 4;\n    let i = 0;\n    for (let x = 0; x < xResultsMax; x += 4) {\n      xResults[i++] = array.subarray(x, x + 3);\n    }\n    return xResults;\n  },\n  erect2DArray3: (array, width, height) => {\n    const xResultsMax = width * 4;\n    const yResults = new Array(height);\n    for (let y = 0; y < height; y++) {\n      const xResults = new Array(width);\n      const offset = y * xResultsMax;\n      let i = 0;\n      for (let x = 0; x < xResultsMax; x += 4) {\n        xResults[i++] = array.subarray(x + offset, x + offset + 3);\n      }\n      yResults[y] = xResults;\n    }\n    return yResults;\n  },\n  erect3DArray3: (array, width, height, depth) => {\n    const xResultsMax = width * 4;\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xResults = new Array(width);\n        const offset = (z * xResultsMax * height) + (y * xResultsMax);\n        let i = 0;\n        for (let x = 0; x < xResultsMax; x += 4) {\n          xResults[i++] = array.subarray(x + offset, x + offset + 3);\n        }\n        yResults[y] = xResults;\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectArray4: (array, width) => {\n    const xResults = new Array(array);\n    const xResultsMax = width * 4;\n    let i = 0;\n    for (let x = 0; x < xResultsMax; x += 4) {\n      xResults[i++] = array.subarray(x, x + 4);\n    }\n    return xResults;\n  },\n  erect2DArray4: (array, width, height) => {\n    const xResultsMax = width * 4;\n    const yResults = new Array(height);\n    for (let y = 0; y < height; y++) {\n      const xResults = new Array(width);\n      const offset = y * xResultsMax;\n      let i = 0;\n      for (let x = 0; x < xResultsMax; x += 4) {\n        xResults[i++] = array.subarray(x + offset, x + offset + 4);\n      }\n      yResults[y] = xResults;\n    }\n    return yResults;\n  },\n  erect3DArray4: (array, width, height, depth) => {\n    const xResultsMax = width * 4;\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xResults = new Array(width);\n        const offset = (z * xResultsMax * height) + (y * xResultsMax);\n        let i = 0;\n        for (let x = 0; x < xResultsMax; x += 4) {\n          xResults[i++] = array.subarray(x + offset, x + offset + 4);\n        }\n        yResults[y] = xResults;\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n\n  flattenFunctionToString: (source, settings) => {\n    const { findDependency, thisLookup, doNotDefine } = settings;\n    let flattened = settings.flattened;\n    if (!flattened) {\n      flattened = settings.flattened = {};\n    }\n    const ast = acorn.parse(source);\n    const functionDependencies = [];\n    let indent = 0;\n\n    function flatten(ast) {\n      if (Array.isArray(ast)) {\n        const results = [];\n        for (let i = 0; i < ast.length; i++) {\n          results.push(flatten(ast[i]));\n        }\n        return results.join('');\n      }\n      switch (ast.type) {\n        case 'Program':\n          return flatten(ast.body) + (ast.body[0].type === 'VariableDeclaration' ? ';' : '');\n        case 'FunctionDeclaration':\n          return `function ${ast.id.name}(${ast.params.map(flatten).join(', ')}) ${ flatten(ast.body) }`;\n        case 'BlockStatement': {\n          const result = [];\n          indent += 2;\n          for (let i = 0; i < ast.body.length; i++) {\n            const flat = flatten(ast.body[i]);\n            if (flat) {\n              result.push(' '.repeat(indent) + flat, ';\\n');\n            }\n          }\n          indent -= 2;\n          return `{\\n${result.join('')}}`;\n        }\n        case 'VariableDeclaration':\n          const declarations = utils.normalizeDeclarations(ast)\n            .map(flatten)\n            .filter(r => r !== null);\n          if (declarations.length < 1) {\n            return '';\n          } else {\n            return `${ast.kind} ${declarations.join(',')}`;\n          }\n          case 'VariableDeclarator':\n            if (ast.init.object && ast.init.object.type === 'ThisExpression') {\n              const lookup = thisLookup(ast.init.property.name, true);\n              if (lookup) {\n                return `${ast.id.name} = ${flatten(ast.init)}`;\n              } else {\n                return null;\n              }\n            } else {\n              return `${ast.id.name} = ${flatten(ast.init)}`;\n            }\n            case 'CallExpression': {\n              if (ast.callee.property.name === 'subarray') {\n                return `${flatten(ast.callee.object)}.${flatten(ast.callee.property)}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              }\n              if (ast.callee.object.name === 'gl' || ast.callee.object.name === 'context') {\n                return `${flatten(ast.callee.object)}.${flatten(ast.callee.property)}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              }\n              if (ast.callee.object.type === 'ThisExpression') {\n                functionDependencies.push(findDependency('this', ast.callee.property.name));\n                return `${ast.callee.property.name}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              } else if (ast.callee.object.name) {\n                const foundSource = findDependency(ast.callee.object.name, ast.callee.property.name);\n                if (foundSource === null) {\n                  return `${ast.callee.object.name}.${ast.callee.property.name}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n                } else {\n                  functionDependencies.push(foundSource);\n                  return `${ast.callee.property.name}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n                }\n              } else if (ast.callee.object.type === 'MemberExpression') {\n                return `${flatten(ast.callee.object)}.${ast.callee.property.name}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              } else {\n                throw new Error('unknown ast.callee');\n              }\n            }\n            case 'ReturnStatement':\n              return `return ${flatten(ast.argument)}`;\n            case 'BinaryExpression':\n              return `(${flatten(ast.left)}${ast.operator}${flatten(ast.right)})`;\n            case 'UnaryExpression':\n              if (ast.prefix) {\n                return `${ast.operator} ${flatten(ast.argument)}`;\n              } else {\n                return `${flatten(ast.argument)} ${ast.operator}`;\n              }\n              case 'ExpressionStatement':\n                return `${flatten(ast.expression)}`;\n              case 'SequenceExpression':\n                return `(${flatten(ast.expressions)})`;\n              case 'ArrowFunctionExpression':\n                return `(${ast.params.map(flatten).join(', ')}) => ${flatten(ast.body)}`;\n              case 'Literal':\n                return ast.raw;\n              case 'Identifier':\n                return ast.name;\n              case 'MemberExpression':\n                if (ast.object.type === 'ThisExpression') {\n                  return thisLookup(ast.property.name);\n                }\n                if (ast.computed) {\n                  return `${flatten(ast.object)}[${flatten(ast.property)}]`;\n                }\n                return flatten(ast.object) + '.' + flatten(ast.property);\n              case 'ThisExpression':\n                return 'this';\n              case 'NewExpression':\n                return `new ${flatten(ast.callee)}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              case 'ForStatement':\n                return `for (${flatten(ast.init)};${flatten(ast.test)};${flatten(ast.update)}) ${flatten(ast.body)}`;\n              case 'AssignmentExpression':\n                return `${flatten(ast.left)}${ast.operator}${flatten(ast.right)}`;\n              case 'UpdateExpression':\n                return `${flatten(ast.argument)}${ast.operator}`;\n              case 'IfStatement':\n                return `if (${flatten(ast.test)}) ${flatten(ast.consequent)}`;\n              case 'ThrowStatement':\n                return `throw ${flatten(ast.argument)}`;\n              case 'ObjectPattern':\n                return ast.properties.map(flatten).join(', ');\n              case 'ArrayPattern':\n                return ast.elements.map(flatten).join(', ');\n              case 'DebuggerStatement':\n                return 'debugger;';\n              case 'ConditionalExpression':\n                return `${flatten(ast.test)}?${flatten(ast.consequent)}:${flatten(ast.alternate)}`;\n              case 'Property':\n                if (ast.kind === 'init') {\n                  return flatten(ast.key);\n                }\n      }\n      throw new Error(`unhandled ast.type of ${ ast.type }`);\n    }\n    const result = flatten(ast);\n    if (functionDependencies.length > 0) {\n      const flattenedFunctionDependencies = [];\n      for (let i = 0; i < functionDependencies.length; i++) {\n        const functionDependency = functionDependencies[i];\n        if (!flattened[functionDependency]) {\n          flattened[functionDependency] = true;\n        }\n        functionDependency ? flattenedFunctionDependencies.push(utils.flattenFunctionToString(functionDependency, settings) + '\\n') : '';\n      }\n      return flattenedFunctionDependencies.join('') + result;\n    }\n    return result;\n  },\n\n  normalizeDeclarations: (ast) => {\n    if (ast.type !== 'VariableDeclaration') throw new Error('Ast is not of type \"VariableDeclaration\"');\n    const normalizedDeclarations = [];\n    for (let declarationIndex = 0; declarationIndex < ast.declarations.length; declarationIndex++) {\n      const declaration = ast.declarations[declarationIndex];\n      if (declaration.id && declaration.id.type === 'ObjectPattern' && declaration.id.properties) {\n        const { properties } = declaration.id;\n        for (let propertyIndex = 0; propertyIndex < properties.length; propertyIndex++) {\n          const property = properties[propertyIndex];\n          if (property.value.type === 'ObjectPattern' && property.value.properties) {\n            for (let subPropertyIndex = 0; subPropertyIndex < property.value.properties.length; subPropertyIndex++) {\n              const subProperty = property.value.properties[subPropertyIndex];\n              if (subProperty.type === 'Property') {\n                normalizedDeclarations.push({\n                  type: 'VariableDeclarator',\n                  id: {\n                    type: 'Identifier',\n                    name: subProperty.key.name\n                  },\n                  init: {\n                    type: 'MemberExpression',\n                    object: {\n                      type: 'MemberExpression',\n                      object: declaration.init,\n                      property: {\n                        type: 'Identifier',\n                        name: property.key.name\n                      },\n                      computed: false\n                    },\n                    property: {\n                      type: 'Identifier',\n                      name: subProperty.key.name\n                    },\n                    computed: false\n                  }\n                });\n              } else {\n                throw new Error('unexpected state');\n              }\n            }\n          } else if (property.value.type === 'Identifier') {\n            normalizedDeclarations.push({\n              type: 'VariableDeclarator',\n              id: {\n                type: 'Identifier',\n                name: property.value && property.value.name ? property.value.name : property.key.name\n              },\n              init: {\n                type: 'MemberExpression',\n                object: declaration.init,\n                property: {\n                  type: 'Identifier',\n                  name: property.key.name\n                },\n                computed: false\n              }\n            });\n          } else {\n            throw new Error('unexpected state');\n          }\n        }\n      } else if (declaration.id && declaration.id.type === 'ArrayPattern' && declaration.id.elements) {\n        const { elements } = declaration.id;\n        for (let elementIndex = 0; elementIndex < elements.length; elementIndex++) {\n          const element = elements[elementIndex];\n          if (element.type === 'Identifier') {\n            normalizedDeclarations.push({\n              type: 'VariableDeclarator',\n              id: {\n                type: 'Identifier',\n                name: element.name\n              },\n              init: {\n                type: 'MemberExpression',\n                object: declaration.init,\n                property: {\n                  type: 'Literal',\n                  value: elementIndex,\n                  raw: elementIndex.toString(),\n                  start: element.start,\n                  end: element.end\n                },\n                computed: true\n              }\n            });\n          } else {\n            throw new Error('unexpected state');\n          }\n        }\n      } else {\n        normalizedDeclarations.push(declaration);\n      }\n    }\n    return normalizedDeclarations;\n  },\n\n  splitHTMLImageToRGB: (gpu, image) => {\n    const rKernel = gpu.createKernel(function(a) {\n      const pixel = a[this.thread.y][this.thread.x];\n      return pixel.r * 255;\n    }, {\n      output: [image.width, image.height],\n      precision: 'unsigned',\n      argumentTypes: { a: 'HTMLImage' },\n    });\n    const gKernel = gpu.createKernel(function(a) {\n      const pixel = a[this.thread.y][this.thread.x];\n      return pixel.g * 255;\n    }, {\n      output: [image.width, image.height],\n      precision: 'unsigned',\n      argumentTypes: { a: 'HTMLImage' },\n    });\n    const bKernel = gpu.createKernel(function(a) {\n      const pixel = a[this.thread.y][this.thread.x];\n      return pixel.b * 255;\n    }, {\n      output: [image.width, image.height],\n      precision: 'unsigned',\n      argumentTypes: { a: 'HTMLImage' },\n    });\n    const aKernel = gpu.createKernel(function(a) {\n      const pixel = a[this.thread.y][this.thread.x];\n      return pixel.a * 255;\n    }, {\n      output: [image.width, image.height],\n      precision: 'unsigned',\n      argumentTypes: { a: 'HTMLImage' },\n    });\n    const result = [\n      rKernel(image),\n      gKernel(image),\n      bKernel(image),\n      aKernel(image),\n    ];\n    result.rKernel = rKernel;\n    result.gKernel = gKernel;\n    result.bKernel = bKernel;\n    result.aKernel = aKernel;\n    result.gpu = gpu;\n    return result;\n  },\n\n  splitRGBAToCanvases: (gpu, rgba, width, height) => {\n    const visualKernelR = gpu.createKernel(function(v) {\n      const pixel = v[this.thread.y][this.thread.x];\n      this.color(pixel.r / 255, 0, 0, 255);\n    }, {\n      output: [width, height],\n      graphical: true,\n      argumentTypes: { v: 'Array2D(4)' }\n    });\n    visualKernelR(rgba);\n\n    const visualKernelG = gpu.createKernel(function(v) {\n      const pixel = v[this.thread.y][this.thread.x];\n      this.color(0, pixel.g / 255, 0, 255);\n    }, {\n      output: [width, height],\n      graphical: true,\n      argumentTypes: { v: 'Array2D(4)' }\n    });\n    visualKernelG(rgba);\n\n    const visualKernelB = gpu.createKernel(function(v) {\n      const pixel = v[this.thread.y][this.thread.x];\n      this.color(0, 0, pixel.b / 255, 255);\n    }, {\n      output: [width, height],\n      graphical: true,\n      argumentTypes: { v: 'Array2D(4)' }\n    });\n    visualKernelB(rgba);\n\n    const visualKernelA = gpu.createKernel(function(v) {\n      const pixel = v[this.thread.y][this.thread.x];\n      this.color(255, 255, 255, pixel.a / 255);\n    }, {\n      output: [width, height],\n      graphical: true,\n      argumentTypes: { v: 'Array2D(4)' }\n    });\n    visualKernelA(rgba);\n    return [\n      visualKernelR.canvas,\n      visualKernelG.canvas,\n      visualKernelB.canvas,\n      visualKernelA.canvas,\n    ];\n  },\n\n  getMinifySafeName: (fn) => {\n    try {\n      const ast = acorn.parse(`const value = ${fn.toString()}`);\n      const { init } = ast.body[0].declarations[0];\n      return init.body.name || init.body.body[0].argument.name;\n    } catch (e) {\n      throw new Error('Unrecognized function type.  Please use `() => yourFunctionVariableHere` or function() { return yourFunctionVariableHere; }');\n    }\n  },\n  sanitizeName: function(name) {\n    if (dollarSign.test(name)) {\n      name = name.replace(dollarSign, 'S_S');\n    }\n    if (doubleUnderscore.test(name)) {\n      name = name.replace(doubleUnderscore, 'U_U');\n    } else if (singleUnderscore.test(name)) {\n      name = name.replace(singleUnderscore, 'u_u');\n    }\n    return name;\n  }\n};\n\nconst dollarSign = /\\$/;\nconst doubleUnderscore = /__/;\nconst singleUnderscore = /_/;\n\nconst _systemEndianness = utils.getSystemEndianness();\n\nmodule.exports = {\n  utils\n};\n},{\"./input\":110,\"./texture\":113,\"acorn\":1}]},{},[107])(107)\n});\n"],"names":["define","$c3Cot","parcelRequire","$bcaa5dedc49d55dc$exports","r","e","n","t","o","i","f","c","undefined","u","a","Error","code","p","exports","call","length","require1","module1","global","factory","amd","self","acorn","this","reservedWords","strict","strictBind","ecma5AndLessKeywords","keywords","keywordRelationalOperator","nonASCIIidentifierStartChars","nonASCIIidentifierChars","nonASCIIidentifierStart","RegExp","nonASCIIidentifier","astralIdentifierStartCodes","astralIdentifierCodes","isInAstralSet","set","pos","isIdentifierStart","astral","test","String","fromCharCode","isIdentifierChar","TokenType","label","conf","keyword","beforeExpr","startsExpr","isLoop","isAssign","prefix","postfix","binop","updateContext","name1","prec","keywords$1","kw","options","types","num","regexp","string","name","eof","bracketL","bracketR","braceL","braceR","parenL","parenR","comma","semi","colon","dot","question","arrow","template","invalidTemplate","ellipsis","backQuote","dollarBraceL","eq","assign","incDec","logicalOR","logicalAND","bitwiseOR","bitwiseXOR","bitwiseAND","equality","relational","bitShift","plusMin","modulo","star","slash","starstar","_break","_case","_catch","_continue","_debugger","_default","_do","_else","_finally","_for","_function","_if","_return","_switch","_throw","_try","_var","_const","_while","_with","_new","_this","_super","_class","_extends","_export","_import","_null","_true","_false","_in","_instanceof","_typeof","_void","_delete","lineBreak","lineBreakG","source","isNewLine","ecma2019String","nonASCIIwhitespace","skipWhiteSpace","ref","Object","prototype","hasOwnProperty","toString","has","obj","propName","isArray","Array","wordsRegexp","words","replace","Position","line","col","column","offset","SourceLocation","start","end","sourceFile","getLineInfo","input","cur","lastIndex","match","exec","index","defaultOptions","ecmaVersion","sourceType","onInsertedSemicolon","onTrailingComma","allowReserved","allowReturnOutsideFunction","allowImportExportEverywhere","allowAwaitOutsideFunction","allowHashBang","locations","onToken","onComment","ranges","program","directSourceFile","preserveParens","getOptions","opts","opt","tokens","token","push","pushComment","array","block","text","startLoc","endLoc","comment","type","value","loc","range","SCOPE_TOP","SCOPE_FUNCTION","SCOPE_VAR","SCOPE_ASYNC","SCOPE_GENERATOR","SCOPE_ARROW","SCOPE_SIMPLE_CATCH","SCOPE_SUPER","SCOPE_DIRECT_SUPER","functionFlags","async","generator","BIND_NONE","BIND_VAR","BIND_LEXICAL","BIND_FUNCTION","BIND_SIMPLE_CATCH","BIND_OUTSIDE","Parser","startPos","reserved","v","reservedStrict","reservedWordsStrict","reservedWordsStrictBind","containsEsc","lineStart","lastIndexOf","curLine","slice","split","curPosition","lastTokEndLoc","lastTokStartLoc","lastTokStart","lastTokEnd","context","initialContext","exprAllowed","inModule","strictDirective","potentialArrowAt","yieldPos","awaitPos","awaitIdentPos","labels","undefinedExports","skipLineComment","scopeStack","enterScope","regexpState","prototypeAccessors","inFunction","configurable","inGenerator","inAsync","allowSuper","allowDirectSuper","treatFunctionsAsVar","parse","node","startNode","nextToken","parseTopLevel","get","currentVarScope","flags","currentThisScope","treatFunctionsAsVarInScope","currentScope","inNonArrowFunction","extend","plugins","len","arguments","cls","parseExpressionAt","parser","parseExpression","tokenizer","defineProperties","pp","literal","DestructuringErrors","shorthandAssign","trailingComma","parenthesizedAssign","parenthesizedBind","doubleProto","eat","next","isContextual","eatContextual","expectContextual","unexpected","canInsertSemicolon","insertSemicolon","semicolon","afterTrailingComma","tokType","notNext","expect","raise","checkPatternErrors","refDestructuringErrors","raiseRecoverable","parens","checkExpressionErrors","andThrow","checkYieldAwaitInDefaultParams","isSimpleAssignTarget","expr","expression","pp$1","body","stmt","parseStatement","list","keys","adaptDirectivePrologue","finishNode","loopLabel","kind","switchLabel","isLet","skip","nextCh","charCodeAt","ident","isAsyncFunction","charAt","topLevel","starttype","parseBreakContinueStatement","parseDebuggerStatement","parseDoStatement","parseForStatement","parseFunctionStatement","parseClass","parseIfStatement","parseReturnStatement","parseSwitchStatement","parseThrowStatement","parseTryStatement","parseVarStatement","parseWhileStatement","parseWithStatement","parseBlock","parseEmptyStatement","parseExpressionStatement","parseImport","parseExport","maybeName","parseLabeledStatement","isBreak","parseIdent","lab","pop","parseParenExpression","awaitAt","parseFor","init$1","parseVar","declarations","await","parseForIn","init","toAssignable","checkLVal","isAsync","declarationPosition","parseFunction","FUNC_STATEMENT","FUNC_HANGING_STATEMENT","consequent","alternate","argument","discriminant","cases","sawDefault","isCase","exitScope","empty","handler","clause","param","parseBindingAtom","simple","finalizer","object","i$1","label$1","statementStart","indexOf","createNewLexicalScope","update","isForIn","id","left","right","parseMaybeAssign","isFor","decl","parseVarId","FUNC_NULLABLE_ID","statement","allowExpressionBody","initFunction","oldYieldPos","oldAwaitPos","oldAwaitIdentPos","parseFunctionParams","parseFunctionBody","params","parseBindingList","isStatement","oldStrict","parseClassId","parseClassSuper","classBody","hadConstructor","element","parseClassElement","superClass","constructorAllowsSuper","this$1","method","tryContextual","k","noLineBreak","key","computed","startNodeAt","static","isGenerator","parsePropertyName","allowsDirectSuper","parseClassMethod","parseMethod","parseExprSubscripts","parseExprAtom","checkExport","fNode","declaration","cNode","shouldParseExportStatement","checkVariableExport","specifiers","parseExportSpecifiers","spec","checkUnreserved","local","checkLocalExport","checkPatternExport","pat","properties","prop","list$1","elements","elt","decls","nodes","first","exported","parseImportSpecifiers","node$1","node$2","imported","statements","isDirectiveCandidate","directive","raw","pp$2","isBinding","toAssignableList","operator","exprList","last","parseSpread","parseRestBinding","parseObj","close","allowEmpty","allowTrailingComma","elts","rest","parseBindingListItem","elem","parseMaybeDefault","bindingType","checkClashes","declareName","pp$3","checkPropClash","propHash","shorthand","proto","other","noIn","expressions","afterLeftParse","parseYield","ownDestructuringErrors","oldParenAssign","oldTrailingComma","parseMaybeConditional","parseExprOps","parseMaybeUnary","parseExprOp","leftStartPos","leftStartLoc","minPrec","logical","op","buildBinary","sawUnary","parseAwait","result","parseSubscripts","base","noCalls","maybeAsyncArrow","parseSubscript","property","parseExprList","parseArrowExpression","callee","tag","quasi","parseTemplate","isTagged","readRegexp","canBeArrow","value1","parseLiteral","regex","pattern","parseParenAndDistinguishExpression","parseNew","parseExprImport","parseDynamicImport","errorPos","bigint","val","spreadStart","innerStartPos","innerStartLoc","lastIsComma","parseParenItem","innerEndPos","innerEndLoc","parseParenArrowList","finishNodeAt","par","item","empty$1","meta","isImport","parseTemplateElement","cooked","tail","curElt","quasis","isAsyncProp","isPattern","parseProperty","parsePropertyValue","paramCount","isArrowFunction","isMethod","isExpression","useStrict","checkParams","nonSimple","isSimpleParamList","oldLabels","allowDuplicates","nameHash","liberal","delegate","pp$4","message","err","SyntaxError","raisedAt","pp$5","Scope","var","lexical","functions","scope","redeclared","scope$2","scope$3","Node","pp$6","TokContext","isExpr","preserveSpace","override","types$1","b_stat","b_expr","b_tmpl","p_stat","p_expr","q_tmpl","tryReadTemplateToken","f_stat","f_expr","f_expr_gen","f_gen","pp$7","braceIsBlock","prevType","parent","curContext","inGeneratorContext","out","statementParens","allowed","ecma9BinaryProperties","ecma10BinaryProperties","unicodeBinaryProperties","unicodeGeneralCategoryValues","ecma9ScriptValues","ecma10ScriptValues","unicodeScriptValues","data","buildUnicodeData","d","binary","nonBinary","General_Category","Script","Script_Extensions","gc","sc","scx","pp$8","RegExpValidationState","validFlags","unicodeProperties","switchU","switchN","lastIntValue","lastStringValue","lastAssertionIsQuantifiable","numCapturingParens","maxBackReference","groupNames","backReferenceNames","codePointToString","ch","isSyntaxCharacter","isRegExpIdentifierStart","isRegExpIdentifierPart","isControlLetter","isValidUnicode","isCharacterClassEscape","isUnicodePropertyNameCharacter","isUnicodePropertyValueCharacter","isDecimalDigit","isHexDigit","hexToInt","isOctalDigit","reset","unicode","at","s","l","nextIndex","current","lookahead","advance","validateRegExpFlags","state","flag","validateRegExpPattern","regexp_pattern","regexp_disjunction","regexp_alternative","regexp_eatQuantifier","regexp_eatTerm","regexp_eatAssertion","regexp_eatAtom","regexp_eatExtendedAtom","lookbehind","noError","regexp_eatQuantifierPrefix","regexp_eatBracedQuantifier","min","max","regexp_eatDecimalDigits","regexp_eatPatternCharacters","regexp_eatReverseSolidusAtomEscape","regexp_eatCharacterClass","regexp_eatUncapturingGroup","regexp_eatCapturingGroup","regexp_eatAtomEscape","regexp_groupSpecifier","regexp_eatInvalidBracedQuantifier","regexp_eatExtendedPatternCharacter","regexp_eatSyntaxCharacter","regexp_eatGroupName","regexp_eatRegExpIdentifierName","regexp_eatRegExpIdentifierStart","regexp_eatRegExpIdentifierPart","regexp_eatRegExpUnicodeEscapeSequence","regexp_eatBackReference","regexp_eatCharacterClassEscape","regexp_eatCharacterEscape","regexp_eatKGroupName","regexp_eatDecimalEscape","regexp_eatControlEscape","regexp_eatCControlLetter","regexp_eatZero","regexp_eatHexEscapeSequence","regexp_eatLegacyOctalEscapeSequence","regexp_eatIdentityEscape","regexp_eatControlLetter","regexp_eatFixedHexDigits","lead","leadSurrogateEnd","trail","regexp_eatHexDigits","regexp_eatUnicodePropertyValueExpression","regexp_eatUnicodePropertyName","regexp_eatUnicodePropertyValue","regexp_validateUnicodePropertyNameAndValue","regexp_eatLoneUnicodePropertyNameOrValue","nameOrValue","regexp_validateUnicodePropertyNameOrValue","regexp_classRanges","regexp_eatClassAtom","regexp_eatClassEscape","ch$1","regexp_eatClassControlLetter","regexp_eatOctalDigit","n1","n2","Token","pp$9","codePointToString$1","ignoreEscapeSequenceInKeyword","getToken","Symbol","iterator","done","skipSpace","finishToken","readToken","fullCharCodeAtPos","readWord","getTokenFromCode","skipBlockComment","startSkip","loop","readToken_dot","readNumber","next2","readToken_slash","finishOp","readToken_mult_modulo_exp","size","tokentype","readToken_pipe_amp","readToken_caret","readToken_plus_min","readToken_lt_gt","readToken_eq_excl","readRadixNumber","readString","str","escaped","inClass","flagsStart","readWord1","readInt","radix","total","Infinity","BigInt","startsWithDot","octal","str$1","val$1","parseInt","parseFloat","readCodePoint","codePos","readHexChar","invalidStringToken","quote","chunkStart","readEscapedChar","INVALID_TEMPLATE_ESCAPE_ERROR","inTemplateElement","readTmplToken","readInvalidTemplateToken","position","inTemplate","octalStr","substr","word","escStart","esc","version","tokTypes","keywordTypes","tokContexts","defineProperty","glWiretap","gl","contextName","throwGetError","useTrackablePrimitives","readPixelsFile","recording","variables","onReadPixels","onUnrecognizedArgumentLookup","proxy","Proxy","listen","contextVariables","entityNames","readPixelsVariableName","imageCount","indent","addComment","checkThrowError","insertVariable","setIndent","getContextVariableName","getError","variableName","extension","getExtension","tappedExtension","glExtensionWiretap","getEntity","targetVariableName","getVariableName","constructor","argumentAsStrings","join","writePPM","readPixels","apply","argumentsToString","addVariable","drawBuffers","methodCallToString","trackablePrimitive","spaces","repeat","width","height","sourceVariable","imageVariable","args","extensionEntityNames","getExtensionEntity","drawBuffersWEBGL","from","map","arg","argumentToString","hasLines","hasSingleQuotes","hasDoubleQuotes","JSON","stringify","instantiationString","window","setupArguments","newArguments","toArray","mock1D","row","Float32Array","output","x","thread","y","z","_fn","mock2D","matrix","mock2DGraphical","mock3D","cube","apiDecorate","kernel","setOutput","setupOutput","graphical","setupGraphical","toJSON","setConstants","constants","setGraphical","setCanvas","canvas","setContext","destroy","validateSettings","Promise","resolve","reject","getPixels","flip","flipPixels","_imageData","color","g","b","Math","floor","_colorData","mockMethod","methods","createImageData","Uint8ClampedArray","gpuMock","fn","settings","pixels","halfHeight","bytesPerRow","temp","topOffset","bottomOffset","subarray","copyWithin","utils","alias","fnString","Function","getArgumentNamesFromString","getFunctionBodyFromString","FunctionNode","CPUFunctionNode","astFunction","ast","retArr","isRootKernel","argumentNames","argumentName","astGeneric","astReturnStatement","returnType","getType","leadingReturnStatement","followingReturnStatement","isSubKernel","astLiteral","isNaN","astErrorOutput","astBinaryExpression","astIdentifierExpression","idtNode","astForStatement","forNode","initArr","testArr","updateArr","bodyArr","isSafe","pushState","includes","popState","iVariableName","getInternalVariableName","astWhileStatement","whileNode","astDoWhileStatement","doWhileNode","astAssignmentExpression","assNode","getDeclaration","assignable","astBlockStatement","bNode","isState","astVariableDeclaration","varDecNode","info","valueType","astIfStatement","ifNode","astSwitchStatement","astThisExpression","tNode","astMemberExpression","mNode","signature","xProperty","yProperty","zProperty","origin","getMemberExpressionDetails","markupName","isInput","constant","constantTypes","argumentSizes","dynamicArguments","astCallExpression","functionName","astMemberExpressionUnroll","calledFunctions","isAstMathFunction","onFunctionCall","targetTypes","lookupFunctionArgumentTypes","argumentType","triggerImplyArgumentType","astArrayExpression","arrNode","arrLen","astDebuggerStatement","constantsToString","results","cpuKernelString","cpuKernel","header","thisProperties","beforeReturn","useFunctionKeyword","colorFn","flattenFunctionToString","thisLookup","propertyName","findDependency","getPixelsFn","constantKeys","argumentTypes","flattenedImageTo3DArray","_imageTo3DArray","doNotDefine","flattenedImageTo2DArray","_mediaTo2DArray","_kernelString","Kernel","FunctionBuilder","CPUKernel","features","freeze","kernelMap","isIntegerDivisionAccurate","isSupported","mode","combinedKernel","super","mergeSettings","_prependedString","translatedSources","initCanvas","document","createElement","OffscreenCanvas","initContext","getContext","initPlugins","argType","getVariableType","strictIntegers","getDimensions","checkOutput","translateSource","subKernels","functionBuilder","fromKernel","getPrototypes","getKernelResultType","build","built","setupConstants","kernelString","getKernelString","debug","console","log","run","bind","error","buildSignature","kernelThreadString","filter","shift","_getLoopMaxString","injectedNative","_resultKernelHeader","_processConstants","_earlyThrows","_processArguments","_graphicalKernelBody","_resultKernelBody","loopMaxIterations","immutable","pipeline","arrayArguments","checks","checkSubKernels","_mapSubKernels","subKernel","media","videoWidth","videoHeight","ctx","pixelsData","ImageData","drawImage","getImageData","imageArray","pixel","images","imagesArray","_mutableKernel1DResults","_mutableKernel2DResults","_mutableKernel3DResults","_resultMutableKernel1DLoop","_resultImmutableKernel1DLoop","_kernelOutput","_resultMutableKernel2DLoop","_resultImmutableKernel2DLoop","_resultMutableKernel3DLoop","_resultImmutableKernel3DLoop","_graphicalKernel2DLoop","_graphicalOutput","_getKernelResultTypeConstructorString","constructorString","removeCanvasReference","json","functionNodes","prependString","hasPrependString","extraNodeOptions","kernelArguments","kernelConstants","argumentBitRatios","constantBitRatios","nativeFunctions","optimizeFloatMemory","precision","dynamicOutput","kernelConstant","needsArgumentType","assignArgumentType","lookupReturnType","requestingNode","lookupFunctionArgumentName","argumentIndex","lookupFunctionArgumentBitRatio","triggerImplyArgumentBitRatio","calleeFunctionName","assignArgumentBitRatio","trackFunctionCall","onNestedFunction","nestedFunction","nodeOptions","traceFunctionAST","addFunctionNode","rootNodeOptions","fromJSON","rootNode","subKernelNodes","functionMap","nativeFunctionNames","lookupChain","functionNodeDependencies","functionCalls","nativeFunction","functionNode","traceFunctionCalls","retList","nativeFunctionIndex","dependantNativeFunctionName","splice","functionIndex","dependantFunctionName","getPrototypeString","getPrototypesFromFunctionNames","reverse","getStringFromFunctionNames","functionList","ret","nativeIndex","jsonFunctionNodes","jsonFunctionNode","getString","_isNativeFunction","_lookupNativeFunctionReturnType","_isFunction","_getFunction","j","getJsAST","Boolean","_getNativeFunction","bitRatio","fnNode","calleeNode","calleeBitRatio","Set","add","getSubKernelResultType","subKernelNode","called","functionCallIndex","getReturnTypes","FunctionTracer","getFunctionNameFromString","identifiers","contexts","states","strictTypingChecking","fixIntegerDivisionAccuracy","literalTypes","validate","_string","_internalVariableNames","isFunctionString","isIdentifierConstant","firstExpression","inParser","functionAST","inForLoopInit","inForLoopTest","dependencies","getDependencies","realType","isSafeDependencies","identifier","getLookupType","typeLookupMap","getConstantType","constantName","trim","literalKey","astKey","Number","isInteger","inferArgumentTypesIfNeeded","getVariableSignature","rightType","lastType","isAstVariable","getCheckVariableType","findIdentifierOrigin","isAstMathVariable","lastReturn","findLastReturn","mathProperties","mathFunctions","every","dependency","isNotSafe","details","returnRawValue","unshift","signatureString","astFunctionDeclaration","astFunctionExpression","astExpressionStatement","astEmptyStatement","astBreakStatement","astContinueStatement","astVariableDeclarator","astSequenceExpression","astUnaryExpression","astUpdateExpression","astLogicalExpression","astConditionalExpression","debugString","getAstString","splitLines","lineBefore","isChildFunction","esNode","eNode","brNode","crNode","iVarDecNode","sNode","sequenceResult","expressionResult","uNode","checkAndUpconvertBitwiseUnary","logNode","variableSignature","astToFind","stack","atNode","separator","Float","Integer","Array2D","Array3D","Input","HTMLCanvas","HTMLImage","ImageBitmap","HTMLVideo","HTMLImageArray","NumberTexture","MemoryOptimizedNumberTexture","trackIdentifiers","memberExpression","runningContexts","functionContexts","returnStatements","trackedIdentifiers","newFunctionContext","scan","hasState","currentFunctionContext","currentContext","newContext","useFunctionContext","functionContext","getIdentifiers","previousRunningContext","suggestedType","normalizeDeclarations","testIdentifiers","toStringWithoutUtils","glKernelString","originKernel","setupContextString","destroyContextString","uploadedValues","postResult","targetName","subKernelsResultVariableSetup","subKernelsResultIndex","getRenderString","findKernelValue","tactic","checkContext","forEach","kernelArgument","uploadValue","imageIndex","texture","flattenTo","flatten2dArrayTo","flatten3dArrayTo","flatten4dArrayTo","renderOutput","renderTexture","formatValues","varName","renderKernels","getStringValueHandler","framebufferName","framebuffer","textureName","getToArrayString","mappedTextures","subKernelResult","subKernelTextureName","rendered","getGetPixelsString","constantsUpload","readBackValue","kernelResult","isDeclaration","kernelValues","values","HTMLImageElement","kernelValue","variableIndex","variable","GLTextureArray2Float","GLTextureArray2Float2D","GLTextureArray2Float3D","GLTextureArray3Float","GLTextureArray3Float2D","GLTextureArray3Float3D","GLTextureArray4Float","GLTextureArray4Float2D","GLTextureArray4Float3D","GLTextureFloat","GLTextureFloat2D","GLTextureFloat3D","GLTextureMemoryOptimized","GLTextureMemoryOptimized2D","GLTextureMemoryOptimized3D","GLTextureUnsigned","GLTextureUnsigned2D","GLTextureUnsigned3D","GLTextureGraphical","GLKernel","testContext","testCanvas","kernelFunction","v1","v2","round","isDrawBuffers","getIsDrawBuffers","isFloatRead","getIsFloatRead","getIsIntegerDivisionAccurate","isSpeedTacticSupported","getIsSpeedTacticSupported","isTextureFloat","getIsTextureFloat","channelCount","getChannelCount","maxTextureSize","getMaxTextureSize","lowIntPrecision","getShaderPrecisionFormat","FRAGMENT_SHADER","LOW_INT","lowFloatPrecision","LOW_FLOAT","mediumIntPrecision","MEDIUM_INT","mediumFloatPrecision","MEDIUM_FLOAT","highIntPrecision","HIGH_INT","highFloatPrecision","HIGH_FLOAT","getVariablePrecisionString","setFixIntegerDivisionAccuracy","fix","setPrecision","setFloatTextures","warnDeprecated","floatTextures","isStartingVariableName","isVariableChar","char","nextChar","typeMap","lastKernel","texSize","threadDim","w","h","ceil","RGBA","FLOAT","bytes","Uint8Array","UNSIGNED_BYTE","buffer","splitArray","transferValues","TextureConstructor","renderRawOutput","translatedSource","compiledFragmentShader","compiledVertexShader","switchingKernels","_textureSwitched","_mappedTextureSwitched","checkTextureSize","pickRenderStrategy","readPackedPixelsToUint8Array","readPackedPixelsToFloat32Array","renderKernelsToTextures","requestFallback","renderKernelsToArrays","renderValues","erect3DPackedFloat","erect2DPackedFloat","erectPackedFloat","readFloatPixelsToFloat32Array","erectMemoryOptimized3DFloat","erectMemoryOptimized2DFloat","erectMemoryOptimizedFloat","erect3DArray2","erect2DArray2","erectArray2","erect3DArray3","erect2DArray3","erectArray3","erect3DArray4","erect2DArray4","erectArray4","erect3DFloat","erect2DFloat","erectFloat","getMainResultTexture","getMainResultNumberTexture","getMainResultArray2Texture","getMainResultArray3Texture","getMainResultArray4Texture","getMainResultKernelNumberTexture","getMainResultSubKernelNumberTexture","getMainResultKernelArray2Texture","getMainResultSubKernelArray2Texture","getMainResultKernelArray3Texture","getMainResultSubKernelArray3Texture","getMainResultKernelArray4Texture","getMainResultSubKernelArray4Texture","getMainResultGraphical","getMainResultMemoryOptimizedFloats","getMainResultPackedPixels","getMainResultString","linesToString","getFloatTacticDeclaration","getIntTacticDeclaration","getSampler2DTacticDeclaration","getSampler2DArrayTacticDeclaration","clone","resetSwitchingKernels","existingValue","newOutput","toKernelOutput","newThreadDim","newTexSize","getKernelTextureSize","oldTexSize","oldPrecision","newPrecision","warn","switchKernels","needed","bindFramebuffer","FRAMEBUFFER","updateMaxTexSize","viewport","maxTexSize","delete","_setupOutputTexture","_setupSubOutputTextures","reason","textureSize","isInt","low","medium","high","requiredSize","log2","rangeMax","updateTextureArgumentRefs","prevArg","_refs","mappedTexture","onActivate","previousKernel","int","float","vec2","vec3","vec4","GLTexture","textureType","framebufferTexture2D","COLOR_ATTACHMENT0","TEXTURE_2D","_deleted","Texture","beforeMutate","newTexture","cloneTexture","selectTexture","target","createTexture","texImage2D","internalFormat","textureFormat","copyTexSubImage2D","clear","bindTexture","clearColor","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","deleteTexture","_framebuffer","getRawValueFramebuffer","activeTexture","TEXTURE15","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","WebGLKernel","testExtensions","HeadlessGLKernel","setupFeatureChecks","preserveDrawingBuffer","STACKGL_resize_drawingbuffer","STACKGL_destroy_context","OES_texture_float","OES_texture_float_linear","OES_element_index_uint","WEBGL_draw_buffers","WEBGL_color_buffer_float","getFeatures","getParameter","RENDERER","MAX_DRAW_BUFFERS_WEBGL","MAX_TEXTURE_SIZE","initExtensions","extensions","fallbackRequested","resize","destroyExtensions","KernelValue","onRequestContextHandle","onUpdateValueMismatch","contextHandle","forceUploadEachRun","getSource","updateValue","useLegacyEncoder","onRequestFallback","forceUploadKernelConstants","gpu","addFunction","addNativeFunction","functionToIGPUFunction","splitArgumentTypes","nativeFunctionArguments","nativeFunctionReturnType","Int32Array","getBitRatio","needsConstantTypes","setOptimizeFloatMemory","setDebug","setLoopMaxIterations","setConstantTypes","setFunctions","setNativeFunctions","setInjectedNative","setPipeline","setDimensions","setOutputToTexture","setImmutable","setStrictIntegers","setDynamicOutput","setHardcodeConstants","setDynamicArguments","setUseLegacyEncoder","setWarnVarUsage","getCanvas","getWebGl","setArgumentTypes","setTactic","addSubKernel","removeCanvasReferences","Int8Array","Uint16Array","Int16Array","argumentsTypes","pluginNames","plugin","Constructor","getSignature","getArgumentTypes","sourceString","argumentTypesObject","fragmentShader","E","WebGLFunctionNode","consequentType","alternateType","sanitizeName","castLiteralToFloat","castValueToInteger","castLiteralToInteger","checkAndUpconvertOperator","castValueToFloat","leftType","operatorMap","literalResult","bitwiseResult","checkAndUpconvertBitwiseOperators","foundOperator","initString","initNeedsSemiColon","declarationSets","declarationSet","actualType","markupType","declarationResult","fallingThrough","defaultResult","movingDefaultToEnd","pastFirstIf","cleanName","memberExpressionPropertyMarkup","memberExpressionXYZ","isMathFunction","functionMatch","functionReplace","targetType","subNode","LiteralInteger","WebGLKernelValueBoolean","WebGLKernelValueFloat","WebGLKernelValueInteger","WebGLKernelValueHTMLImage","WebGLKernelValueDynamicHTMLImage","WebGLKernelValueHTMLVideo","WebGLKernelValueDynamicHTMLVideo","WebGLKernelValueSingleInput","WebGLKernelValueDynamicSingleInput","WebGLKernelValueUnsignedInput","WebGLKernelValueDynamicUnsignedInput","WebGLKernelValueMemoryOptimizedNumberTexture","WebGLKernelValueDynamicMemoryOptimizedNumberTexture","WebGLKernelValueNumberTexture","WebGLKernelValueDynamicNumberTexture","WebGLKernelValueSingleArray","WebGLKernelValueDynamicSingleArray","WebGLKernelValueSingleArray1DI","WebGLKernelValueDynamicSingleArray1DI","WebGLKernelValueSingleArray2DI","WebGLKernelValueDynamicSingleArray2DI","WebGLKernelValueSingleArray3DI","WebGLKernelValueDynamicSingleArray3DI","WebGLKernelValueArray2","WebGLKernelValueArray3","WebGLKernelValueArray4","WebGLKernelValueUnsignedArray","WebGLKernelValueDynamicUnsignedArray","kernelValueMaps","unsigned","dynamic","single","lookupKernelValueType","WebGLKernelValue","WebGLKernelArray","checkSize","setup","requestTexture","setupTexture","defineTexture","onRequestTexture","onRequestIndex","dimensionsId","sizeId","setUniform2fv","setUniform3fv","setUniform4fv","setUniform1i","dimensions","setUniform3iv","setUniform2iv","inputTexture","getMemoryOptimizedFloatTextureSize","uploadArrayLength","setShape","getMemoryOptimizedPackedTextureSize","Type","getTransferArrayType","preUploadValue","setUniform1f","inputImage","initialValueConstructor","pixelStorei","UNPACK_FLIP_Y_WEBGL","Uint32Array","Float64Array","sameError","valueDimensions","TranserArrayType","mrud","vertexShader","canvases","maxTexSizes","isContextMatch","WebGLRenderingContext","endianness","systemEndianness","argumentTextureCount","constantTextureCount","fragShader","vertShader","drawBuffersMap","onRequestSwitchKernel","textureCache","programUniformLocationCache","uniform1fCache","uniform1iCache","uniform2fCache","uniform2fvCache","uniform2ivCache","uniform3fvCache","uniform3ivCache","uniform4fvCache","uniform4ivCache","alpha","depth","antialias","pluginsToUse","some","pluginName","canvasIndex","needsArgumentTypes","textureIndexes","TEXTURE0","failureResult","enable","SCISSOR_TEST","getVertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","getFragmentShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","createProgram","attachShader","linkProgram","createFramebuffer","rawValueFramebuffers","vertices","texCoords","texCoordOffset","byteLength","bindBuffer","ARRAY_BUFFER","createBuffer","bufferData","STATIC_DRAW","bufferSubData","aPosLoc","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","aTexCoordLoc","useProgram","setupReturnTypes","scissor","setUniform2f","onBeforeRun","bindRenderbuffer","RENDERBUFFER","_replaceOutputTexture","drawArrays","TRIANGLE_STRIP","_replaceSubOutputTextures","getInternalFormat","getTextureFormat","format","getUniformLocation","uniform1f","uniform1i","value2","cache","uniform2f","uniform2fv","uniform2iv","uniform3fv","uniform3iv","uniform4fv","setUniform4iv","uniform4iv","_getFragShaderArtifactMap","HEADER","_getHeaderString","LOOP_MAX","PLUGINS","_getPluginsString","CONSTANTS","_getConstantsString","DECODE32_ENDIANNESS","_getDecode32EndiannessString","ENCODE32_ENDIANNESS","_getEncode32EndiannessString","DIVIDE_WITH_INTEGER_CHECK","_getDivideWithIntegerCheckString","INJECTED_NATIVE","_getInjectedNative","MAIN_CONSTANTS","_getMainConstantsString","MAIN_ARGUMENTS","_getMainArgumentsString","KERNEL","MAIN_RESULT","FLOAT_TACTIC_DECLARATION","INT_TACTIC_DECLARATION","SAMPLER_2D_TACTIC_DECLARATION","SAMPLER_2D_ARRAY_TACTIC_DECLARATION","_getVertShaderArtifactMap","_getTextureCoordinate","getKernelResultDeclaration","getMainResultKernelPackedPixels","getMainResultSubKernelPackedPixels","channels","channel","getMainResultKernelMemoryOptimizedFloats","getMainResultSubKernelMemoryOptimizedFloats","replaceArtifacts","src","artifact","deleteBuffer","deleteFramebuffer","deleteShader","deleteProgram","textureCacheIndex","idx","kernels","loseContext","WebGL2FunctionNode","WebGL2KernelValueBoolean","WebGL2KernelValueFloat","WebGL2KernelValueInteger","WebGL2KernelValueHTMLImage","WebGL2KernelValueDynamicHTMLImage","WebGL2KernelValueHTMLImageArray","WebGL2KernelValueDynamicHTMLImageArray","WebGL2KernelValueHTMLVideo","WebGL2KernelValueDynamicHTMLVideo","WebGL2KernelValueSingleInput","WebGL2KernelValueDynamicSingleInput","WebGL2KernelValueUnsignedInput","WebGL2KernelValueDynamicUnsignedInput","WebGL2KernelValueMemoryOptimizedNumberTexture","WebGL2KernelValueDynamicMemoryOptimizedNumberTexture","WebGL2KernelValueNumberTexture","WebGL2KernelValueDynamicNumberTexture","WebGL2KernelValueSingleArray","WebGL2KernelValueDynamicSingleArray","WebGL2KernelValueSingleArray1DI","WebGL2KernelValueDynamicSingleArray1DI","WebGL2KernelValueSingleArray2DI","WebGL2KernelValueDynamicSingleArray2DI","WebGL2KernelValueSingleArray3DI","WebGL2KernelValueDynamicSingleArray3DI","WebGL2KernelValueArray2","WebGL2KernelValueArray3","WebGL2KernelValueArray4","WebGL2KernelValueUnsignedArray","WebGL2KernelValueDynamicUnsignedArray","variablePrecision","TEXTURE_2D_ARRAY","texImage3D","xOffset","yOffset","imageDepth","texSubImage3D","RGBA32F","WebGL2Kernel","EXT_color_buffer_float","WebGL2RenderingContext","MAX_DRAW_BUFFERS","R32F","RED","RG32F","RG","REPEAT","texStorage2D","lib","GPU","bindTo","kernelRunShortcut","kernelOrder","kernelTypes","internalKernels","headlessgl","webgl2","webgl","isGPUSupported","isKernelMapSupported","isOffscreenCanvasSupported","Worker","importScripts","isWebGLSupported","isWebGL2Supported","isHeadlessGLSupported","isCanvasSupported","HTMLCanvasElement","isGPUHTMLImageArraySupported","isSinglePrecisionSupported","chooseKernel","ExternalKernel","createKernel","isFunction","devKernel","upgradeDeprecatedCreateKernelSettings","switchableKernels","settingsCopy","fallbackKernel","kernelRun","dynamicArgument","replaceKernel","reasons","_kernel","existingKernel","newKernel","mergedSettings","createKernelMap","argument2Type","combineKernels","injectNative","setTimeout","firstKernel","destroyContext","upgradedSettings","floatOutput","outputToTexture","outputImmutable","webGLKernelValueMaps","webGL2KernelValueMaps","mathRandom","shortcut","accept","replacementKernel","bindKernelToShortcut","allPropertiesOf","substring","__defineGetter__","__defineSetter__","random","FUNCTION_NAME","STRIP_COMMENTS","ARGUMENT_NAMES","_systemEndianness","getSystemEndianness","ArrayBuffer","funcObj","toLowerCase","funcStr","fnStr","isActiveClone","nodeName","texelCount","closestSquareDimensions","sqrt","roundTo","pad","dim","part","byteOffset","lines","props","getOwnPropertyNames","getPrototypeOf","oldName","newName","yResults","xStart","xEnd","zResults","xResults","xResultsMax","XResultsMax","flattened","functionDependencies","flatten","flat","foundSource","flattenedFunctionDependencies","functionDependency","normalizedDeclarations","declarationIndex","propertyIndex","subPropertyIndex","subProperty","elementIndex","splitHTMLImageToRGB","image","rKernel","gKernel","bKernel","aKernel","splitRGBAToCanvases","rgba","visualKernelR","visualKernelG","visualKernelB","visualKernelA","getMinifySafeName","dollarSign","doubleUnderscore","singleUnderscore","math","$031694f85ccd6d01$var$videoelement","getElementById","navigator","mediaDevices","getUserMedia","audio","video","then","stream","srcObject","play","$031694f85ccd6d01$var$loop","catch","$031694f85ccd6d01$var$cfun","compile","FF","fz","evaluate","complex","re","im","$031694f85ccd6d01$var$kernel","videoFrame","myClamp","mult","querySelector","appendChild","requestAnimationFrame"],"version":3,"file":"complexCamera.3b6d2d38.js.map"}